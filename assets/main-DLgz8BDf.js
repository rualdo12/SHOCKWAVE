const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/RewardMap-BrF9Rqhf.js","assets/SHOCKWAVE-style2.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var kD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Gm={exports:{}},Xl={};var x_;function uS(){if(x_)return Xl;x_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:i,key:d,ref:o!==void 0?o:null,props:c}}return Xl.Fragment=e,Xl.jsx=n,Xl.jsxs=n,Xl}var b_;function hS(){return b_||(b_=1,Gm.exports=uS()),Gm.exports}var h=hS(),Km={exports:{}},Se={};var E_;function dS(){if(E_)return Se;E_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.iterator;function D(U){return U===null||typeof U!="object"?null:(U=T&&U[T]||U["@@iterator"],typeof U=="function"?U:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,M={};function X(U,ne,le){this.props=U,this.context=ne,this.refs=M,this.updater=le||P}X.prototype.isReactComponent={},X.prototype.setState=function(U,ne){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ne,"setState")},X.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function Y(){}Y.prototype=X.prototype;function K(U,ne,le){this.props=U,this.context=ne,this.refs=M,this.updater=le||P}var ie=K.prototype=new Y;ie.constructor=K,z(ie,X.prototype),ie.isPureReactComponent=!0;var me=Array.isArray;function xe(){}var j={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function A(U,ne,le){var he=le.ref;return{$$typeof:r,type:U,key:ne,ref:he!==void 0?he:null,props:le}}function k(U,ne){return A(U.type,ne,U.props)}function I(U){return typeof U=="object"&&U!==null&&U.$$typeof===r}function C(U){var ne={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(le){return ne[le]})}var R=/\/+/g;function De(U,ne){return typeof U=="object"&&U!==null&&U.key!=null?C(""+U.key):ne.toString(36)}function mt(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(xe,xe):(U.status="pending",U.then(function(ne){U.status==="pending"&&(U.status="fulfilled",U.value=ne)},function(ne){U.status==="pending"&&(U.status="rejected",U.reason=ne)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function $(U,ne,le,he,we){var Re=typeof U;(Re==="undefined"||Re==="boolean")&&(U=null);var Ue=!1;if(U===null)Ue=!0;else switch(Re){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(U.$$typeof){case r:case e:Ue=!0;break;case x:return Ue=U._init,$(Ue(U._payload),ne,le,he,we)}}if(Ue)return we=we(U),Ue=he===""?"."+De(U,0):he,me(we)?(le="",Ue!=null&&(le=Ue.replace(R,"$&/")+"/"),$(we,ne,le,"",function(Ii){return Ii})):we!=null&&(I(we)&&(we=k(we,le+(we.key==null||U&&U.key===we.key?"":(""+we.key).replace(R,"$&/")+"/")+Ue)),ne.push(we)),1;Ue=0;var Pt=he===""?".":he+":";if(me(U))for(var ot=0;ot<U.length;ot++)he=U[ot],Re=Pt+De(he,ot),Ue+=$(he,ne,le,Re,we);else if(ot=D(U),typeof ot=="function")for(U=ot.call(U),ot=0;!(he=U.next()).done;)he=he.value,Re=Pt+De(he,ot++),Ue+=$(he,ne,le,Re,we);else if(Re==="object"){if(typeof U.then=="function")return $(mt(U),ne,le,he,we);throw ne=String(U),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function oe(U,ne,le){if(U==null)return U;var he=[],we=0;return $(U,he,"","",function(Re){return ne.call(le,Re,we++)}),he}function ye(U){if(U._status===-1){var ne=U._result;ne=ne(),ne.then(function(le){(U._status===0||U._status===-1)&&(U._status=1,U._result=le)},function(le){(U._status===0||U._status===-1)&&(U._status=2,U._result=le)}),U._status===-1&&(U._status=0,U._result=ne)}if(U._status===1)return U._result.default;throw U._result}var He=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Qe={map:oe,forEach:function(U,ne,le){oe(U,function(){ne.apply(this,arguments)},le)},count:function(U){var ne=0;return oe(U,function(){ne++}),ne},toArray:function(U){return oe(U,function(ne){return ne})||[]},only:function(U){if(!I(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Se.Activity=E,Se.Children=Qe,Se.Component=X,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=K,Se.StrictMode=i,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Se.__COMPILER_RUNTIME={__proto__:null,c:function(U){return j.H.useMemoCache(U)}},Se.cache=function(U){return function(){return U.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(U,ne,le){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var he=z({},U.props),we=U.key;if(ne!=null)for(Re in ne.key!==void 0&&(we=""+ne.key),ne)!N.call(ne,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ne.ref===void 0||(he[Re]=ne[Re]);var Re=arguments.length-2;if(Re===1)he.children=le;else if(1<Re){for(var Ue=Array(Re),Pt=0;Pt<Re;Pt++)Ue[Pt]=arguments[Pt+2];he.children=Ue}return A(U.type,we,he)},Se.createContext=function(U){return U={$$typeof:d,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:c,_context:U},U},Se.createElement=function(U,ne,le){var he,we={},Re=null;if(ne!=null)for(he in ne.key!==void 0&&(Re=""+ne.key),ne)N.call(ne,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(we[he]=ne[he]);var Ue=arguments.length-2;if(Ue===1)we.children=le;else if(1<Ue){for(var Pt=Array(Ue),ot=0;ot<Ue;ot++)Pt[ot]=arguments[ot+2];we.children=Pt}if(U&&U.defaultProps)for(he in Ue=U.defaultProps,Ue)we[he]===void 0&&(we[he]=Ue[he]);return A(U,Re,we)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(U){return{$$typeof:p,render:U}},Se.isValidElement=I,Se.lazy=function(U){return{$$typeof:x,_payload:{_status:-1,_result:U},_init:ye}},Se.memo=function(U,ne){return{$$typeof:y,type:U,compare:ne===void 0?null:ne}},Se.startTransition=function(U){var ne=j.T,le={};j.T=le;try{var he=U(),we=j.S;we!==null&&we(le,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(xe,He)}catch(Re){He(Re)}finally{ne!==null&&le.types!==null&&(ne.types=le.types),j.T=ne}},Se.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Se.use=function(U){return j.H.use(U)},Se.useActionState=function(U,ne,le){return j.H.useActionState(U,ne,le)},Se.useCallback=function(U,ne){return j.H.useCallback(U,ne)},Se.useContext=function(U){return j.H.useContext(U)},Se.useDebugValue=function(){},Se.useDeferredValue=function(U,ne){return j.H.useDeferredValue(U,ne)},Se.useEffect=function(U,ne){return j.H.useEffect(U,ne)},Se.useEffectEvent=function(U){return j.H.useEffectEvent(U)},Se.useId=function(){return j.H.useId()},Se.useImperativeHandle=function(U,ne,le){return j.H.useImperativeHandle(U,ne,le)},Se.useInsertionEffect=function(U,ne){return j.H.useInsertionEffect(U,ne)},Se.useLayoutEffect=function(U,ne){return j.H.useLayoutEffect(U,ne)},Se.useMemo=function(U,ne){return j.H.useMemo(U,ne)},Se.useOptimistic=function(U,ne){return j.H.useOptimistic(U,ne)},Se.useReducer=function(U,ne,le){return j.H.useReducer(U,ne,le)},Se.useRef=function(U){return j.H.useRef(U)},Se.useState=function(U){return j.H.useState(U)},Se.useSyncExternalStore=function(U,ne,le){return j.H.useSyncExternalStore(U,ne,le)},Se.useTransition=function(){return j.H.useTransition()},Se.version="19.2.0",Se}var w_;function Gp(){return w_||(w_=1,Km.exports=dS()),Km.exports}var V=Gp();const OD=cS(V);var Ym={exports:{}},$l={},Qm={exports:{}},Wm={};var T_;function fS(){return T_||(T_=1,(function(r){function e($,oe){var ye=$.length;$.push(oe);e:for(;0<ye;){var He=ye-1>>>1,Qe=$[He];if(0<o(Qe,oe))$[He]=oe,$[ye]=Qe,ye=He;else break e}}function n($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var oe=$[0],ye=$.pop();if(ye!==oe){$[0]=ye;e:for(var He=0,Qe=$.length,U=Qe>>>1;He<U;){var ne=2*(He+1)-1,le=$[ne],he=ne+1,we=$[he];if(0>o(le,ye))he<Qe&&0>o(we,le)?($[He]=we,$[he]=ye,He=he):($[He]=le,$[ne]=ye,He=ne);else if(he<Qe&&0>o(we,ye))$[He]=we,$[he]=ye,He=he;else break e}}return oe}function o($,oe){var ye=$.sortIndex-oe.sortIndex;return ye!==0?ye:$.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var g=[],y=[],x=1,E=null,T=3,D=!1,P=!1,z=!1,M=!1,X=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function ie($){for(var oe=n(y);oe!==null;){if(oe.callback===null)i(y);else if(oe.startTime<=$)i(y),oe.sortIndex=oe.expirationTime,e(g,oe);else break;oe=n(y)}}function me($){if(z=!1,ie($),!P)if(n(g)!==null)P=!0,xe||(xe=!0,C());else{var oe=n(y);oe!==null&&mt(me,oe.startTime-$)}}var xe=!1,j=-1,N=5,A=-1;function k(){return M?!0:!(r.unstable_now()-A<N)}function I(){if(M=!1,xe){var $=r.unstable_now();A=$;var oe=!0;try{e:{P=!1,z&&(z=!1,Y(j),j=-1),D=!0;var ye=T;try{t:{for(ie($),E=n(g);E!==null&&!(E.expirationTime>$&&k());){var He=E.callback;if(typeof He=="function"){E.callback=null,T=E.priorityLevel;var Qe=He(E.expirationTime<=$);if($=r.unstable_now(),typeof Qe=="function"){E.callback=Qe,ie($),oe=!0;break t}E===n(g)&&i(g),ie($)}else i(g);E=n(g)}if(E!==null)oe=!0;else{var U=n(y);U!==null&&mt(me,U.startTime-$),oe=!1}}break e}finally{E=null,T=ye,D=!1}oe=void 0}}finally{oe?C():xe=!1}}}var C;if(typeof K=="function")C=function(){K(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,De=R.port2;R.port1.onmessage=I,C=function(){De.postMessage(null)}}else C=function(){X(I,0)};function mt($,oe){j=X(function(){$(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function($){switch(T){case 1:case 2:case 3:var oe=3;break;default:oe=T}var ye=T;T=oe;try{return $()}finally{T=ye}},r.unstable_requestPaint=function(){M=!0},r.unstable_runWithPriority=function($,oe){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ye=T;T=$;try{return oe()}finally{T=ye}},r.unstable_scheduleCallback=function($,oe,ye){var He=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?He+ye:He):ye=He,$){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=ye+Qe,$={id:x++,callback:oe,priorityLevel:$,startTime:ye,expirationTime:Qe,sortIndex:-1},ye>He?($.sortIndex=ye,e(y,$),n(g)===null&&$===n(y)&&(z?(Y(j),j=-1):z=!0,mt(me,ye-He))):($.sortIndex=Qe,e(g,$),P||D||(P=!0,xe||(xe=!0,C()))),$},r.unstable_shouldYield=k,r.unstable_wrapCallback=function($){var oe=T;return function(){var ye=T;T=oe;try{return $.apply(this,arguments)}finally{T=ye}}}})(Wm)),Wm}var S_;function mS(){return S_||(S_=1,Qm.exports=fS()),Qm.exports}var Xm={exports:{}},tn={};var A_;function pS(){if(A_)return tn;A_=1;var r=Gp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,x){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:g,containerInfo:y,implementation:x}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,tn.createPortal=function(g,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,x)},tn.flushSync=function(g){var y=d.T,x=i.p;try{if(d.T=null,i.p=2,g)return g()}finally{d.T=y,i.p=x,i.d.f()}},tn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},tn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},tn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var x=y.as,E=p(x,y.crossOrigin),T=typeof y.integrity=="string"?y.integrity:void 0,D=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:D}):x==="script"&&i.d.X(g,{crossOrigin:E,integrity:T,fetchPriority:D,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},tn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=p(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},tn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,E=p(x,y.crossOrigin);i.d.L(g,x,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},tn.preloadModule=function(g,y){if(typeof g=="string")if(y){var x=p(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},tn.requestFormReset=function(g){i.d.r(g)},tn.unstable_batchedUpdates=function(g,y){return g(y)},tn.useFormState=function(g,y,x){return d.H.useFormState(g,y,x)},tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},tn.version="19.2.0",tn}var N_;function gS(){if(N_)return Xm.exports;N_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Xm.exports=pS(),Xm.exports}var R_;function yS(){if(R_)return $l;R_=1;var r=mS(),e=Gp(),n=gS();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function d(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(i(188))}function y(t){var s=t.alternate;if(!s){if(s=c(t),s===null)throw Error(i(188));return s!==t?null:t}for(var a=t,l=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return g(f),t;if(m===l)return g(f),s;m=m.sibling}throw Error(i(188))}if(a.return!==l.return)a=f,l=m;else{for(var _=!1,w=f.child;w;){if(w===a){_=!0,a=f,l=m;break}if(w===l){_=!0,l=f,a=m;break}w=w.sibling}if(!_){for(w=m.child;w;){if(w===a){_=!0,a=m,l=f;break}if(w===l){_=!0,l=m,a=f;break}w=w.sibling}if(!_)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:s}function x(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=x(t),s!==null)return s;t=t.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),K=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function C(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function De(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case X:return"Profiler";case M:return"StrictMode";case me:return"Suspense";case xe:return"SuspenseList";case A:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case K:return t.displayName||"Context";case Y:return(t._context.displayName||"Context")+".Consumer";case ie:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case j:return s=t.displayName||null,s!==null?s:De(t.type)||"Memo";case N:s=t._payload,t=t._init;try{return De(t(s))}catch{}}return null}var mt=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},He=[],Qe=-1;function U(t){return{current:t}}function ne(t){0>Qe||(t.current=He[Qe],He[Qe]=null,Qe--)}function le(t,s){Qe++,He[Qe]=t.current,t.current=s}var he=U(null),we=U(null),Re=U(null),Ue=U(null);function Pt(t,s){switch(le(Re,s),le(we,t),le(he,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?qv(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=qv(s),t=Fv(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ne(he),le(he,t)}function ot(){ne(he),ne(we),ne(Re)}function Ii(t){t.memoizedState!==null&&le(Ue,t);var s=he.current,a=Fv(s,t.type);s!==a&&(le(we,t),le(he,a))}function Ta(t){we.current===t&&(ne(he),ne(we)),Ue.current===t&&(ne(Ue),Kl._currentValue=ye)}var Sa,Aa;function _s(t){if(Sa===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Sa=s&&s[1]||"",Aa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sa+t+Aa}var Ko=!1;function ji(t,s){if(!t||Ko)return"";Ko=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(W){var G=W}Reflect.construct(t,[],te)}else{try{te.call()}catch(W){G=W}t.call(te.prototype)}}else{try{throw Error()}catch(W){G=W}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(W){if(W&&G&&typeof W.stack=="string")return[W.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),_=m[0],w=m[1];if(_&&w){var O=_.split(`
`),F=w.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===F.length)for(l=O.length-1,f=F.length-1;1<=l&&0<=f&&O[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==F[f]){var J=`
`+O[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=f);break}}}finally{Ko=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?_s(a):""}function Yo(t,s){switch(t.tag){case 26:case 27:case 5:return _s(t.type);case 16:return _s("Lazy");case 13:return t.child!==s&&s!==null?_s("Suspense Fallback"):_s("Suspense");case 19:return _s("SuspenseList");case 0:case 15:return ji(t.type,!1);case 11:return ji(t.type.render,!1);case 1:return ji(t.type,!0);case 31:return _s("Activity");default:return""}}function Qo(t){try{var s="",a=null;do s+=Yo(t,a),a=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var wt=Object.prototype.hasOwnProperty,Mt=r.unstable_scheduleCallback,Cr=r.unstable_cancelCallback,Kd=r.unstable_shouldYield,Xc=r.unstable_requestPaint,on=r.unstable_now,Di=r.unstable_getCurrentPriorityLevel,Wo=r.unstable_ImmediatePriority,Xo=r.unstable_UserBlockingPriority,Ir=r.unstable_NormalPriority,Yd=r.unstable_LowPriority,$c=r.unstable_IdlePriority,Jc=r.log,Zc=r.unstable_setDisableYieldValue,Jn=null,Gt=null;function Vn(t){if(typeof Jc=="function"&&Zc(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Jn,t)}catch{}}var vt=Math.clz32?Math.clz32:tu,eu=Math.log,Na=Math.LN2;function tu(t){return t>>>=0,t===0?32:31-(eu(t)/Na|0)|0}var xs=256,ki=262144,Tt=4194304;function bs(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Es(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,m=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~m,l!==0?f=bs(l):(_&=w,_!==0?f=bs(_):a||(a=w&~t,a!==0&&(f=bs(a))))):(w=l&~m,w!==0?f=bs(w):_!==0?f=bs(_):a||(a=l&~t,a!==0&&(f=bs(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function Zn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Qd(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nu(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function ws(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Oi(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Wd(t,s,a,l,f,m){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,O=t.expirationTimes,F=t.hiddenUpdates;for(a=_&~a;0<a;){var J=31-vt(a),te=1<<J;w[J]=0,O[J]=-1;var G=F[J];if(G!==null)for(F[J]=null,J=0;J<G.length;J++){var W=G[J];W!==null&&(W.lane&=-536870913)}a&=~te}l!==0&&Vi(t,l,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(_&~s))}function Vi(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-vt(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function $o(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-vt(a),f=1<<l;f&s|t[l]&s&&(t[l]|=s),a&=~f}}function Jo(t,s){var a=s&-s;return a=(a&42)!==0?1:Pi(a),(a&(t.suspendedLanes|s))!==0?0:a}function Pi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Zs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function su(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:f_(t.type))}function es(t,s){var a=oe.p;try{return oe.p=t,s()}finally{oe.p=a}}var ts=Math.random().toString(36).slice(2),St="__reactFiber$"+ts,zt="__reactProps$"+ts,Ts="__reactContainer$"+ts,Ra="__reactEvents$"+ts,Xd="__reactListeners$"+ts,ru="__reactHandles$"+ts,iu="__reactResources$"+ts,Ss="__reactMarker$"+ts;function Ca(t){delete t[St],delete t[zt],delete t[Ra],delete t[Xd],delete t[ru]}function As(t){var s=t[St];if(s)return s;for(var a=t.parentNode;a;){if(s=a[Ts]||a[St]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=$v(t);t!==null;){if(a=t[St])return a;t=$v(t)}return s}t=a,a=t.parentNode}return null}function Pn(t){if(t=t[St]||t[Ts]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function xn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function Ns(t){var s=t[iu];return s||(s=t[iu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function At(t){t[Ss]=!0}var Zo=new Set,el={};function Rs(t,s){Cs(t,s),Cs(t+"Capture",s)}function Cs(t,s){for(el[t]=s,t=0;t<s.length;t++)Zo.add(s[t])}var tl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nl={},sl={};function au(t){return wt.call(sl,t)?!0:wt.call(nl,t)?!1:tl.test(t)?sl[t]=!0:(nl[t]=!0,!1)}function Ia(t,s,a){if(au(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function bn(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Nt(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}function Bt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jr(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function rl(t,s,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,m.call(this,_)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function We(t){if(!t._valueTracker){var s=jr(t)?"checked":"value";t._valueTracker=rl(t,s,""+t[s])}}function Mi(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=jr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function Is(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Li=/[\n"\\]/g;function hn(t){return t.replace(Li,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ja(t,s,a,l,f,m,_,w){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),s!=null?_==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Bt(s)):t.value!==""+Bt(s)&&(t.value=""+Bt(s)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),s!=null?il(t,_,Bt(s)):a!=null?il(t,_,Bt(a)):l!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+Bt(w):t.removeAttribute("name")}function ou(t,s,a,l,f,m,_,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){We(t);return}a=a!=null?""+Bt(a):"",s=s!=null?""+Bt(s):a,w||s===t.value||(t.value=s),t.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),We(t)}function il(t,s,a){s==="number"&&Is(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Dr(t,s,a,l){if(t=t.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=s.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Bt(a),s=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}s!==null||t[f].disabled||(s=t[f])}s!==null&&(s.selected=!0)}}function lu(t,s,a){if(s!=null&&(s=""+Bt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Bt(a):""}function kr(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(i(92));if(mt(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Bt(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),We(t)}function dn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function al(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||cu.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function ol(t,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&al(t,f,l)}else for(var m in s)s.hasOwnProperty(m)&&al(t,m,s[m])}function Da(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ka(t){return Or.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ns(){}var ll=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vr=null,js=null;function Ui(t){var s=Pn(t);if(s&&(t=s.stateNode)){var a=t[zt]||null;e:switch(t=s.stateNode,s.type){case"input":if(ja(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var f=l[zt]||null;if(!f)throw Error(i(90));ja(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&Mi(l)}break e;case"textarea":lu(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Dr(t,!!a.multiple,s,!1)}}}var Oa=!1;function Pr(t,s,a){if(Oa)return t(s,a);Oa=!0;try{var l=t(s);return l}finally{if(Oa=!1,(Vr!==null||js!==null)&&(sh(),Vr&&(s=Vr,t=js,js=Vr=null,Ui(s),t)))for(s=0;s<t.length;s++)Ui(t[s])}}function ss(t,s){var a=t.stateNode;if(a===null)return null;var l=a[zt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zi=!1;if(Ln)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){zi=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{zi=!1}var Ds=null,cl=null,Bi=null;function ul(){if(Bi)return Bi;var t,s=cl,a=s.length,l,f="value"in Ds?Ds.value:Ds.textContent,m=f.length;for(t=0;t<a&&s[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&s[a-l]===f[m-l];l++);return Bi=f.slice(t,1<l?1-l:void 0)}function Hi(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function er(){return!0}function rs(){return!1}function Kt(t){function s(a,l,f,m,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?er:rs,this.isPropagationStopped=rs,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),s}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ks=Kt(tr),Mr=E({},tr,{view:0,detail:0}),hl=Kt(Mr),Lr,Va,Os,Pa=E({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ur,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Os&&(Os&&t.type==="mousemove"?(Lr=t.screenX-Os.screenX,Va=t.screenY-Os.screenY):Va=Lr=0,Os=t),Lr)},movementY:function(t){return"movementY"in t?t.movementY:Va}}),dl=Kt(Pa),qi=E({},Pa,{dataTransfer:0}),hu=Kt(qi),du=E({},Mr,{relatedTarget:0}),Fi=Kt(du),fl=E({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),fu=Kt(fl),Ma=E({},tr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mu=Kt(Ma),pu=E({},tr,{data:0}),Vs=Kt(pu),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=vu[t])?!!s[t]:!1}function Ur(){return _u}var ln=E({},Mr,{key:function(t){if(t.key){var s=gu[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Hi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ur,charCode:function(t){return t.type==="keypress"?Hi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xu=Kt(ln),bu=E({},Pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nr=Kt(bu),u=E({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ur}),v=Kt(u),b=E({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Kt(b),H=E({},Pa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Kt(H),re=E({},tr,{newState:0,oldState:0}),Ae=Kt(re),_t=[9,13,27,32],Ge=Ln&&"CompositionEvent"in window,lt=null;Ln&&"documentMode"in document&&(lt=document.documentMode);var Un=Ln&&"TextEvent"in window&&!lt,Ps=Ln&&(!Ge||lt&&8<lt&&11>=lt),is=" ",as=!1;function Gi(t,s){switch(t){case"keyup":return _t.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function La(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ua=!1;function kw(t,s){switch(t){case"compositionend":return La(s);case"keypress":return s.which!==32?null:(as=!0,is);case"textInput":return t=s.data,t===is&&as?null:t;default:return null}}function Ow(t,s){if(Ua)return t==="compositionend"||!Ge&&Gi(t,s)?(t=ul(),Bi=cl=Ds=null,Ua=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ps&&s.locale!=="ko"?null:s.data;default:return null}}var Vw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ey(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Vw[t.type]:s==="textarea"}function ty(t,s,a,l){Vr?js?js.push(l):js=[l]:Vr=l,s=uh(s,"onChange"),0<s.length&&(a=new ks("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var ml=null,pl=null;function Pw(t){Mv(t,0)}function Eu(t){var s=xn(t);if(Mi(s))return t}function ny(t,s){if(t==="change")return s}var sy=!1;if(Ln){var $d;if(Ln){var Jd="oninput"in document;if(!Jd){var ry=document.createElement("div");ry.setAttribute("oninput","return;"),Jd=typeof ry.oninput=="function"}$d=Jd}else $d=!1;sy=$d&&(!document.documentMode||9<document.documentMode)}function iy(){ml&&(ml.detachEvent("onpropertychange",ay),pl=ml=null)}function ay(t){if(t.propertyName==="value"&&Eu(pl)){var s=[];ty(s,pl,t,Mn(t)),Pr(Pw,s)}}function Mw(t,s,a){t==="focusin"?(iy(),ml=s,pl=a,ml.attachEvent("onpropertychange",ay)):t==="focusout"&&iy()}function Lw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eu(pl)}function Uw(t,s){if(t==="click")return Eu(s)}function zw(t,s){if(t==="input"||t==="change")return Eu(s)}function Bw(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var En=typeof Object.is=="function"?Object.is:Bw;function gl(t,s){if(En(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!wt.call(s,f)||!En(t[f],s[f]))return!1}return!0}function oy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ly(t,s){var a=oy(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=oy(a)}}function cy(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?cy(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function uy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Is(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Is(t.document)}return s}function Zd(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var Hw=Ln&&"documentMode"in document&&11>=document.documentMode,za=null,ef=null,yl=null,tf=!1;function hy(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;tf||za==null||za!==Is(l)||(l=za,"selectionStart"in l&&Zd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yl&&gl(yl,l)||(yl=l,l=uh(ef,"onSelect"),0<l.length&&(s=new ks("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=za)))}function Ki(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Ba={animationend:Ki("Animation","AnimationEnd"),animationiteration:Ki("Animation","AnimationIteration"),animationstart:Ki("Animation","AnimationStart"),transitionrun:Ki("Transition","TransitionRun"),transitionstart:Ki("Transition","TransitionStart"),transitioncancel:Ki("Transition","TransitionCancel"),transitionend:Ki("Transition","TransitionEnd")},nf={},dy={};Ln&&(dy=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Yi(t){if(nf[t])return nf[t];if(!Ba[t])return t;var s=Ba[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in dy)return nf[t]=s[a];return t}var fy=Yi("animationend"),my=Yi("animationiteration"),py=Yi("animationstart"),qw=Yi("transitionrun"),Fw=Yi("transitionstart"),Gw=Yi("transitioncancel"),gy=Yi("transitionend"),yy=new Map,sf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sf.push("scrollEnd");function os(t,s){yy.set(t,s),Rs(s,[t])}var wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},zn=[],Ha=0,rf=0;function Tu(){for(var t=Ha,s=rf=Ha=0;s<t;){var a=zn[s];zn[s++]=null;var l=zn[s];zn[s++]=null;var f=zn[s];zn[s++]=null;var m=zn[s];if(zn[s++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}m!==0&&vy(a,f,m)}}function Su(t,s,a,l){zn[Ha++]=t,zn[Ha++]=s,zn[Ha++]=a,zn[Ha++]=l,rf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function af(t,s,a,l){return Su(t,s,a,l),Au(t)}function Qi(t,s){return Su(t,null,null,s),Au(t)}function vy(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&s!==null&&(f=31-vt(a),t=m.hiddenUpdates,l=t[f],l===null?t[f]=[s]:l.push(s),s.lane=a|536870912),m):null}function Au(t){if(50<Ul)throw Ul=0,pm=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var qa={};function Kw(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,s,a,l){return new Kw(t,s,a,l)}function of(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sr(t,s){var a=t.alternate;return a===null?(a=wn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function _y(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Nu(t,s,a,l,f,m){var _=0;if(l=t,typeof t=="function")of(t)&&(_=1);else if(typeof t=="string")_=$T(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case A:return t=wn(31,a,s,f),t.elementType=A,t.lanes=m,t;case z:return Wi(a.children,f,m,s);case M:_=8,f|=24;break;case X:return t=wn(12,a,s,f|2),t.elementType=X,t.lanes=m,t;case me:return t=wn(13,a,s,f),t.elementType=me,t.lanes=m,t;case xe:return t=wn(19,a,s,f),t.elementType=xe,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:_=10;break e;case Y:_=9;break e;case ie:_=11;break e;case j:_=14;break e;case N:_=16,l=null;break e}_=29,a=Error(i(130,t===null?"null":typeof t,"")),l=null}return s=wn(_,a,s,f),s.elementType=t,s.type=l,s.lanes=m,s}function Wi(t,s,a,l){return t=wn(7,t,l,s),t.lanes=a,t}function lf(t,s,a){return t=wn(6,t,null,s),t.lanes=a,t}function xy(t){var s=wn(18,null,null,0);return s.stateNode=t,s}function cf(t,s,a){return s=wn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var by=new WeakMap;function Bn(t,s){if(typeof t=="object"&&t!==null){var a=by.get(t);return a!==void 0?a:(s={value:t,source:s,stack:Qo(s)},by.set(t,s),s)}return{value:t,source:s,stack:Qo(s)}}var Fa=[],Ga=0,Ru=null,vl=0,Hn=[],qn=0,zr=null,Ms=1,Ls="";function rr(t,s){Fa[Ga++]=vl,Fa[Ga++]=Ru,Ru=t,vl=s}function Ey(t,s,a){Hn[qn++]=Ms,Hn[qn++]=Ls,Hn[qn++]=zr,zr=t;var l=Ms;t=Ls;var f=32-vt(l)-1;l&=~(1<<f),a+=1;var m=32-vt(s)+f;if(30<m){var _=f-f%5;m=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ms=1<<32-vt(s)+f|a<<f|l,Ls=m+t}else Ms=1<<m|a<<f|l,Ls=t}function uf(t){t.return!==null&&(rr(t,1),Ey(t,1,0))}function hf(t){for(;t===Ru;)Ru=Fa[--Ga],Fa[Ga]=null,vl=Fa[--Ga],Fa[Ga]=null;for(;t===zr;)zr=Hn[--qn],Hn[qn]=null,Ls=Hn[--qn],Hn[qn]=null,Ms=Hn[--qn],Hn[qn]=null}function wy(t,s){Hn[qn++]=Ms,Hn[qn++]=Ls,Hn[qn++]=zr,Ms=s.id,Ls=s.overflow,zr=t}var Yt=null,rt=null,Le=!1,Br=null,Fn=!1,df=Error(i(519));function Hr(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _l(Bn(s,t)),df}function Ty(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[St]=t,s[zt]=l,a){case"dialog":je("cancel",s),je("close",s);break;case"iframe":case"object":case"embed":je("load",s);break;case"video":case"audio":for(a=0;a<Bl.length;a++)je(Bl[a],s);break;case"source":je("error",s);break;case"img":case"image":case"link":je("error",s),je("load",s);break;case"details":je("toggle",s);break;case"input":je("invalid",s),ou(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":je("invalid",s);break;case"textarea":je("invalid",s),kr(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Bv(s.textContent,a)?(l.popover!=null&&(je("beforetoggle",s),je("toggle",s)),l.onScroll!=null&&je("scroll",s),l.onScrollEnd!=null&&je("scrollend",s),l.onClick!=null&&(s.onclick=ns),s=!0):s=!1,s||Hr(t,!0)}function Sy(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Yt=Yt.return}}function Ka(t){if(t!==Yt)return!1;if(!Le)return Sy(t),Le=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Im(t.type,t.memoizedProps)),a=!a),a&&rt&&Hr(t),Sy(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));rt=Xv(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));rt=Xv(t)}else s===27?(s=rt,ni(t.type)?(t=Vm,Vm=null,rt=t):rt=s):rt=Yt?Kn(t.stateNode.nextSibling):null;return!0}function Xi(){rt=Yt=null,Le=!1}function ff(){var t=Br;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),Br=null),t}function _l(t){Br===null?Br=[t]:Br.push(t)}var mf=U(null),$i=null,ir=null;function qr(t,s,a){le(mf,s._currentValue),s._currentValue=a}function ar(t){t._currentValue=mf.current,ne(mf)}function pf(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function gf(t,s,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=f;for(var O=0;O<s.length;O++)if(w.context===s[O]){m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),pf(m.return,a,t),l||(_=null);break e}m=w.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(i(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),pf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ya(t,s,a,l){t=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var w=f.type;En(f.pendingProps.value,_.value)||(t!==null?t.push(w):t=[w])}}else if(f===Ue.current){if(_=f.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Kl):t=[Kl])}f=f.return}t!==null&&gf(s,t,a,l),s.flags|=262144}function Cu(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ji(t){$i=t,ir=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return Ay($i,t)}function Iu(t,s){return $i===null&&Ji(t),Ay(t,s)}function Ay(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ir===null){if(t===null)throw Error(i(308));ir=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else ir=ir.next=s;return a}var Yw=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},Qw=r.unstable_scheduleCallback,Ww=r.unstable_NormalPriority,Rt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yf(){return{controller:new Yw,data:new Map,refCount:0}}function xl(t){t.refCount--,t.refCount===0&&Qw(Ww,function(){t.controller.abort()})}var bl=null,vf=0,Qa=0,Wa=null;function Xw(t,s){if(bl===null){var a=bl=[];vf=0,Qa=bm(),Wa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return vf++,s.then(Ny,Ny),s}function Ny(){if(--vf===0&&bl!==null){Wa!==null&&(Wa.status="fulfilled");var t=bl;bl=null,Qa=0,Wa=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function $w(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Ry=$.S;$.S=function(t,s){hv=on(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Xw(t,s),Ry!==null&&Ry(t,s)};var Zi=U(null);function _f(){var t=Zi.current;return t!==null?t:st.pooledCache}function ju(t,s){s===null?le(Zi,Zi.current):le(Zi,s.pool)}function Cy(){var t=_f();return t===null?null:{parent:Rt._currentValue,pool:t}}var Xa=Error(i(460)),xf=Error(i(474)),Du=Error(i(542)),ku={then:function(){}};function Iy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function jy(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(ns,ns),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,ky(t),t;default:if(typeof s.status=="string")s.then(ns,ns);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,ky(t),t}throw ta=s,Xa}}function ea(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ta=a,Xa):a}}var ta=null;function Dy(){if(ta===null)throw Error(i(459));var t=ta;return ta=null,t}function ky(t){if(t===Xa||t===Du)throw Error(i(483))}var $a=null,El=0;function Ou(t){var s=El;return El+=1,$a===null&&($a=[]),jy($a,t,s)}function wl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Vu(t,s){throw s.$$typeof===T?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Oy(t){function s(B,L){if(t){var q=B.deletions;q===null?(B.deletions=[L],B.flags|=16):q.push(L)}}function a(B,L){if(!t)return null;for(;L!==null;)s(B,L),L=L.sibling;return null}function l(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function f(B,L){return B=sr(B,L),B.index=0,B.sibling=null,B}function m(B,L,q){return B.index=q,t?(q=B.alternate,q!==null?(q=q.index,q<L?(B.flags|=67108866,L):q):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function _(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function w(B,L,q,ee){return L===null||L.tag!==6?(L=lf(q,B.mode,ee),L.return=B,L):(L=f(L,q),L.return=B,L)}function O(B,L,q,ee){var ge=q.type;return ge===z?J(B,L,q.props.children,ee,q.key):L!==null&&(L.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===N&&ea(ge)===L.type)?(L=f(L,q.props),wl(L,q),L.return=B,L):(L=Nu(q.type,q.key,q.props,null,B.mode,ee),wl(L,q),L.return=B,L)}function F(B,L,q,ee){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=cf(q,B.mode,ee),L.return=B,L):(L=f(L,q.children||[]),L.return=B,L)}function J(B,L,q,ee,ge){return L===null||L.tag!==7?(L=Wi(q,B.mode,ee,ge),L.return=B,L):(L=f(L,q),L.return=B,L)}function te(B,L,q){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=lf(""+L,B.mode,q),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case D:return q=Nu(L.type,L.key,L.props,null,B.mode,q),wl(q,L),q.return=B,q;case P:return L=cf(L,B.mode,q),L.return=B,L;case N:return L=ea(L),te(B,L,q)}if(mt(L)||C(L))return L=Wi(L,B.mode,q,null),L.return=B,L;if(typeof L.then=="function")return te(B,Ou(L),q);if(L.$$typeof===K)return te(B,Iu(B,L),q);Vu(B,L)}return null}function G(B,L,q,ee){var ge=L!==null?L.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ge!==null?null:w(B,L,""+q,ee);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case D:return q.key===ge?O(B,L,q,ee):null;case P:return q.key===ge?F(B,L,q,ee):null;case N:return q=ea(q),G(B,L,q,ee)}if(mt(q)||C(q))return ge!==null?null:J(B,L,q,ee,null);if(typeof q.then=="function")return G(B,L,Ou(q),ee);if(q.$$typeof===K)return G(B,L,Iu(B,q),ee);Vu(B,q)}return null}function W(B,L,q,ee,ge){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return B=B.get(q)||null,w(L,B,""+ee,ge);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case D:return B=B.get(ee.key===null?q:ee.key)||null,O(L,B,ee,ge);case P:return B=B.get(ee.key===null?q:ee.key)||null,F(L,B,ee,ge);case N:return ee=ea(ee),W(B,L,q,ee,ge)}if(mt(ee)||C(ee))return B=B.get(q)||null,J(L,B,ee,ge,null);if(typeof ee.then=="function")return W(B,L,q,Ou(ee),ge);if(ee.$$typeof===K)return W(B,L,q,Iu(L,ee),ge);Vu(L,ee)}return null}function de(B,L,q,ee){for(var ge=null,qe=null,fe=L,Ce=L=0,Oe=null;fe!==null&&Ce<q.length;Ce++){fe.index>Ce?(Oe=fe,fe=null):Oe=fe.sibling;var Fe=G(B,fe,q[Ce],ee);if(Fe===null){fe===null&&(fe=Oe);break}t&&fe&&Fe.alternate===null&&s(B,fe),L=m(Fe,L,Ce),qe===null?ge=Fe:qe.sibling=Fe,qe=Fe,fe=Oe}if(Ce===q.length)return a(B,fe),Le&&rr(B,Ce),ge;if(fe===null){for(;Ce<q.length;Ce++)fe=te(B,q[Ce],ee),fe!==null&&(L=m(fe,L,Ce),qe===null?ge=fe:qe.sibling=fe,qe=fe);return Le&&rr(B,Ce),ge}for(fe=l(fe);Ce<q.length;Ce++)Oe=W(fe,B,Ce,q[Ce],ee),Oe!==null&&(t&&Oe.alternate!==null&&fe.delete(Oe.key===null?Ce:Oe.key),L=m(Oe,L,Ce),qe===null?ge=Oe:qe.sibling=Oe,qe=Oe);return t&&fe.forEach(function(oi){return s(B,oi)}),Le&&rr(B,Ce),ge}function _e(B,L,q,ee){if(q==null)throw Error(i(151));for(var ge=null,qe=null,fe=L,Ce=L=0,Oe=null,Fe=q.next();fe!==null&&!Fe.done;Ce++,Fe=q.next()){fe.index>Ce?(Oe=fe,fe=null):Oe=fe.sibling;var oi=G(B,fe,Fe.value,ee);if(oi===null){fe===null&&(fe=Oe);break}t&&fe&&oi.alternate===null&&s(B,fe),L=m(oi,L,Ce),qe===null?ge=oi:qe.sibling=oi,qe=oi,fe=Oe}if(Fe.done)return a(B,fe),Le&&rr(B,Ce),ge;if(fe===null){for(;!Fe.done;Ce++,Fe=q.next())Fe=te(B,Fe.value,ee),Fe!==null&&(L=m(Fe,L,Ce),qe===null?ge=Fe:qe.sibling=Fe,qe=Fe);return Le&&rr(B,Ce),ge}for(fe=l(fe);!Fe.done;Ce++,Fe=q.next())Fe=W(fe,B,Ce,Fe.value,ee),Fe!==null&&(t&&Fe.alternate!==null&&fe.delete(Fe.key===null?Ce:Fe.key),L=m(Fe,L,Ce),qe===null?ge=Fe:qe.sibling=Fe,qe=Fe);return t&&fe.forEach(function(lS){return s(B,lS)}),Le&&rr(B,Ce),ge}function tt(B,L,q,ee){if(typeof q=="object"&&q!==null&&q.type===z&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case D:e:{for(var ge=q.key;L!==null;){if(L.key===ge){if(ge=q.type,ge===z){if(L.tag===7){a(B,L.sibling),ee=f(L,q.props.children),ee.return=B,B=ee;break e}}else if(L.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===N&&ea(ge)===L.type){a(B,L.sibling),ee=f(L,q.props),wl(ee,q),ee.return=B,B=ee;break e}a(B,L);break}else s(B,L);L=L.sibling}q.type===z?(ee=Wi(q.props.children,B.mode,ee,q.key),ee.return=B,B=ee):(ee=Nu(q.type,q.key,q.props,null,B.mode,ee),wl(ee,q),ee.return=B,B=ee)}return _(B);case P:e:{for(ge=q.key;L!==null;){if(L.key===ge)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){a(B,L.sibling),ee=f(L,q.children||[]),ee.return=B,B=ee;break e}else{a(B,L);break}else s(B,L);L=L.sibling}ee=cf(q,B.mode,ee),ee.return=B,B=ee}return _(B);case N:return q=ea(q),tt(B,L,q,ee)}if(mt(q))return de(B,L,q,ee);if(C(q)){if(ge=C(q),typeof ge!="function")throw Error(i(150));return q=ge.call(q),_e(B,L,q,ee)}if(typeof q.then=="function")return tt(B,L,Ou(q),ee);if(q.$$typeof===K)return tt(B,L,Iu(B,q),ee);Vu(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,L!==null&&L.tag===6?(a(B,L.sibling),ee=f(L,q),ee.return=B,B=ee):(a(B,L),ee=lf(q,B.mode,ee),ee.return=B,B=ee),_(B)):a(B,L)}return function(B,L,q,ee){try{El=0;var ge=tt(B,L,q,ee);return $a=null,ge}catch(fe){if(fe===Xa||fe===Du)throw fe;var qe=wn(29,fe,null,B.mode);return qe.lanes=ee,qe.return=B,qe}finally{}}}var na=Oy(!0),Vy=Oy(!1),Fr=!1;function bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Kr(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Au(t),vy(t,null,a),s}return Su(t,l,s,a),Au(t)}function Tl(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,$o(t,a)}}function wf(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Tf=!1;function Sl(){if(Tf){var t=Wa;if(t!==null)throw t}}function Al(t,s,a,l){Tf=!1;var f=t.updateQueue;Fr=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var O=w,F=O.next;O.next=null,_===null?m=F:_.next=F,_=O;var J=t.alternate;J!==null&&(J=J.updateQueue,w=J.lastBaseUpdate,w!==_&&(w===null?J.firstBaseUpdate=F:w.next=F,J.lastBaseUpdate=O))}if(m!==null){var te=f.baseState;_=0,J=F=O=null,w=m;do{var G=w.lane&-536870913,W=G!==w.lane;if(W?(ke&G)===G:(l&G)===G){G!==0&&G===Qa&&(Tf=!0),J!==null&&(J=J.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var de=t,_e=w;G=s;var tt=a;switch(_e.tag){case 1:if(de=_e.payload,typeof de=="function"){te=de.call(tt,te,G);break e}te=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=_e.payload,G=typeof de=="function"?de.call(tt,te,G):de,G==null)break e;te=E({},te,G);break e;case 2:Fr=!0}}G=w.callback,G!==null&&(t.flags|=64,W&&(t.flags|=8192),W=f.callbacks,W===null?f.callbacks=[G]:W.push(G))}else W={lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},J===null?(F=J=W,O=te):J=J.next=W,_|=G;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;W=w,w=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);J===null&&(O=te),f.baseState=O,f.firstBaseUpdate=F,f.lastBaseUpdate=J,m===null&&(f.shared.lanes=0),$r|=_,t.lanes=_,t.memoizedState=te}}function Py(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function My(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Py(a[t],s)}var Ja=U(null),Pu=U(0);function Ly(t,s){t=pr,le(Pu,t),le(Ja,s),pr=t|s.baseLanes}function Sf(){le(Pu,pr),le(Ja,Ja.current)}function Af(){pr=Pu.current,ne(Ja),ne(Pu)}var Tn=U(null),Gn=null;function Yr(t){var s=t.alternate;le(xt,xt.current&1),le(Tn,t),Gn===null&&(s===null||Ja.current!==null||s.memoizedState!==null)&&(Gn=t)}function Nf(t){le(xt,xt.current),le(Tn,t),Gn===null&&(Gn=t)}function Uy(t){t.tag===22?(le(xt,xt.current),le(Tn,t),Gn===null&&(Gn=t)):Qr()}function Qr(){le(xt,xt.current),le(Tn,Tn.current)}function Sn(t){ne(Tn),Gn===t&&(Gn=null),ne(xt)}var xt=U(0);function Mu(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||km(a)||Om(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var or=0,Ne=null,Ze=null,Ct=null,Lu=!1,Za=!1,sa=!1,Uu=0,Nl=0,eo=null,Jw=0;function pt(){throw Error(i(321))}function Rf(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!En(t[a],s[a]))return!1;return!0}function Cf(t,s,a,l,f,m){return or=m,Ne=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=t===null||t.memoizedState===null?E0:Ff,sa=!1,m=a(l,f),sa=!1,Za&&(m=By(s,a,l,f)),zy(t),m}function zy(t){$.H=Il;var s=Ze!==null&&Ze.next!==null;if(or=0,Ct=Ze=Ne=null,Lu=!1,Nl=0,eo=null,s)throw Error(i(300));t===null||It||(t=t.dependencies,t!==null&&Cu(t)&&(It=!0))}function By(t,s,a,l){Ne=t;var f=0;do{if(Za&&(eo=null),Nl=0,Za=!1,25<=f)throw Error(i(301));if(f+=1,Ct=Ze=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}$.H=w0,m=s(a,l)}while(Za);return m}function Zw(){var t=$.H,s=t.useState()[0];return s=typeof s.then=="function"?Rl(s):s,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ne.flags|=1024),s}function If(){var t=Uu!==0;return Uu=0,t}function jf(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function Df(t){if(Lu){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Lu=!1}or=0,Ct=Ze=Ne=null,Za=!1,Nl=Uu=0,eo=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ne.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function bt(){if(Ze===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var s=Ct===null?Ne.memoizedState:Ct.next;if(s!==null)Ct=s,Ze=t;else{if(t===null)throw Ne.alternate===null?Error(i(467)):Error(i(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Ct===null?Ne.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rl(t){var s=Nl;return Nl+=1,eo===null&&(eo=[]),t=jy(eo,t,s),s=Ne,(Ct===null?s.memoizedState:Ct.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?E0:Ff),t}function Bu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Rl(t);if(t.$$typeof===K)return Qt(t)}throw Error(i(438,String(t)))}function kf(t){var s=null,a=Ne.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=zu(),Ne.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=k;return s.index++,a}function lr(t,s){return typeof s=="function"?s(t):s}function Hu(t){var s=bt();return Of(s,Ze,t)}function Of(t,s,a){var l=t.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var f=t.baseQueue,m=l.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}s.baseQueue=f=m,l.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{s=f.next;var w=_=null,O=null,F=s,J=!1;do{var te=F.lane&-536870913;if(te!==F.lane?(ke&te)===te:(or&te)===te){var G=F.revertLane;if(G===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),te===Qa&&(J=!0);else if((or&G)===G){F=F.next,G===Qa&&(J=!0);continue}else te={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(w=O=te,_=m):O=O.next=te,Ne.lanes|=G,$r|=G;te=F.action,sa&&a(m,te),m=F.hasEagerState?F.eagerState:a(m,te)}else G={lane:te,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(w=O=G,_=m):O=O.next=G,Ne.lanes|=te,$r|=te;F=F.next}while(F!==null&&F!==s);if(O===null?_=m:O.next=w,!En(m,t.memoizedState)&&(It=!0,J&&(a=Wa,a!==null)))throw a;t.memoizedState=m,t.baseState=_,t.baseQueue=O,l.lastRenderedState=m}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Vf(t){var s=bt(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do m=t(m,_.action),_=_.next;while(_!==f);En(m,s.memoizedState)||(It=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function Hy(t,s,a){var l=Ne,f=bt(),m=Le;if(m){if(a===void 0)throw Error(i(407));a=a()}else a=s();var _=!En((Ze||f).memoizedState,a);if(_&&(f.memoizedState=a,It=!0),f=f.queue,Lf(Gy.bind(null,l,f,t),[t]),f.getSnapshot!==s||_||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,to(9,{destroy:void 0},Fy.bind(null,l,f,a,s),null),st===null)throw Error(i(349));m||(or&127)!==0||qy(l,s,a)}return a}function qy(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Ne.updateQueue,s===null?(s=zu(),Ne.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Fy(t,s,a,l){s.value=a,s.getSnapshot=l,Ky(s)&&Yy(t)}function Gy(t,s,a){return a(function(){Ky(s)&&Yy(t)})}function Ky(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!En(t,a)}catch{return!0}}function Yy(t){var s=Qi(t,2);s!==null&&yn(s,t,2)}function Pf(t){var s=cn();if(typeof t=="function"){var a=t;if(t=a(),sa){Vn(!0);try{a()}finally{Vn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:t},s}function Qy(t,s,a,l){return t.baseState=a,Of(t,Ze,typeof l=="function"?l:lr)}function eT(t,s,a,l,f){if(Gu(t))throw Error(i(485));if(t=s.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};$.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,Wy(s,m)):(m.next=a.next,s.pending=a.next=m)}}function Wy(t,s){var a=s.action,l=s.payload,f=t.state;if(s.isTransition){var m=$.T,_={};$.T=_;try{var w=a(f,l),O=$.S;O!==null&&O(_,w),Xy(t,s,w)}catch(F){Mf(t,s,F)}finally{m!==null&&_.types!==null&&(m.types=_.types),$.T=m}}else try{m=a(f,l),Xy(t,s,m)}catch(F){Mf(t,s,F)}}function Xy(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){$y(t,s,l)},function(l){return Mf(t,s,l)}):$y(t,s,a)}function $y(t,s,a){s.status="fulfilled",s.value=a,Jy(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Wy(t,a)))}function Mf(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Jy(s),s=s.next;while(s!==l)}t.action=null}function Jy(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Zy(t,s){return s}function e0(t,s){if(Le){var a=st.formState;if(a!==null){e:{var l=Ne;if(Le){if(rt){t:{for(var f=rt,m=Fn;f.nodeType!==8;){if(!m){f=null;break t}if(f=Kn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){rt=Kn(f.nextSibling),l=f.data==="F!";break e}}Hr(l)}l=!1}l&&(s=a[0])}}return a=cn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zy,lastRenderedState:s},a.queue=l,a=_0.bind(null,Ne,l),l.dispatch=a,l=Pf(!1),m=qf.bind(null,Ne,!1,l.queue),l=cn(),f={state:s,dispatch:null,action:t,pending:null},l.queue=f,a=eT.bind(null,Ne,f,m,a),f.dispatch=a,l.memoizedState=t,[s,a,!1]}function t0(t){var s=bt();return n0(s,Ze,t)}function n0(t,s,a){if(s=Of(t,s,Zy)[0],t=Hu(lr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Rl(s)}catch(_){throw _===Xa?Du:_}else l=s;s=bt();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(Ne.flags|=2048,to(9,{destroy:void 0},tT.bind(null,f,a),null)),[l,m,t]}function tT(t,s){t.action=s}function s0(t){var s=bt(),a=Ze;if(a!==null)return n0(s,a,t);bt(),s=s.memoizedState,a=bt();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function to(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=Ne.updateQueue,s===null&&(s=zu(),Ne.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function r0(){return bt().memoizedState}function qu(t,s,a,l){var f=cn();Ne.flags|=t,f.memoizedState=to(1|s,{destroy:void 0},a,l===void 0?null:l)}function Fu(t,s,a,l){var f=bt();l=l===void 0?null:l;var m=f.memoizedState.inst;Ze!==null&&l!==null&&Rf(l,Ze.memoizedState.deps)?f.memoizedState=to(s,m,a,l):(Ne.flags|=t,f.memoizedState=to(1|s,m,a,l))}function i0(t,s){qu(8390656,8,t,s)}function Lf(t,s){Fu(2048,8,t,s)}function nT(t){Ne.flags|=4;var s=Ne.updateQueue;if(s===null)s=zu(),Ne.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function a0(t){var s=bt().memoizedState;return nT({ref:s,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function o0(t,s){return Fu(4,2,t,s)}function l0(t,s){return Fu(4,4,t,s)}function c0(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function u0(t,s,a){a=a!=null?a.concat([t]):null,Fu(4,4,c0.bind(null,s,t),a)}function Uf(){}function h0(t,s){var a=bt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Rf(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function d0(t,s){var a=bt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Rf(s,l[1]))return l[0];if(l=t(),sa){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[l,s],l}function zf(t,s,a){return a===void 0||(or&1073741824)!==0&&(ke&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=fv(),Ne.lanes|=t,$r|=t,a)}function f0(t,s,a,l){return En(a,s)?a:Ja.current!==null?(t=zf(t,a,l),En(t,s)||(It=!0),t):(or&42)===0||(or&1073741824)!==0&&(ke&261930)===0?(It=!0,t.memoizedState=a):(t=fv(),Ne.lanes|=t,$r|=t,s)}function m0(t,s,a,l,f){var m=oe.p;oe.p=m!==0&&8>m?m:8;var _=$.T,w={};$.T=w,qf(t,!1,s,a);try{var O=f(),F=$.S;if(F!==null&&F(w,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var J=$w(O,l);Cl(t,s,J,Rn(t))}else Cl(t,s,l,Rn(t))}catch(te){Cl(t,s,{then:function(){},status:"rejected",reason:te},Rn())}finally{oe.p=m,_!==null&&w.types!==null&&(_.types=w.types),$.T=_}}function sT(){}function Bf(t,s,a,l){if(t.tag!==5)throw Error(i(476));var f=p0(t).queue;m0(t,f,s,ye,a===null?sT:function(){return g0(t),a(l)})}function p0(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:ye},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function g0(t){var s=p0(t);s.next===null&&(s=t.alternate.memoizedState),Cl(t,s.next.queue,{},Rn())}function Hf(){return Qt(Kl)}function y0(){return bt().memoizedState}function v0(){return bt().memoizedState}function rT(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Rn();t=Gr(a);var l=Kr(s,t,a);l!==null&&(yn(l,s,a),Tl(l,s,a)),s={cache:yf()},t.payload=s;return}s=s.return}}function iT(t,s,a){var l=Rn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Gu(t)?x0(s,a):(a=af(t,s,a,l),a!==null&&(yn(a,t,l),b0(a,s,l)))}function _0(t,s,a){var l=Rn();Cl(t,s,a,l)}function Cl(t,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gu(t))x0(s,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var _=s.lastRenderedState,w=m(_,a);if(f.hasEagerState=!0,f.eagerState=w,En(w,_))return Su(t,s,f,0),st===null&&Tu(),!1}catch{}finally{}if(a=af(t,s,f,l),a!==null)return yn(a,t,l),b0(a,s,l),!0}return!1}function qf(t,s,a,l){if(l={lane:2,revertLane:bm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Gu(t)){if(s)throw Error(i(479))}else s=af(t,a,l,2),s!==null&&yn(s,t,2)}function Gu(t){var s=t.alternate;return t===Ne||s!==null&&s===Ne}function x0(t,s){Za=Lu=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function b0(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,$o(t,a)}}var Il={readContext:Qt,use:Bu,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};Il.useEffectEvent=pt;var E0={readContext:Qt,use:Bu,useCallback:function(t,s){return cn().memoizedState=[t,s===void 0?null:s],t},useContext:Qt,useEffect:i0,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,qu(4194308,4,c0.bind(null,s,t),a)},useLayoutEffect:function(t,s){return qu(4194308,4,t,s)},useInsertionEffect:function(t,s){qu(4,2,t,s)},useMemo:function(t,s){var a=cn();s=s===void 0?null:s;var l=t();if(sa){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=cn();if(a!==void 0){var f=a(s);if(sa){Vn(!0);try{a(s)}finally{Vn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=iT.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var s=cn();return t={current:t},s.memoizedState=t},useState:function(t){t=Pf(t);var s=t.queue,a=_0.bind(null,Ne,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:Uf,useDeferredValue:function(t,s){var a=cn();return zf(a,t,s)},useTransition:function(){var t=Pf(!1);return t=m0.bind(null,Ne,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=Ne,f=cn();if(Le){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),st===null)throw Error(i(349));(ke&127)!==0||qy(l,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,i0(Gy.bind(null,l,m,t),[t]),l.flags|=2048,to(9,{destroy:void 0},Fy.bind(null,l,m,a,s),null),a},useId:function(){var t=cn(),s=st.identifierPrefix;if(Le){var a=Ls,l=Ms;a=(l&~(1<<32-vt(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Uu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Jw++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Hf,useFormState:e0,useActionState:e0,useOptimistic:function(t){var s=cn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=qf.bind(null,Ne,!0,a),a.dispatch=s,[t,s]},useMemoCache:kf,useCacheRefresh:function(){return cn().memoizedState=rT.bind(null,Ne)},useEffectEvent:function(t){var s=cn(),a={impl:t};return s.memoizedState=a,function(){if((Ke&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},Ff={readContext:Qt,use:Bu,useCallback:h0,useContext:Qt,useEffect:Lf,useImperativeHandle:u0,useInsertionEffect:o0,useLayoutEffect:l0,useMemo:d0,useReducer:Hu,useRef:r0,useState:function(){return Hu(lr)},useDebugValue:Uf,useDeferredValue:function(t,s){var a=bt();return f0(a,Ze.memoizedState,t,s)},useTransition:function(){var t=Hu(lr)[0],s=bt().memoizedState;return[typeof t=="boolean"?t:Rl(t),s]},useSyncExternalStore:Hy,useId:y0,useHostTransitionStatus:Hf,useFormState:t0,useActionState:t0,useOptimistic:function(t,s){var a=bt();return Qy(a,Ze,t,s)},useMemoCache:kf,useCacheRefresh:v0};Ff.useEffectEvent=a0;var w0={readContext:Qt,use:Bu,useCallback:h0,useContext:Qt,useEffect:Lf,useImperativeHandle:u0,useInsertionEffect:o0,useLayoutEffect:l0,useMemo:d0,useReducer:Vf,useRef:r0,useState:function(){return Vf(lr)},useDebugValue:Uf,useDeferredValue:function(t,s){var a=bt();return Ze===null?zf(a,t,s):f0(a,Ze.memoizedState,t,s)},useTransition:function(){var t=Vf(lr)[0],s=bt().memoizedState;return[typeof t=="boolean"?t:Rl(t),s]},useSyncExternalStore:Hy,useId:y0,useHostTransitionStatus:Hf,useFormState:s0,useActionState:s0,useOptimistic:function(t,s){var a=bt();return Ze!==null?Qy(a,Ze,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:kf,useCacheRefresh:v0};w0.useEffectEvent=a0;function Gf(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:E({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Kf={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=Rn(),f=Gr(l);f.payload=s,a!=null&&(f.callback=a),s=Kr(t,f,l),s!==null&&(yn(s,t,l),Tl(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=Rn(),f=Gr(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Kr(t,f,l),s!==null&&(yn(s,t,l),Tl(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Rn(),l=Gr(a);l.tag=2,s!=null&&(l.callback=s),s=Kr(t,l,a),s!==null&&(yn(s,t,a),Tl(s,t,a))}};function T0(t,s,a,l,f,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,_):s.prototype&&s.prototype.isPureReactComponent?!gl(a,l)||!gl(f,m):!0}function S0(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&Kf.enqueueReplaceState(s,s.state,null)}function ra(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=E({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function A0(t){wu(t)}function N0(t){console.error(t)}function R0(t){wu(t)}function Ku(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function C0(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Yf(t,s,a){return a=Gr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ku(t,s)},a}function I0(t){return t=Gr(t),t.tag=3,t}function j0(t,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;t.payload=function(){return f(m)},t.callback=function(){C0(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){C0(s,a,l),typeof f!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function aT(t,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Ya(s,a,f,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return Gn===null?rh():a.alternate===null&&gt===0&&(gt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===ku?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),vm(t,l,f)),!1;case 22:return a.flags|=65536,l===ku?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),vm(t,l,f)),!1}throw Error(i(435,a.tag))}return vm(t,l,f),rh(),!1}if(Le)return s=Tn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==df&&(t=Error(i(422),{cause:l}),_l(Bn(t,a)))):(l!==df&&(s=Error(i(423),{cause:l}),_l(Bn(s,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Bn(l,a),f=Yf(t.stateNode,l,f),wf(t,f),gt!==4&&(gt=2)),!1;var m=Error(i(520),{cause:l});if(m=Bn(m,a),Ll===null?Ll=[m]:Ll.push(m),gt!==4&&(gt=2),s===null)return!0;l=Bn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Yf(a.stateNode,l,t),wf(a,t),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Jr===null||!Jr.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=I0(f),j0(f,t,a,l),wf(a,f),!1}a=a.return}while(a!==null);return!1}var Qf=Error(i(461)),It=!1;function Wt(t,s,a,l){s.child=t===null?Vy(s,null,a,l):na(s,t.child,a,l)}function D0(t,s,a,l,f){a=a.render;var m=s.ref;if("ref"in l){var _={};for(var w in l)w!=="ref"&&(_[w]=l[w])}else _=l;return Ji(s),l=Cf(t,s,a,_,m,f),w=If(),t!==null&&!It?(jf(t,s,f),cr(t,s,f)):(Le&&w&&uf(s),s.flags|=1,Wt(t,s,l,f),s.child)}function k0(t,s,a,l,f){if(t===null){var m=a.type;return typeof m=="function"&&!of(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,O0(t,s,m,l,f)):(t=Nu(a.type,null,l,s,s.mode,f),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!nm(t,f)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:gl,a(_,l)&&t.ref===s.ref)return cr(t,s,f)}return s.flags|=1,t=sr(m,l),t.ref=s.ref,t.return=s,s.child=t}function O0(t,s,a,l,f){if(t!==null){var m=t.memoizedProps;if(gl(m,l)&&t.ref===s.ref)if(It=!1,s.pendingProps=l=m,nm(t,f))(t.flags&131072)!==0&&(It=!0);else return s.lanes=t.lanes,cr(t,s,f)}return Wf(t,s,a,l,f)}function V0(t,s,a,l){var f=l.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(l=s.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~m}else l=0,s.child=null;return P0(t,s,m,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&ju(s,m!==null?m.cachePool:null),m!==null?Ly(s,m):Sf(),Uy(s);else return l=s.lanes=536870912,P0(t,s,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(ju(s,m.cachePool),Ly(s,m),Qr(),s.memoizedState=null):(t!==null&&ju(s,null),Sf(),Qr());return Wt(t,s,f,a),s.child}function jl(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function P0(t,s,a,l,f){var m=_f();return m=m===null?null:{parent:Rt._currentValue,pool:m},s.memoizedState={baseLanes:a,cachePool:m},t!==null&&ju(s,null),Sf(),Uy(s),t!==null&&Ya(t,s,l,!0),s.childLanes=f,null}function Yu(t,s){return s=Wu({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function M0(t,s,a){return na(s,t.child,null,a),t=Yu(s,s.pendingProps),t.flags|=2,Sn(s),s.memoizedState=null,t}function oT(t,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=Yu(s,l),s.lanes=536870912,jl(null,t);if(Nf(s),(t=rt)?(t=Wv(t,Fn),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:zr!==null?{id:Ms,overflow:Ls}:null,retryLane:536870912,hydrationErrors:null},a=xy(t),a.return=s,s.child=a,Yt=s,rt=null)):t=null,t===null)throw Hr(s);return s.lanes=536870912,null}return Yu(s,l)}var m=t.memoizedState;if(m!==null){var _=m.dehydrated;if(Nf(s),f)if(s.flags&256)s.flags&=-257,s=M0(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(It||Ya(t,s,a,!1),f=(a&t.childLanes)!==0,It||f){if(l=st,l!==null&&(_=Jo(l,a),_!==0&&_!==m.retryLane))throw m.retryLane=_,Qi(t,_),yn(l,t,_),Qf;rh(),s=M0(t,s,a)}else t=m.treeContext,rt=Kn(_.nextSibling),Yt=s,Le=!0,Br=null,Fn=!1,t!==null&&wy(s,t),s=Yu(s,l),s.flags|=4096;return s}return t=sr(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Qu(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Wf(t,s,a,l,f){return Ji(s),a=Cf(t,s,a,l,void 0,f),l=If(),t!==null&&!It?(jf(t,s,f),cr(t,s,f)):(Le&&l&&uf(s),s.flags|=1,Wt(t,s,a,f),s.child)}function L0(t,s,a,l,f,m){return Ji(s),s.updateQueue=null,a=By(s,l,a,f),zy(t),l=If(),t!==null&&!It?(jf(t,s,m),cr(t,s,m)):(Le&&l&&uf(s),s.flags|=1,Wt(t,s,a,m),s.child)}function U0(t,s,a,l,f){if(Ji(s),s.stateNode===null){var m=qa,_=a.contextType;typeof _=="object"&&_!==null&&(m=Qt(_)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Kf,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},bf(s),_=a.contextType,m.context=typeof _=="object"&&_!==null?Qt(_):qa,m.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Gf(s,a,_,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&Kf.enqueueReplaceState(m,m.state,null),Al(s,l,m,f),Sl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){m=s.stateNode;var w=s.memoizedProps,O=ra(a,w);m.props=O;var F=m.context,J=a.contextType;_=qa,typeof J=="object"&&J!==null&&(_=Qt(J));var te=a.getDerivedStateFromProps;J=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||F!==_)&&S0(s,m,l,_),Fr=!1;var G=s.memoizedState;m.state=G,Al(s,l,m,f),Sl(),F=s.memoizedState,w||G!==F||Fr?(typeof te=="function"&&(Gf(s,a,te,l),F=s.memoizedState),(O=Fr||T0(s,a,O,l,G,F,_))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=F),m.props=l,m.state=F,m.context=_,l=O):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,Ef(t,s),_=s.memoizedProps,J=ra(a,_),m.props=J,te=s.pendingProps,G=m.context,F=a.contextType,O=qa,typeof F=="object"&&F!==null&&(O=Qt(F)),w=a.getDerivedStateFromProps,(F=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==te||G!==O)&&S0(s,m,l,O),Fr=!1,G=s.memoizedState,m.state=G,Al(s,l,m,f),Sl();var W=s.memoizedState;_!==te||G!==W||Fr||t!==null&&t.dependencies!==null&&Cu(t.dependencies)?(typeof w=="function"&&(Gf(s,a,w,l),W=s.memoizedState),(J=Fr||T0(s,a,J,l,G,W,O)||t!==null&&t.dependencies!==null&&Cu(t.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,W,O),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,W,O)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=W),m.props=l,m.state=W,m.context=O,l=J):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(s.flags|=1024),l=!1)}return m=l,Qu(t,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&l?(s.child=na(s,t.child,null,f),s.child=na(s,null,a,f)):Wt(t,s,a,f),s.memoizedState=m.state,t=s.child):t=cr(t,s,f),t}function z0(t,s,a,l){return Xi(),s.flags|=256,Wt(t,s,a,l),s.child}var Xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $f(t){return{baseLanes:t,cachePool:Cy()}}function Jf(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Nn),t}function B0(t,s,a){var l=s.pendingProps,f=!1,m=(s.flags&128)!==0,_;if((_=m)||(_=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,t===null){if(Le){if(f?Yr(s):Qr(),(t=rt)?(t=Wv(t,Fn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:zr!==null?{id:Ms,overflow:Ls}:null,retryLane:536870912,hydrationErrors:null},a=xy(t),a.return=s,s.child=a,Yt=s,rt=null)):t=null,t===null)throw Hr(s);return Om(t)?s.lanes=32:s.lanes=536870912,null}var w=l.children;return l=l.fallback,f?(Qr(),f=s.mode,w=Wu({mode:"hidden",children:w},f),l=Wi(l,f,a,null),w.return=s,l.return=s,w.sibling=l,s.child=w,l=s.child,l.memoizedState=$f(a),l.childLanes=Jf(t,_,a),s.memoizedState=Xf,jl(null,l)):(Yr(s),Zf(s,w))}var O=t.memoizedState;if(O!==null&&(w=O.dehydrated,w!==null)){if(m)s.flags&256?(Yr(s),s.flags&=-257,s=em(t,s,a)):s.memoizedState!==null?(Qr(),s.child=t.child,s.flags|=128,s=null):(Qr(),w=l.fallback,f=s.mode,l=Wu({mode:"visible",children:l.children},f),w=Wi(w,f,a,null),w.flags|=2,l.return=s,w.return=s,l.sibling=w,s.child=l,na(s,t.child,null,a),l=s.child,l.memoizedState=$f(a),l.childLanes=Jf(t,_,a),s.memoizedState=Xf,s=jl(null,l));else if(Yr(s),Om(w)){if(_=w.nextSibling&&w.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(i(419)),l.stack="",l.digest=_,_l({value:l,source:null,stack:null}),s=em(t,s,a)}else if(It||Ya(t,s,a,!1),_=(a&t.childLanes)!==0,It||_){if(_=st,_!==null&&(l=Jo(_,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Qi(t,l),yn(_,t,l),Qf;km(w)||rh(),s=em(t,s,a)}else km(w)?(s.flags|=192,s.child=t.child,s=null):(t=O.treeContext,rt=Kn(w.nextSibling),Yt=s,Le=!0,Br=null,Fn=!1,t!==null&&wy(s,t),s=Zf(s,l.children),s.flags|=4096);return s}return f?(Qr(),w=l.fallback,f=s.mode,O=t.child,F=O.sibling,l=sr(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,F!==null?w=sr(F,w):(w=Wi(w,f,a,null),w.flags|=2),w.return=s,l.return=s,l.sibling=w,s.child=l,jl(null,l),l=s.child,w=t.child.memoizedState,w===null?w=$f(a):(f=w.cachePool,f!==null?(O=Rt._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=Cy(),w={baseLanes:w.baseLanes|a,cachePool:f}),l.memoizedState=w,l.childLanes=Jf(t,_,a),s.memoizedState=Xf,jl(t.child,l)):(Yr(s),a=t.child,t=a.sibling,a=sr(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(_=s.deletions,_===null?(s.deletions=[t],s.flags|=16):_.push(t)),s.child=a,s.memoizedState=null,a)}function Zf(t,s){return s=Wu({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Wu(t,s){return t=wn(22,t,null,s),t.lanes=0,t}function em(t,s,a){return na(s,t.child,null,a),t=Zf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function H0(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),pf(t.return,s,a)}function tm(t,s,a,l,f,m){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:m}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=m)}function q0(t,s,a){var l=s.pendingProps,f=l.revealOrder,m=l.tail;l=l.children;var _=xt.current,w=(_&2)!==0;if(w?(_=_&1|2,s.flags|=128):_&=1,le(xt,_),Wt(t,s,l,a),l=Le?vl:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&H0(t,a,s);else if(t.tag===19)H0(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)t=a.alternate,t!==null&&Mu(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),tm(s,!1,f,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(t=f.alternate,t!==null&&Mu(t)===null){s.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}tm(s,!0,a,null,m,l);break;case"together":tm(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function cr(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),$r|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(Ya(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,a=sr(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=sr(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function nm(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Cu(t)))}function lT(t,s,a){switch(s.tag){case 3:Pt(s,s.stateNode.containerInfo),qr(s,Rt,t.memoizedState.cache),Xi();break;case 27:case 5:Ii(s);break;case 4:Pt(s,s.stateNode.containerInfo);break;case 10:qr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Nf(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Yr(s),s.flags|=128,null):(a&s.child.childLanes)!==0?B0(t,s,a):(Yr(s),t=cr(t,s,a),t!==null?t.sibling:null);Yr(s);break;case 19:var f=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Ya(t,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return q0(t,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(xt,xt.current),l)break;return null;case 22:return s.lanes=0,V0(t,s,a,s.pendingProps);case 24:qr(s,Rt,t.memoizedState.cache)}return cr(t,s,a)}function F0(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)It=!0;else{if(!nm(t,a)&&(s.flags&128)===0)return It=!1,lT(t,s,a);It=(t.flags&131072)!==0}else It=!1,Le&&(s.flags&1048576)!==0&&Ey(s,vl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=ea(s.elementType),s.type=t,typeof t=="function")of(t)?(l=ra(t,l),s.tag=1,s=U0(null,s,t,l,a)):(s.tag=0,s=Wf(null,s,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===ie){s.tag=11,s=D0(null,s,t,l,a);break e}else if(f===j){s.tag=14,s=k0(null,s,t,l,a);break e}}throw s=De(t)||t,Error(i(306,s,""))}}return s;case 0:return Wf(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=ra(l,s.pendingProps),U0(t,s,l,f,a);case 3:e:{if(Pt(s,s.stateNode.containerInfo),t===null)throw Error(i(387));l=s.pendingProps;var m=s.memoizedState;f=m.element,Ef(t,s),Al(s,l,null,a);var _=s.memoizedState;if(l=_.cache,qr(s,Rt,l),l!==m.cache&&gf(s,[Rt],a,!0),Sl(),l=_.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=z0(t,s,l,a);break e}else if(l!==f){f=Bn(Error(i(424)),s),_l(f),s=z0(t,s,l,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rt=Kn(t.firstChild),Yt=s,Le=!0,Br=null,Fn=!0,a=Vy(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Xi(),l===f){s=cr(t,s,a);break e}Wt(t,s,l,a)}s=s.child}return s;case 26:return Qu(t,s),t===null?(a=t_(s.type,null,s.pendingProps,null))?s.memoizedState=a:Le||(a=s.type,t=s.pendingProps,l=hh(Re.current).createElement(a),l[St]=s,l[zt]=t,Xt(l,a,t),At(l),s.stateNode=l):s.memoizedState=t_(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Ii(s),t===null&&Le&&(l=s.stateNode=Jv(s.type,s.pendingProps,Re.current),Yt=s,Fn=!0,f=rt,ni(s.type)?(Vm=f,rt=Kn(l.firstChild)):rt=f),Wt(t,s,s.pendingProps.children,a),Qu(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Le&&((f=l=rt)&&(l=LT(l,s.type,s.pendingProps,Fn),l!==null?(s.stateNode=l,Yt=s,rt=Kn(l.firstChild),Fn=!1,f=!0):f=!1),f||Hr(s)),Ii(s),f=s.type,m=s.pendingProps,_=t!==null?t.memoizedProps:null,l=m.children,Im(f,m)?l=null:_!==null&&Im(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=Cf(t,s,Zw,null,null,a),Kl._currentValue=f),Qu(t,s),Wt(t,s,l,a),s.child;case 6:return t===null&&Le&&((t=a=rt)&&(a=UT(a,s.pendingProps,Fn),a!==null?(s.stateNode=a,Yt=s,rt=null,t=!0):t=!1),t||Hr(s)),null;case 13:return B0(t,s,a);case 4:return Pt(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=na(s,null,l,a):Wt(t,s,l,a),s.child;case 11:return D0(t,s,s.type,s.pendingProps,a);case 7:return Wt(t,s,s.pendingProps,a),s.child;case 8:return Wt(t,s,s.pendingProps.children,a),s.child;case 12:return Wt(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,qr(s,s.type,l.value),Wt(t,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Ji(s),f=Qt(f),l=l(f),s.flags|=1,Wt(t,s,l,a),s.child;case 14:return k0(t,s,s.type,s.pendingProps,a);case 15:return O0(t,s,s.type,s.pendingProps,a);case 19:return q0(t,s,a);case 31:return oT(t,s,a);case 22:return V0(t,s,a,s.pendingProps);case 24:return Ji(s),l=Qt(Rt),t===null?(f=_f(),f===null&&(f=st,m=yf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:l,cache:f},bf(s),qr(s,Rt,f)):((t.lanes&a)!==0&&(Ef(t,s),Al(s,null,null,a),Sl()),f=t.memoizedState,m=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),qr(s,Rt,l)):(l=m.cache,qr(s,Rt,l),l!==f.cache&&gf(s,[Rt],a,!0))),Wt(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ur(t){t.flags|=4}function sm(t,s,a,l,f){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(yv())t.flags|=8192;else throw ta=ku,xf}else t.flags&=-16777217}function G0(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!a_(s))if(yv())t.flags|=8192;else throw ta=ku,xf}function Xu(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?nu():536870912,t.lanes|=s,io|=s)}function Dl(t,s){if(!Le)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function cT(t,s,a){var l=s.pendingProps;switch(hf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(s),null;case 1:return it(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ar(Rt),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ka(s)?ur(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ff())),it(s),null;case 26:var f=s.type,m=s.memoizedState;return t===null?(ur(s),m!==null?(it(s),G0(s,m)):(it(s),sm(s,f,null,l,a))):m?m!==t.memoizedState?(ur(s),it(s),G0(s,m)):(it(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&ur(s),it(s),sm(s,f,t,l,a)),null;case 27:if(Ta(s),a=Re.current,f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&ur(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return it(s),null}t=he.current,Ka(s)?Ty(s):(t=Jv(f,l,a),s.stateNode=t,ur(s))}return it(s),null;case 5:if(Ta(s),f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&ur(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return it(s),null}if(m=he.current,Ka(s))Ty(s);else{var _=hh(Re.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}m[St]=s,m[zt]=l;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=m;e:switch(Xt(m,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ur(s)}}return it(s),sm(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&ur(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(t=Re.current,Ka(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,f=Yt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[St]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Bv(t.nodeValue,a)),t||Hr(s,!0)}else t=hh(t).createTextNode(l),t[St]=s,s.stateNode=t}return it(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(l=Ka(s),a!==null){if(t===null){if(!l)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[St]=s}else Xi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),t=!1}else a=ff(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(Sn(s),s):(Sn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return it(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ka(s),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[St]=s}else Xi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),f=!1}else f=ff(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Sn(s),s):(Sn(s),null)}return Sn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),Xu(s,s.updateQueue),it(s),null);case 4:return ot(),t===null&&Sm(s.stateNode.containerInfo),it(s),null;case 10:return ar(s.type),it(s),null;case 19:if(ne(xt),l=s.memoizedState,l===null)return it(s),null;if(f=(s.flags&128)!==0,m=l.rendering,m===null)if(f)Dl(l,!1);else{if(gt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=Mu(t),m!==null){for(s.flags|=128,Dl(l,!1),t=m.updateQueue,s.updateQueue=t,Xu(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)_y(a,t),a=a.sibling;return le(xt,xt.current&1|2),Le&&rr(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&on()>th&&(s.flags|=128,f=!0,Dl(l,!1),s.lanes=4194304)}else{if(!f)if(t=Mu(m),t!==null){if(s.flags|=128,f=!0,t=t.updateQueue,s.updateQueue=t,Xu(s,t),Dl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Le)return it(s),null}else 2*on()-l.renderingStartTime>th&&a!==536870912&&(s.flags|=128,f=!0,Dl(l,!1),s.lanes=4194304);l.isBackwards?(m.sibling=s.child,s.child=m):(t=l.last,t!==null?t.sibling=m:s.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=on(),t.sibling=null,a=xt.current,le(xt,f?a&1|2:a&1),Le&&rr(s,l.treeForkCount),t):(it(s),null);case 22:case 23:return Sn(s),Af(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(it(s),s.subtreeFlags&6&&(s.flags|=8192)):it(s),a=s.updateQueue,a!==null&&Xu(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&ne(Zi),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ar(Rt),it(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function uT(t,s){switch(hf(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return ar(Rt),ot(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Ta(s),null;case 31:if(s.memoizedState!==null){if(Sn(s),s.alternate===null)throw Error(i(340));Xi()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Sn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Xi()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return ne(xt),null;case 4:return ot(),null;case 10:return ar(s.type),null;case 22:case 23:return Sn(s),Af(),t!==null&&ne(Zi),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return ar(Rt),null;case 25:return null;default:return null}}function K0(t,s){switch(hf(s),s.tag){case 3:ar(Rt),ot();break;case 26:case 27:case 5:Ta(s);break;case 4:ot();break;case 31:s.memoizedState!==null&&Sn(s);break;case 13:Sn(s);break;case 19:ne(xt);break;case 10:ar(s.type);break;case 22:case 23:Sn(s),Af(),t!==null&&ne(Zi);break;case 24:ar(Rt)}}function kl(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var m=a.create,_=a.inst;l=m(),_.destroy=l}a=a.next}while(a!==f)}}catch(w){$e(s,s.return,w)}}function Wr(t,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&t)===t){var _=l.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,f=s;var O=a,F=w;try{F()}catch(J){$e(f,O,J)}}}l=l.next}while(l!==m)}}catch(J){$e(s,s.return,J)}}function Y0(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{My(s,a)}catch(l){$e(t,t.return,l)}}}function Q0(t,s,a){a.props=ra(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$e(t,s,l)}}function Ol(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){$e(t,s,f)}}function Us(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){$e(t,s,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){$e(t,s,f)}else a.current=null}function W0(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){$e(t,t.return,f)}}function rm(t,s,a){try{var l=t.stateNode;DT(l,t.type,a,s),l[zt]=s}catch(f){$e(t,t.return,f)}}function X0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ni(t.type)||t.tag===4}function im(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||X0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ni(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function am(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ns));else if(l!==4&&(l===27&&ni(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(am(t,s,a),t=t.sibling;t!==null;)am(t,s,a),t=t.sibling}function $u(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&ni(t.type)&&(a=t.stateNode),t=t.child,t!==null))for($u(t,s,a),t=t.sibling;t!==null;)$u(t,s,a),t=t.sibling}function $0(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Xt(s,l,a),s[St]=t,s[zt]=a}catch(m){$e(t,t.return,m)}}var hr=!1,jt=!1,om=!1,J0=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function hT(t,s){if(t=t.containerInfo,Rm=vh,t=uy(t),Zd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,w=-1,O=-1,F=0,J=0,te=t,G=null;t:for(;;){for(var W;te!==a||f!==0&&te.nodeType!==3||(w=_+f),te!==m||l!==0&&te.nodeType!==3||(O=_+l),te.nodeType===3&&(_+=te.nodeValue.length),(W=te.firstChild)!==null;)G=te,te=W;for(;;){if(te===t)break t;if(G===a&&++F===f&&(w=_),G===m&&++J===l&&(O=_),(W=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=W}a=w===-1||O===-1?null:{start:w,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Cm={focusedElem:t,selectionRange:a},vh=!1,Ht=s;Ht!==null;)if(s=Ht,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Ht=t;else for(;Ht!==null;){switch(s=Ht,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var de=ra(a.type,f);t=l.getSnapshotBeforeUpdate(de,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){$e(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Dm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Dm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,Ht=t;break}Ht=s.return}}function Z0(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:fr(t,a),l&4&&kl(5,a);break;case 1:if(fr(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(_){$e(a,a.return,_)}else{var f=ra(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(f,s,t.__reactInternalSnapshotBeforeUpdate)}catch(_){$e(a,a.return,_)}}l&64&&Y0(a),l&512&&Ol(a,a.return);break;case 3:if(fr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{My(t,s)}catch(_){$e(a,a.return,_)}}break;case 27:s===null&&l&4&&$0(a);case 26:case 5:fr(t,a),s===null&&l&4&&W0(a),l&512&&Ol(a,a.return);break;case 12:fr(t,a);break;case 31:fr(t,a),l&4&&nv(t,a);break;case 13:fr(t,a),l&4&&sv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=xT.bind(null,a),zT(t,a))));break;case 22:if(l=a.memoizedState!==null||hr,!l){s=s!==null&&s.memoizedState!==null||jt,f=hr;var m=jt;hr=l,(jt=s)&&!m?mr(t,a,(a.subtreeFlags&8772)!==0):fr(t,a),hr=f,jt=m}break;case 30:break;default:fr(t,a)}}function ev(t){var s=t.alternate;s!==null&&(t.alternate=null,ev(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Ca(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,fn=!1;function dr(t,s,a){for(a=a.child;a!==null;)tv(t,s,a),a=a.sibling}function tv(t,s,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Jn,a)}catch{}switch(a.tag){case 26:jt||Us(a,s),dr(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:jt||Us(a,s);var l=ct,f=fn;ni(a.type)&&(ct=a.stateNode,fn=!1),dr(t,s,a),ql(a.stateNode),ct=l,fn=f;break;case 5:jt||Us(a,s);case 6:if(l=ct,f=fn,ct=null,dr(t,s,a),ct=l,fn=f,ct!==null)if(fn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(m){$e(a,s,m)}else try{ct.removeChild(a.stateNode)}catch(m){$e(a,s,m)}break;case 18:ct!==null&&(fn?(t=ct,Yv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),mo(t)):Yv(ct,a.stateNode));break;case 4:l=ct,f=fn,ct=a.stateNode.containerInfo,fn=!0,dr(t,s,a),ct=l,fn=f;break;case 0:case 11:case 14:case 15:Wr(2,a,s),jt||Wr(4,a,s),dr(t,s,a);break;case 1:jt||(Us(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Q0(a,s,l)),dr(t,s,a);break;case 21:dr(t,s,a);break;case 22:jt=(l=jt)||a.memoizedState!==null,dr(t,s,a),jt=l;break;default:dr(t,s,a)}}function nv(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{mo(t)}catch(a){$e(s,s.return,a)}}}function sv(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{mo(t)}catch(a){$e(s,s.return,a)}}function dT(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new J0),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new J0),s;default:throw Error(i(435,t.tag))}}function Ju(t,s){var a=dT(t);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=bT.bind(null,t,l);l.then(f,f)}})}function mn(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=t,_=s,w=_;e:for(;w!==null;){switch(w.tag){case 27:if(ni(w.type)){ct=w.stateNode,fn=!1;break e}break;case 5:ct=w.stateNode,fn=!1;break e;case 3:case 4:ct=w.stateNode.containerInfo,fn=!0;break e}w=w.return}if(ct===null)throw Error(i(160));tv(m,_,f),ct=null,fn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)rv(s,t),s=s.sibling}var ls=null;function rv(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(s,t),pn(t),l&4&&(Wr(3,t,t.return),kl(3,t),Wr(5,t,t.return));break;case 1:mn(s,t),pn(t),l&512&&(jt||a===null||Us(a,a.return)),l&64&&hr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ls;if(mn(s,t),pn(t),l&512&&(jt||a===null||Us(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ss]||m[St]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Xt(m,l,a),m[St]=t,At(m),l=m;break e;case"link":var _=r_("link","href",f).get(l+(a.href||""));if(_){for(var w=0;w<_.length;w++)if(m=_[w],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(w,1);break t}}m=f.createElement(l),Xt(m,l,a),f.head.appendChild(m);break;case"meta":if(_=r_("meta","content",f).get(l+(a.content||""))){for(w=0;w<_.length;w++)if(m=_[w],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(w,1);break t}}m=f.createElement(l),Xt(m,l,a),f.head.appendChild(m);break;default:throw Error(i(468,l))}m[St]=t,At(m),l=m}t.stateNode=l}else i_(f,t.type,t.stateNode);else t.stateNode=s_(f,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?i_(f,t.type,t.stateNode):s_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&rm(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(s,t),pn(t),l&512&&(jt||a===null||Us(a,a.return)),a!==null&&l&4&&rm(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(s,t),pn(t),l&512&&(jt||a===null||Us(a,a.return)),t.flags&32){f=t.stateNode;try{dn(f,"")}catch(de){$e(t,t.return,de)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,rm(t,f,a!==null?a.memoizedProps:f)),l&1024&&(om=!0);break;case 6:if(mn(s,t),pn(t),l&4){if(t.stateNode===null)throw Error(i(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(de){$e(t,t.return,de)}}break;case 3:if(mh=null,f=ls,ls=dh(s.containerInfo),mn(s,t),ls=f,pn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{mo(s.containerInfo)}catch(de){$e(t,t.return,de)}om&&(om=!1,iv(t));break;case 4:l=ls,ls=dh(t.stateNode.containerInfo),mn(s,t),pn(t),ls=l;break;case 12:mn(s,t),pn(t);break;case 31:mn(s,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ju(t,l)));break;case 13:mn(s,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(eh=on()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ju(t,l)));break;case 22:f=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,F=hr,J=jt;if(hr=F||f,jt=J||O,mn(s,t),jt=J,hr=F,pn(t),l&8192)e:for(s=t.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||O||hr||jt||ia(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){O=a=s;try{if(m=O.stateNode,f)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{w=O.stateNode;var te=O.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;w.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(de){$e(O,O.return,de)}}}else if(s.tag===6){if(a===null){O=s;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(de){$e(O,O.return,de)}}}else if(s.tag===18){if(a===null){O=s;try{var W=O.stateNode;f?Qv(W,!0):Qv(O.stateNode,!1)}catch(de){$e(O,O.return,de)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ju(t,a))));break;case 19:mn(s,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ju(t,l)));break;case 30:break;case 21:break;default:mn(s,t),pn(t)}}function pn(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(X0(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,m=im(t);$u(t,m,f);break;case 5:var _=a.stateNode;a.flags&32&&(dn(_,""),a.flags&=-33);var w=im(t);$u(t,w,_);break;case 3:case 4:var O=a.stateNode.containerInfo,F=im(t);am(t,F,O);break;default:throw Error(i(161))}}catch(J){$e(t,t.return,J)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function iv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;iv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function fr(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Z0(t,s.alternate,s),s=s.sibling}function ia(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Wr(4,s,s.return),ia(s);break;case 1:Us(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Q0(s,s.return,a),ia(s);break;case 27:ql(s.stateNode);case 26:case 5:Us(s,s.return),ia(s);break;case 22:s.memoizedState===null&&ia(s);break;case 30:ia(s);break;default:ia(s)}t=t.sibling}}function mr(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=t,m=s,_=m.flags;switch(m.tag){case 0:case 11:case 15:mr(f,m,a),kl(4,m);break;case 1:if(mr(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){$e(l,l.return,F)}if(l=m,f=l.updateQueue,f!==null){var w=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Py(O[f],w)}catch(F){$e(l,l.return,F)}}a&&_&64&&Y0(m),Ol(m,m.return);break;case 27:$0(m);case 26:case 5:mr(f,m,a),a&&l===null&&_&4&&W0(m),Ol(m,m.return);break;case 12:mr(f,m,a);break;case 31:mr(f,m,a),a&&_&4&&nv(f,m);break;case 13:mr(f,m,a),a&&_&4&&sv(f,m);break;case 22:m.memoizedState===null&&mr(f,m,a),Ol(m,m.return);break;case 30:break;default:mr(f,m,a)}s=s.sibling}}function lm(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&xl(a))}function cm(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&xl(t))}function cs(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)av(t,s,a,l),s=s.sibling}function av(t,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:cs(t,s,a,l),f&2048&&kl(9,s);break;case 1:cs(t,s,a,l);break;case 3:cs(t,s,a,l),f&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&xl(t)));break;case 12:if(f&2048){cs(t,s,a,l),t=s.stateNode;try{var m=s.memoizedProps,_=m.id,w=m.onPostCommit;typeof w=="function"&&w(_,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){$e(s,s.return,O)}}else cs(t,s,a,l);break;case 31:cs(t,s,a,l);break;case 13:cs(t,s,a,l);break;case 23:break;case 22:m=s.stateNode,_=s.alternate,s.memoizedState!==null?m._visibility&2?cs(t,s,a,l):Vl(t,s):m._visibility&2?cs(t,s,a,l):(m._visibility|=2,no(t,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&lm(_,s);break;case 24:cs(t,s,a,l),f&2048&&cm(s.alternate,s);break;default:cs(t,s,a,l)}}function no(t,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,_=s,w=a,O=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:no(m,_,w,O,f),kl(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?no(m,_,w,O,f):Vl(m,_):(J._visibility|=2,no(m,_,w,O,f)),f&&F&2048&&lm(_.alternate,_);break;case 24:no(m,_,w,O,f),f&&F&2048&&cm(_.alternate,_);break;default:no(m,_,w,O,f)}s=s.sibling}}function Vl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,f=l.flags;switch(l.tag){case 22:Vl(a,l),f&2048&&lm(l.alternate,l);break;case 24:Vl(a,l),f&2048&&cm(l.alternate,l);break;default:Vl(a,l)}s=s.sibling}}var Pl=8192;function so(t,s,a){if(t.subtreeFlags&Pl)for(t=t.child;t!==null;)ov(t,s,a),t=t.sibling}function ov(t,s,a){switch(t.tag){case 26:so(t,s,a),t.flags&Pl&&t.memoizedState!==null&&JT(a,ls,t.memoizedState,t.memoizedProps);break;case 5:so(t,s,a);break;case 3:case 4:var l=ls;ls=dh(t.stateNode.containerInfo),so(t,s,a),ls=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Pl,Pl=16777216,so(t,s,a),Pl=l):so(t,s,a));break;default:so(t,s,a)}}function lv(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Ml(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ht=l,uv(l,t)}lv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)cv(t),t=t.sibling}function cv(t){switch(t.tag){case 0:case 11:case 15:Ml(t),t.flags&2048&&Wr(9,t,t.return);break;case 3:Ml(t);break;case 12:Ml(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Zu(t)):Ml(t);break;default:Ml(t)}}function Zu(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ht=l,uv(l,t)}lv(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Wr(8,s,s.return),Zu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Zu(s));break;default:Zu(s)}t=t.sibling}}function uv(t,s){for(;Ht!==null;){var a=Ht;switch(a.tag){case 0:case 11:case 15:Wr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ht=l;else e:for(a=t;Ht!==null;){l=Ht;var f=l.sibling,m=l.return;if(ev(l),l===a){Ht=null;break e}if(f!==null){f.return=m,Ht=f;break e}Ht=m}}}var fT={getCacheForType:function(t){var s=Qt(Rt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return Qt(Rt).controller.signal}},mT=typeof WeakMap=="function"?WeakMap:Map,Ke=0,st=null,Ie=null,ke=0,Xe=0,An=null,Xr=!1,ro=!1,um=!1,pr=0,gt=0,$r=0,aa=0,hm=0,Nn=0,io=0,Ll=null,gn=null,dm=!1,eh=0,hv=0,th=1/0,nh=null,Jr=null,Lt=0,Zr=null,ao=null,gr=0,fm=0,mm=null,dv=null,Ul=0,pm=null;function Rn(){return(Ke&2)!==0&&ke!==0?ke&-ke:$.T!==null?bm():su()}function fv(){if(Nn===0)if((ke&536870912)===0||Le){var t=ki;ki<<=1,(ki&3932160)===0&&(ki=262144),Nn=t}else Nn=536870912;return t=Tn.current,t!==null&&(t.flags|=32),Nn}function yn(t,s,a){(t===st&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(oo(t,0),ei(t,ke,Nn,!1)),Oi(t,a),((Ke&2)===0||t!==st)&&(t===st&&((Ke&2)===0&&(aa|=a),gt===4&&ei(t,ke,Nn,!1)),zs(t))}function mv(t,s,a){if((Ke&6)!==0)throw Error(i(327));var l=!a&&(s&127)===0&&(s&t.expiredLanes)===0||Zn(t,s),f=l?yT(t,s):ym(t,s,!0),m=l;do{if(f===0){ro&&!l&&ei(t,s,0,!1);break}else{if(a=t.current.alternate,m&&!pT(a)){f=ym(t,s,!1),m=!1;continue}if(f===2){if(m=s,t.errorRecoveryDisabledLanes&m)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var w=t;f=Ll;var O=w.current.memoizedState.isDehydrated;if(O&&(oo(w,_).flags|=256),_=ym(w,_,!1),_!==2){if(um&&!O){w.errorRecoveryDisabledLanes|=m,aa|=m,f=4;break e}m=gn,gn=f,m!==null&&(gn===null?gn=m:gn.push.apply(gn,m))}f=_}if(m=!1,f!==2)continue}}if(f===1){oo(t,0),ei(t,s,0,!0);break}e:{switch(l=t,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ei(l,s,Nn,!Xr);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=eh+300-on(),10<f)){if(ei(l,s,Nn,!Xr),Es(l,0,!0)!==0)break e;gr=s,l.timeoutHandle=Gv(pv.bind(null,l,a,gn,nh,dm,s,Nn,aa,io,Xr,m,"Throttled",-0,0),f);break e}pv(l,a,gn,nh,dm,s,Nn,aa,io,Xr,m,null,-0,0)}}break}while(!0);zs(t)}function pv(t,s,a,l,f,m,_,w,O,F,J,te,G,W){if(t.timeoutHandle=-1,te=s.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ns},ov(s,m,te);var de=(m&62914560)===m?eh-on():(m&4194048)===m?hv-on():0;if(de=ZT(te,de),de!==null){gr=m,t.cancelPendingCommit=de(wv.bind(null,t,s,m,a,l,f,_,w,O,J,te,null,G,W)),ei(t,m,_,!F);return}}wv(t,s,m,a,l,f,_,w,O)}function pT(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!En(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ei(t,s,a,l){s&=~hm,s&=~aa,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var f=s;0<f;){var m=31-vt(f),_=1<<m;l[m]=-1,f&=~_}a!==0&&Vi(t,a,s)}function sh(){return(Ke&6)===0?(zl(0),!1):!0}function gm(){if(Ie!==null){if(Xe===0)var t=Ie.return;else t=Ie,ir=$i=null,Df(t),$a=null,El=0,t=Ie;for(;t!==null;)K0(t.alternate,t),t=t.return;Ie=null}}function oo(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,VT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),gr=0,gm(),st=t,Ie=a=sr(t.current,null),ke=s,Xe=0,An=null,Xr=!1,ro=Zn(t,s),um=!1,io=Nn=hm=aa=$r=gt=0,gn=Ll=null,dm=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var f=31-vt(l),m=1<<f;s|=t[f],l&=~m}return pr=s,Tu(),a}function gv(t,s){Ne=null,$.H=Il,s===Xa||s===Du?(s=Dy(),Xe=3):s===xf?(s=Dy(),Xe=4):Xe=s===Qf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,An=s,Ie===null&&(gt=1,Ku(t,Bn(s,t.current)))}function yv(){var t=Tn.current;return t===null?!0:(ke&4194048)===ke?Gn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===Gn:!1}function vv(){var t=$.H;return $.H=Il,t===null?Il:t}function _v(){var t=$.A;return $.A=fT,t}function rh(){gt=4,Xr||(ke&4194048)!==ke&&Tn.current!==null||(ro=!0),($r&134217727)===0&&(aa&134217727)===0||st===null||ei(st,ke,Nn,!1)}function ym(t,s,a){var l=Ke;Ke|=2;var f=vv(),m=_v();(st!==t||ke!==s)&&(nh=null,oo(t,s)),s=!1;var _=gt;e:do try{if(Xe!==0&&Ie!==null){var w=Ie,O=An;switch(Xe){case 8:gm(),_=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(s=!0);var F=Xe;if(Xe=0,An=null,lo(t,w,O,F),a&&ro){_=0;break e}break;default:F=Xe,Xe=0,An=null,lo(t,w,O,F)}}gT(),_=gt;break}catch(J){gv(t,J)}while(!0);return s&&t.shellSuspendCounter++,ir=$i=null,Ke=l,$.H=f,$.A=m,Ie===null&&(st=null,ke=0,Tu()),_}function gT(){for(;Ie!==null;)xv(Ie)}function yT(t,s){var a=Ke;Ke|=2;var l=vv(),f=_v();st!==t||ke!==s?(nh=null,th=on()+500,oo(t,s)):ro=Zn(t,s);e:do try{if(Xe!==0&&Ie!==null){s=Ie;var m=An;t:switch(Xe){case 1:Xe=0,An=null,lo(t,s,m,1);break;case 2:case 9:if(Iy(m)){Xe=0,An=null,bv(s);break}s=function(){Xe!==2&&Xe!==9||st!==t||(Xe=7),zs(t)},m.then(s,s);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Iy(m)?(Xe=0,An=null,bv(s)):(Xe=0,An=null,lo(t,s,m,7));break;case 5:var _=null;switch(Ie.tag){case 26:_=Ie.memoizedState;case 5:case 27:var w=Ie;if(_?a_(_):w.stateNode.complete){Xe=0,An=null;var O=w.sibling;if(O!==null)Ie=O;else{var F=w.return;F!==null?(Ie=F,ih(F)):Ie=null}break t}}Xe=0,An=null,lo(t,s,m,5);break;case 6:Xe=0,An=null,lo(t,s,m,6);break;case 8:gm(),gt=6;break e;default:throw Error(i(462))}}vT();break}catch(J){gv(t,J)}while(!0);return ir=$i=null,$.H=l,$.A=f,Ke=a,Ie!==null?0:(st=null,ke=0,Tu(),gt)}function vT(){for(;Ie!==null&&!Kd();)xv(Ie)}function xv(t){var s=F0(t.alternate,t,pr);t.memoizedProps=t.pendingProps,s===null?ih(t):Ie=s}function bv(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=L0(a,s,s.pendingProps,s.type,void 0,ke);break;case 11:s=L0(a,s,s.pendingProps,s.type.render,s.ref,ke);break;case 5:Df(s);default:K0(a,s),s=Ie=_y(s,pr),s=F0(a,s,pr)}t.memoizedProps=t.pendingProps,s===null?ih(t):Ie=s}function lo(t,s,a,l){ir=$i=null,Df(s),$a=null,El=0;var f=s.return;try{if(aT(t,f,s,a,ke)){gt=1,Ku(t,Bn(a,t.current)),Ie=null;return}}catch(m){if(f!==null)throw Ie=f,m;gt=1,Ku(t,Bn(a,t.current)),Ie=null;return}s.flags&32768?(Le||l===1?t=!0:ro||(ke&536870912)!==0?t=!1:(Xr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ev(s,t)):ih(s)}function ih(t){var s=t;do{if((s.flags&32768)!==0){Ev(s,Xr);return}t=s.return;var a=cT(s.alternate,s,pr);if(a!==null){Ie=a;return}if(s=s.sibling,s!==null){Ie=s;return}Ie=s=t}while(s!==null);gt===0&&(gt=5)}function Ev(t,s){do{var a=uT(t.alternate,t);if(a!==null){a.flags&=32767,Ie=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=a}while(t!==null);gt=6,Ie=null}function wv(t,s,a,l,f,m,_,w,O){t.cancelPendingCommit=null;do ah();while(Lt!==0);if((Ke&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=rf,Wd(t,a,m,_,w,O),t===st&&(Ie=st=null,ke=0),ao=s,Zr=t,gr=a,fm=m,mm=f,dv=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ET(Ir,function(){return Rv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=oe.p,oe.p=2,_=Ke,Ke|=4;try{hT(t,s,a)}finally{Ke=_,oe.p=f,$.T=l}}Lt=1,Tv(),Sv(),Av()}}function Tv(){if(Lt===1){Lt=0;var t=Zr,s=ao,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=oe.p;oe.p=2;var f=Ke;Ke|=4;try{rv(s,t);var m=Cm,_=uy(t.containerInfo),w=m.focusedElem,O=m.selectionRange;if(_!==w&&w&&w.ownerDocument&&cy(w.ownerDocument.documentElement,w)){if(O!==null&&Zd(w)){var F=O.start,J=O.end;if(J===void 0&&(J=F),"selectionStart"in w)w.selectionStart=F,w.selectionEnd=Math.min(J,w.value.length);else{var te=w.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var W=G.getSelection(),de=w.textContent.length,_e=Math.min(O.start,de),tt=O.end===void 0?_e:Math.min(O.end,de);!W.extend&&_e>tt&&(_=tt,tt=_e,_e=_);var B=ly(w,_e),L=ly(w,tt);if(B&&L&&(W.rangeCount!==1||W.anchorNode!==B.node||W.anchorOffset!==B.offset||W.focusNode!==L.node||W.focusOffset!==L.offset)){var q=te.createRange();q.setStart(B.node,B.offset),W.removeAllRanges(),_e>tt?(W.addRange(q),W.extend(L.node,L.offset)):(q.setEnd(L.node,L.offset),W.addRange(q))}}}}for(te=[],W=w;W=W.parentNode;)W.nodeType===1&&te.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<te.length;w++){var ee=te[w];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}vh=!!Rm,Cm=Rm=null}finally{Ke=f,oe.p=l,$.T=a}}t.current=s,Lt=2}}function Sv(){if(Lt===2){Lt=0;var t=Zr,s=ao,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=oe.p;oe.p=2;var f=Ke;Ke|=4;try{Z0(t,s.alternate,s)}finally{Ke=f,oe.p=l,$.T=a}}Lt=3}}function Av(){if(Lt===4||Lt===3){Lt=0,Xc();var t=Zr,s=ao,a=gr,l=dv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Lt=5:(Lt=0,ao=Zr=null,Nv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Jr=null),Zs(a),s=s.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Jn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=$.T,f=oe.p,oe.p=2,$.T=null;try{for(var m=t.onRecoverableError,_=0;_<l.length;_++){var w=l[_];m(w.value,{componentStack:w.stack})}}finally{$.T=s,oe.p=f}}(gr&3)!==0&&ah(),zs(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===pm?Ul++:(Ul=0,pm=t):Ul=0,zl(0)}}function Nv(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,xl(s)))}function ah(){return Tv(),Sv(),Av(),Rv()}function Rv(){if(Lt!==5)return!1;var t=Zr,s=fm;fm=0;var a=Zs(gr),l=$.T,f=oe.p;try{oe.p=32>a?32:a,$.T=null,a=mm,mm=null;var m=Zr,_=gr;if(Lt=0,ao=Zr=null,gr=0,(Ke&6)!==0)throw Error(i(331));var w=Ke;if(Ke|=4,cv(m.current),av(m,m.current,_,a),Ke=w,zl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Jn,m)}catch{}return!0}finally{oe.p=f,$.T=l,Nv(t,s)}}function Cv(t,s,a){s=Bn(a,s),s=Yf(t.stateNode,s,2),t=Kr(t,s,2),t!==null&&(Oi(t,2),zs(t))}function $e(t,s,a){if(t.tag===3)Cv(t,t,a);else for(;s!==null;){if(s.tag===3){Cv(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Jr===null||!Jr.has(l))){t=Bn(a,t),a=I0(2),l=Kr(s,a,2),l!==null&&(j0(a,l,s,t),Oi(l,2),zs(l));break}}s=s.return}}function vm(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new mT;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(um=!0,f.add(a),t=_T.bind(null,t,s,a),s.then(t,t))}function _T(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(ke&a)===a&&(gt===4||gt===3&&(ke&62914560)===ke&&300>on()-eh?(Ke&2)===0&&oo(t,0):hm|=a,io===ke&&(io=0)),zs(t)}function Iv(t,s){s===0&&(s=nu()),t=Qi(t,s),t!==null&&(Oi(t,s),zs(t))}function xT(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),Iv(t,a)}function bT(t,s){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),Iv(t,a)}function ET(t,s){return Mt(t,s)}var oh=null,co=null,_m=!1,lh=!1,xm=!1,ti=0;function zs(t){t!==co&&t.next===null&&(co===null?oh=co=t:co=co.next=t),lh=!0,_m||(_m=!0,TT())}function zl(t,s){if(!xm&&lh){xm=!0;do for(var a=!1,l=oh;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var _=l.suspendedLanes,w=l.pingedLanes;m=(1<<31-vt(42|t)+1)-1,m&=f&~(_&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Ov(l,m))}else m=ke,m=Es(l,l===st?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Zn(l,m)||(a=!0,Ov(l,m));l=l.next}while(a);xm=!1}}function wT(){jv()}function jv(){lh=_m=!1;var t=0;ti!==0&&OT()&&(t=ti);for(var s=on(),a=null,l=oh;l!==null;){var f=l.next,m=Dv(l,s);m===0?(l.next=null,a===null?oh=f:a.next=f,f===null&&(co=a)):(a=l,(t!==0||(m&3)!==0)&&(lh=!0)),l=f}Lt!==0&&Lt!==5||zl(t),ti!==0&&(ti=0)}function Dv(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var _=31-vt(m),w=1<<_,O=f[_];O===-1?((w&a)===0||(w&l)!==0)&&(f[_]=Qd(w,s)):O<=s&&(t.expiredLanes|=w),m&=~w}if(s=st,a=ke,a=Es(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Cr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Zn(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&Cr(l),Zs(a)){case 2:case 8:a=Xo;break;case 32:a=Ir;break;case 268435456:a=$c;break;default:a=Ir}return l=kv.bind(null,t),a=Mt(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&Cr(l),t.callbackPriority=2,t.callbackNode=null,2}function kv(t,s){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(ah()&&t.callbackNode!==a)return null;var l=ke;return l=Es(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(mv(t,l,s),Dv(t,on()),t.callbackNode!=null&&t.callbackNode===a?kv.bind(null,t):null)}function Ov(t,s){if(ah())return null;mv(t,s,!0)}function TT(){PT(function(){(Ke&6)!==0?Mt(Wo,wT):jv()})}function bm(){if(ti===0){var t=Qa;t===0&&(t=xs,xs<<=1,(xs&261888)===0&&(xs=256)),ti=t}return ti}function Vv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ka(""+t)}function Pv(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function ST(t,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var m=Vv((f[zt]||null).action),_=l.submitter;_&&(s=(s=_[zt]||null)?Vv(s.formAction):_.getAttribute("formAction"),s!==null&&(m=s,_=null));var w=new ks("action","action",null,l,f);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ti!==0){var O=_?Pv(f,_):new FormData(f);Bf(a,{pending:!0,data:O,method:f.method,action:m},null,O)}}else typeof m=="function"&&(w.preventDefault(),O=_?Pv(f,_):new FormData(f),Bf(a,{pending:!0,data:O,method:f.method,action:m},m,O))},currentTarget:f}]})}}for(var Em=0;Em<sf.length;Em++){var wm=sf[Em],AT=wm.toLowerCase(),NT=wm[0].toUpperCase()+wm.slice(1);os(AT,"on"+NT)}os(fy,"onAnimationEnd"),os(my,"onAnimationIteration"),os(py,"onAnimationStart"),os("dblclick","onDoubleClick"),os("focusin","onFocus"),os("focusout","onBlur"),os(qw,"onTransitionRun"),os(Fw,"onTransitionStart"),os(Gw,"onTransitionCancel"),os(gy,"onTransitionEnd"),Cs("onMouseEnter",["mouseout","mouseover"]),Cs("onMouseLeave",["mouseout","mouseover"]),Cs("onPointerEnter",["pointerout","pointerover"]),Cs("onPointerLeave",["pointerout","pointerover"]),Rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function Mv(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var m=void 0;if(s)for(var _=l.length-1;0<=_;_--){var w=l[_],O=w.instance,F=w.currentTarget;if(w=w.listener,O!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=F;try{m(f)}catch(J){wu(J)}f.currentTarget=null,m=O}else for(_=0;_<l.length;_++){if(w=l[_],O=w.instance,F=w.currentTarget,w=w.listener,O!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=F;try{m(f)}catch(J){wu(J)}f.currentTarget=null,m=O}}}}function je(t,s){var a=s[Ra];a===void 0&&(a=s[Ra]=new Set);var l=t+"__bubble";a.has(l)||(Lv(s,t,2,!1),a.add(l))}function Tm(t,s,a){var l=0;s&&(l|=4),Lv(a,t,l,s)}var ch="_reactListening"+Math.random().toString(36).slice(2);function Sm(t){if(!t[ch]){t[ch]=!0,Zo.forEach(function(a){a!=="selectionchange"&&(RT.has(a)||Tm(a,!1,t),Tm(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[ch]||(s[ch]=!0,Tm("selectionchange",!1,s))}}function Lv(t,s,a,l){switch(f_(s)){case 2:var f=nS;break;case 8:f=sS;break;default:f=zm}a=f.bind(null,s,a,t),f=void 0,!zi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(s,a,{capture:!0,passive:f}):t.addEventListener(s,a,!0):f!==void 0?t.addEventListener(s,a,{passive:f}):t.addEventListener(s,a,!1)}function Am(t,s,a,l,f){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var w=l.stateNode.containerInfo;if(w===f)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;w!==null;){if(_=As(w),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=m=_;continue e}w=w.parentNode}}l=l.return}Pr(function(){var F=m,J=Mn(a),te=[];e:{var G=yy.get(t);if(G!==void 0){var W=ks,de=t;switch(t){case"keypress":if(Hi(a)===0)break e;case"keydown":case"keyup":W=xu;break;case"focusin":de="focus",W=Fi;break;case"focusout":de="blur",W=Fi;break;case"beforeblur":case"afterblur":W=Fi;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=v;break;case fy:case my:case py:W=fu;break;case gy:W=S;break;case"scroll":case"scrollend":W=hl;break;case"wheel":W=Q;break;case"copy":case"cut":case"paste":W=mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=nr;break;case"toggle":case"beforetoggle":W=Ae}var _e=(s&4)!==0,tt=!_e&&(t==="scroll"||t==="scrollend"),B=_e?G!==null?G+"Capture":null:G;_e=[];for(var L=F,q;L!==null;){var ee=L;if(q=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||q===null||B===null||(ee=ss(L,B),ee!=null&&_e.push(Hl(L,ee,q))),tt)break;L=L.return}0<_e.length&&(G=new W(G,de,null,a,J),te.push({event:G,listeners:_e}))}}if((s&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",G&&a!==ll&&(de=a.relatedTarget||a.fromElement)&&(As(de)||de[Ts]))break e;if((W||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,W?(de=a.relatedTarget||a.toElement,W=F,de=de?As(de):null,de!==null&&(tt=c(de),_e=de.tag,de!==tt||_e!==5&&_e!==27&&_e!==6)&&(de=null)):(W=null,de=F),W!==de)){if(_e=dl,ee="onMouseLeave",B="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(_e=nr,ee="onPointerLeave",B="onPointerEnter",L="pointer"),tt=W==null?G:xn(W),q=de==null?G:xn(de),G=new _e(ee,L+"leave",W,a,J),G.target=tt,G.relatedTarget=q,ee=null,As(J)===F&&(_e=new _e(B,L+"enter",de,a,J),_e.target=q,_e.relatedTarget=tt,ee=_e),tt=ee,W&&de)t:{for(_e=CT,B=W,L=de,q=0,ee=B;ee;ee=_e(ee))q++;ee=0;for(var ge=L;ge;ge=_e(ge))ee++;for(;0<q-ee;)B=_e(B),q--;for(;0<ee-q;)L=_e(L),ee--;for(;q--;){if(B===L||L!==null&&B===L.alternate){_e=B;break t}B=_e(B),L=_e(L)}_e=null}else _e=null;W!==null&&Uv(te,G,W,_e,!1),de!==null&&tt!==null&&Uv(te,tt,de,_e,!0)}}e:{if(G=F?xn(F):window,W=G.nodeName&&G.nodeName.toLowerCase(),W==="select"||W==="input"&&G.type==="file")var qe=ny;else if(ey(G))if(sy)qe=zw;else{qe=Lw;var fe=Mw}else W=G.nodeName,!W||W.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Da(F.elementType)&&(qe=ny):qe=Uw;if(qe&&(qe=qe(t,F))){ty(te,qe,a,J);break e}fe&&fe(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&il(G,"number",G.value)}switch(fe=F?xn(F):window,t){case"focusin":(ey(fe)||fe.contentEditable==="true")&&(za=fe,ef=F,yl=null);break;case"focusout":yl=ef=za=null;break;case"mousedown":tf=!0;break;case"contextmenu":case"mouseup":case"dragend":tf=!1,hy(te,a,J);break;case"selectionchange":if(Hw)break;case"keydown":case"keyup":hy(te,a,J)}var Ce;if(Ge)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ua?Gi(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ps&&a.locale!=="ko"&&(Ua||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ua&&(Ce=ul()):(Ds=J,cl="value"in Ds?Ds.value:Ds.textContent,Ua=!0)),fe=uh(F,Oe),0<fe.length&&(Oe=new Vs(Oe,t,null,a,J),te.push({event:Oe,listeners:fe}),Ce?Oe.data=Ce:(Ce=La(a),Ce!==null&&(Oe.data=Ce)))),(Ce=Un?kw(t,a):Ow(t,a))&&(Oe=uh(F,"onBeforeInput"),0<Oe.length&&(fe=new Vs("onBeforeInput","beforeinput",null,a,J),te.push({event:fe,listeners:Oe}),fe.data=Ce)),ST(te,t,F,a,J)}Mv(te,s)})}function Hl(t,s,a){return{instance:t,listener:s,currentTarget:a}}function uh(t,s){for(var a=s+"Capture",l=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ss(t,a),f!=null&&l.unshift(Hl(t,f,m)),f=ss(t,s),f!=null&&l.push(Hl(t,f,m))),t.tag===3)return l;t=t.return}return[]}function CT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Uv(t,s,a,l,f){for(var m=s._reactName,_=[];a!==null&&a!==l;){var w=a,O=w.alternate,F=w.stateNode;if(w=w.tag,O!==null&&O===l)break;w!==5&&w!==26&&w!==27||F===null||(O=F,f?(F=ss(a,m),F!=null&&_.unshift(Hl(a,F,O))):f||(F=ss(a,m),F!=null&&_.push(Hl(a,F,O)))),a=a.return}_.length!==0&&t.push({event:s,listeners:_})}var IT=/\r\n?/g,jT=/\u0000|\uFFFD/g;function zv(t){return(typeof t=="string"?t:""+t).replace(IT,`
`).replace(jT,"")}function Bv(t,s){return s=zv(s),zv(t)===s}function et(t,s,a,l,f,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||dn(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&dn(t,""+l);break;case"className":bn(t,"class",l);break;case"tabIndex":bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(t,a,l);break;case"style":ol(t,l,m);break;case"data":if(s!=="object"){bn(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ka(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&et(t,s,"name",f.name,f,null),et(t,s,"formEncType",f.formEncType,f,null),et(t,s,"formMethod",f.formMethod,f,null),et(t,s,"formTarget",f.formTarget,f,null)):(et(t,s,"encType",f.encType,f,null),et(t,s,"method",f.method,f,null),et(t,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ka(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ns);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ka(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":je("beforetoggle",t),je("toggle",t),Ia(t,"popover",l);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ia(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uu.get(a)||a,Ia(t,a,l))}}function Nm(t,s,a,l,f,m){switch(a){case"style":ol(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof l=="string"?dn(t,l):(typeof l=="number"||typeof l=="bigint")&&dn(t,""+l);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ns);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!el.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=t[zt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(s,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ia(t,a,l)}}}function Xt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:et(t,s,m,_,a,null)}}f&&et(t,s,"srcSet",a.srcSet,a,null),l&&et(t,s,"src",a.src,a,null);return;case"input":je("invalid",t);var w=m=_=f=null,O=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":f=J;break;case"type":_=J;break;case"checked":O=J;break;case"defaultChecked":F=J;break;case"value":m=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:et(t,s,l,J,a,null)}}ou(t,m,w,O,F,_,f,!1);return;case"select":je("invalid",t),l=_=m=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":_=w;break;case"multiple":l=w;default:et(t,s,f,w,a,null)}s=m,a=_,t.multiple=!!l,s!=null?Dr(t,!!l,s,!1):a!=null&&Dr(t,!!l,a,!0);return;case"textarea":je("invalid",t),m=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(w=a[_],w!=null))switch(_){case"value":l=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:et(t,s,_,w,a,null)}kr(t,l,f,m);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(t,s,O,l,a,null)}return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(l=0;l<Bl.length;l++)je(Bl[l],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:et(t,s,F,l,a,null)}return;default:if(Da(s)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&Nm(t,s,J,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&et(t,s,w,l,a,null))}function DT(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,w=null,O=null,F=null,J=null;for(W in a){var te=a[W];if(a.hasOwnProperty(W)&&te!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":O=te;default:l.hasOwnProperty(W)||et(t,s,W,null,l,te)}}for(var G in l){var W=l[G];if(te=a[G],l.hasOwnProperty(G)&&(W!=null||te!=null))switch(G){case"type":m=W;break;case"name":f=W;break;case"checked":F=W;break;case"defaultChecked":J=W;break;case"value":_=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:W!==te&&et(t,s,G,W,l,te)}}ja(t,_,w,O,F,J,m,f);return;case"select":W=_=w=G=null;for(m in a)if(O=a[m],a.hasOwnProperty(m)&&O!=null)switch(m){case"value":break;case"multiple":W=O;default:l.hasOwnProperty(m)||et(t,s,m,null,l,O)}for(f in l)if(m=l[f],O=a[f],l.hasOwnProperty(f)&&(m!=null||O!=null))switch(f){case"value":G=m;break;case"defaultValue":w=m;break;case"multiple":_=m;default:m!==O&&et(t,s,f,m,l,O)}s=w,a=_,l=W,G!=null?Dr(t,!!a,G,!1):!!l!=!!a&&(s!=null?Dr(t,!!a,s,!0):Dr(t,!!a,a?[]:"",!1));return;case"textarea":W=G=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:et(t,s,w,null,l,f)}for(_ in l)if(f=l[_],m=a[_],l.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":G=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&et(t,s,_,f,l,m)}lu(t,G,W);return;case"option":for(var de in a)if(G=a[de],a.hasOwnProperty(de)&&G!=null&&!l.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:et(t,s,de,null,l,G)}for(O in l)if(G=l[O],W=a[O],l.hasOwnProperty(O)&&G!==W&&(G!=null||W!=null))switch(O){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:et(t,s,O,G,l,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)G=a[_e],a.hasOwnProperty(_e)&&G!=null&&!l.hasOwnProperty(_e)&&et(t,s,_e,null,l,G);for(F in l)if(G=l[F],W=a[F],l.hasOwnProperty(F)&&G!==W&&(G!=null||W!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,s));break;default:et(t,s,F,G,l,W)}return;default:if(Da(s)){for(var tt in a)G=a[tt],a.hasOwnProperty(tt)&&G!==void 0&&!l.hasOwnProperty(tt)&&Nm(t,s,tt,void 0,l,G);for(J in l)G=l[J],W=a[J],!l.hasOwnProperty(J)||G===W||G===void 0&&W===void 0||Nm(t,s,J,G,l,W);return}}for(var B in a)G=a[B],a.hasOwnProperty(B)&&G!=null&&!l.hasOwnProperty(B)&&et(t,s,B,null,l,G);for(te in l)G=l[te],W=a[te],!l.hasOwnProperty(te)||G===W||G==null&&W==null||et(t,s,te,G,l,W)}function Hv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],m=f.transferSize,_=f.initiatorType,w=f.duration;if(m&&w&&Hv(_)){for(_=0,w=f.responseEnd,l+=1;l<a.length;l++){var O=a[l],F=O.startTime;if(F>w)break;var J=O.transferSize,te=O.initiatorType;J&&Hv(te)&&(O=O.responseEnd,_+=J*(O<w?1:(w-F)/(O-F)))}if(--l,s+=8*(m+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Rm=null,Cm=null;function hh(t){return t.nodeType===9?t:t.ownerDocument}function qv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fv(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Im(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var jm=null;function OT(){var t=window.event;return t&&t.type==="popstate"?t===jm?!1:(jm=t,!0):(jm=null,!1)}var Gv=typeof setTimeout=="function"?setTimeout:void 0,VT=typeof clearTimeout=="function"?clearTimeout:void 0,Kv=typeof Promise=="function"?Promise:void 0,PT=typeof queueMicrotask=="function"?queueMicrotask:typeof Kv<"u"?function(t){return Kv.resolve(null).then(t).catch(MT)}:Gv;function MT(t){setTimeout(function(){throw t})}function ni(t){return t==="head"}function Yv(t,s){var a=s,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),mo(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")ql(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,ql(a);for(var m=a.firstChild;m;){var _=m.nextSibling,w=m.nodeName;m[Ss]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=_}}else a==="body"&&ql(t.ownerDocument.body);a=f}while(a);mo(s)}function Qv(t,s){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Dm(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Dm(a),Ca(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function LT(t,s,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ss])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function UT(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Kn(t.nextSibling),t===null))return null;return t}function Wv(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Kn(t.nextSibling),t===null))return null;return t}function km(t){return t.data==="$?"||t.data==="$~"}function Om(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function zT(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Kn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Vm=null;function Xv(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return Kn(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function $v(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function Jv(t,s,a){switch(s=hh(a),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function ql(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Ca(t)}var Yn=new Map,Zv=new Set;function dh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var yr=oe.d;oe.d={f:BT,r:HT,D:qT,C:FT,L:GT,m:KT,X:QT,S:YT,M:WT};function BT(){var t=yr.f(),s=sh();return t||s}function HT(t){var s=Pn(t);s!==null&&s.tag===5&&s.type==="form"?g0(s):yr.r(t)}var uo=typeof document>"u"?null:document;function e_(t,s,a){var l=uo;if(l&&typeof s=="string"&&s){var f=hn(s);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Zv.has(f)||(Zv.add(f),t={rel:t,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Xt(s,"link",t),At(s),l.head.appendChild(s)))}}function qT(t){yr.D(t),e_("dns-prefetch",t,null)}function FT(t,s){yr.C(t,s),e_("preconnect",t,s)}function GT(t,s,a){yr.L(t,s,a);var l=uo;if(l&&t&&s){var f='link[rel="preload"][as="'+hn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+hn(a.imageSizes)+'"]')):f+='[href="'+hn(t)+'"]';var m=f;switch(s){case"style":m=ho(t);break;case"script":m=fo(t)}Yn.has(m)||(t=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Yn.set(m,t),l.querySelector(f)!==null||s==="style"&&l.querySelector(Fl(m))||s==="script"&&l.querySelector(Gl(m))||(s=l.createElement("link"),Xt(s,"link",t),At(s),l.head.appendChild(s)))}}function KT(t,s){yr.m(t,s);var a=uo;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(t)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=fo(t)}if(!Yn.has(m)&&(t=E({rel:"modulepreload",href:t},s),Yn.set(m,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Gl(m)))return}l=a.createElement("link"),Xt(l,"link",t),At(l),a.head.appendChild(l)}}}function YT(t,s,a){yr.S(t,s,a);var l=uo;if(l&&t){var f=Ns(l).hoistableStyles,m=ho(t);s=s||"default";var _=f.get(m);if(!_){var w={loading:0,preload:null};if(_=l.querySelector(Fl(m)))w.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Yn.get(m))&&Pm(t,a);var O=_=l.createElement("link");At(O),Xt(O,"link",t),O._p=new Promise(function(F,J){O.onload=F,O.onerror=J}),O.addEventListener("load",function(){w.loading|=1}),O.addEventListener("error",function(){w.loading|=2}),w.loading|=4,fh(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:w},f.set(m,_)}}}function QT(t,s){yr.X(t,s);var a=uo;if(a&&t){var l=Ns(a).hoistableScripts,f=fo(t),m=l.get(f);m||(m=a.querySelector(Gl(f)),m||(t=E({src:t,async:!0},s),(s=Yn.get(f))&&Mm(t,s),m=a.createElement("script"),At(m),Xt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function WT(t,s){yr.M(t,s);var a=uo;if(a&&t){var l=Ns(a).hoistableScripts,f=fo(t),m=l.get(f);m||(m=a.querySelector(Gl(f)),m||(t=E({src:t,async:!0,type:"module"},s),(s=Yn.get(f))&&Mm(t,s),m=a.createElement("script"),At(m),Xt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function t_(t,s,a,l){var f=(f=Re.current)?dh(f):null;if(!f)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=ho(a.href),a=Ns(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ho(a.href);var m=Ns(f).hoistableStyles,_=m.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,_),(m=f.querySelector(Fl(t)))&&!m._p&&(_.instance=m,_.state.loading=5),Yn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yn.set(t,a),m||XT(f,t,a,_.state))),s&&l===null)throw Error(i(528,""));return _}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=fo(a),a=Ns(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function ho(t){return'href="'+hn(t)+'"'}function Fl(t){return'link[rel="stylesheet"]['+t+"]"}function n_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function XT(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Xt(s,"link",a),At(s),t.head.appendChild(s))}function fo(t){return'[src="'+hn(t)+'"]'}function Gl(t){return"script[async]"+t}function s_(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+hn(a.href)+'"]');if(l)return s.instance=l,At(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),Xt(l,"style",f),fh(l,a.precedence,t),s.instance=l;case"stylesheet":f=ho(a.href);var m=t.querySelector(Fl(f));if(m)return s.state.loading|=4,s.instance=m,At(m),m;l=n_(a),(f=Yn.get(f))&&Pm(l,f),m=(t.ownerDocument||t).createElement("link"),At(m);var _=m;return _._p=new Promise(function(w,O){_.onload=w,_.onerror=O}),Xt(m,"link",l),s.state.loading|=4,fh(m,a.precedence,t),s.instance=m;case"script":return m=fo(a.src),(f=t.querySelector(Gl(m)))?(s.instance=f,At(f),f):(l=a,(f=Yn.get(m))&&(l=E({},a),Mm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),At(f),Xt(f,"link",l),t.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,fh(l,a.precedence,t));return s.instance}function fh(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,_=0;_<l.length;_++){var w=l[_];if(w.dataset.precedence===s)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Pm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Mm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var mh=null;function r_(t,s,a){if(mh===null){var l=new Map,f=mh=new Map;f.set(a,l)}else f=mh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[Ss]||m[St]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(s)||"";_=t+_;var w=l.get(_);w?w.push(m):l.set(_,[m])}}return l}function i_(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function $T(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function a_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function JT(t,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=ho(l.href),m=s.querySelector(Fl(f));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=ph.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=m,At(m);return}m=s.ownerDocument||s,l=n_(l),(f=Yn.get(f))&&Pm(l,f),m=m.createElement("link"),At(m);var _=m;_._p=new Promise(function(w,O){_.onload=w,_.onerror=O}),Xt(m,"link",l),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ph.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var Lm=0;function ZT(t,s){return t.stylesheets&&t.count===0&&yh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&yh(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&Lm===0&&(Lm=62500*kT());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&yh(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Lm?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function ph(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var gh=null;function yh(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,gh=new Map,s.forEach(eS,t),gh=null,ph.call(t))}function eS(t,s){if(!(s.state.loading&4)){var a=gh.get(t);if(a)var l=a.get(null);else{a=new Map,gh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=s.instance,_=f.getAttribute("data-precedence"),m=a.get(_)||l,m===l&&a.set(null,f),a.set(_,f),this.count++,l=ph.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),s.state.loading|=4}}var Kl={$$typeof:K,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function tS(t,s,a,l,f,m,_,w,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ws(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ws(0),this.hiddenUpdates=ws(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function o_(t,s,a,l,f,m,_,w,O,F,J,te){return t=new tS(t,s,a,_,O,F,J,te,w),s=1,m===!0&&(s|=24),m=wn(3,null,null,s),t.current=m,m.stateNode=t,s=yf(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},bf(m),t}function l_(t){return t?(t=qa,t):qa}function c_(t,s,a,l,f,m){f=l_(f),l.context===null?l.context=f:l.pendingContext=f,l=Gr(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Kr(t,l,s),a!==null&&(yn(a,t,s),Tl(a,t,s))}function u_(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Um(t,s){u_(t,s),(t=t.alternate)&&u_(t,s)}function h_(t){if(t.tag===13||t.tag===31){var s=Qi(t,67108864);s!==null&&yn(s,t,67108864),Um(t,67108864)}}function d_(t){if(t.tag===13||t.tag===31){var s=Rn();s=Pi(s);var a=Qi(t,s);a!==null&&yn(a,t,s),Um(t,s)}}var vh=!0;function nS(t,s,a,l){var f=$.T;$.T=null;var m=oe.p;try{oe.p=2,zm(t,s,a,l)}finally{oe.p=m,$.T=f}}function sS(t,s,a,l){var f=$.T;$.T=null;var m=oe.p;try{oe.p=8,zm(t,s,a,l)}finally{oe.p=m,$.T=f}}function zm(t,s,a,l){if(vh){var f=Bm(l);if(f===null)Am(t,s,l,_h,a),m_(t,l);else if(iS(f,t,s,a,l))l.stopPropagation();else if(m_(t,l),s&4&&-1<rS.indexOf(t)){for(;f!==null;){var m=Pn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=bs(m.pendingLanes);if(_!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var O=1<<31-vt(_);w.entanglements[1]|=O,_&=~O}zs(m),(Ke&6)===0&&(th=on()+500,zl(0))}}break;case 31:case 13:w=Qi(m,2),w!==null&&yn(w,m,2),sh(),Um(m,2)}if(m=Bm(l),m===null&&Am(t,s,l,_h,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Am(t,s,l,null,a)}}function Bm(t){return t=Mn(t),Hm(t)}var _h=null;function Hm(t){if(_h=null,t=As(t),t!==null){var s=c(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=d(s),t!==null)return t;t=null}else if(a===31){if(t=p(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return _h=t,null}function f_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Di()){case Wo:return 2;case Xo:return 8;case Ir:case Yd:return 32;case $c:return 268435456;default:return 32}default:return 32}}var qm=!1,si=null,ri=null,ii=null,Yl=new Map,Ql=new Map,ai=[],rS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function m_(t,s){switch(t){case"focusin":case"focusout":si=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":Yl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(s.pointerId)}}function Wl(t,s,a,l,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},s!==null&&(s=Pn(s),s!==null&&h_(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),t)}function iS(t,s,a,l,f){switch(s){case"focusin":return si=Wl(si,t,s,a,l,f),!0;case"dragenter":return ri=Wl(ri,t,s,a,l,f),!0;case"mouseover":return ii=Wl(ii,t,s,a,l,f),!0;case"pointerover":var m=f.pointerId;return Yl.set(m,Wl(Yl.get(m)||null,t,s,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Ql.set(m,Wl(Ql.get(m)||null,t,s,a,l,f)),!0}return!1}function p_(t){var s=As(t.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=d(a),s!==null){t.blockedOn=s,es(t.priority,function(){d_(a)});return}}else if(s===31){if(s=p(a),s!==null){t.blockedOn=s,es(t.priority,function(){d_(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xh(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Bm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ll=l,a.target.dispatchEvent(l),ll=null}else return s=Pn(a),s!==null&&h_(s),t.blockedOn=a,!1;s.shift()}return!0}function g_(t,s,a){xh(t)&&a.delete(s)}function aS(){qm=!1,si!==null&&xh(si)&&(si=null),ri!==null&&xh(ri)&&(ri=null),ii!==null&&xh(ii)&&(ii=null),Yl.forEach(g_),Ql.forEach(g_)}function bh(t,s){t.blockedOn===s&&(t.blockedOn=null,qm||(qm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,aS)))}var Eh=null;function y_(t){Eh!==t&&(Eh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Eh===t&&(Eh=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],f=t[s+2];if(typeof l!="function"){if(Hm(l||a)===null)continue;break}var m=Pn(a);m!==null&&(t.splice(s,3),s-=3,Bf(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function mo(t){function s(O){return bh(O,t)}si!==null&&bh(si,t),ri!==null&&bh(ri,t),ii!==null&&bh(ii,t),Yl.forEach(s),Ql.forEach(s);for(var a=0;a<ai.length;a++){var l=ai[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ai.length&&(a=ai[0],a.blockedOn===null);)p_(a),a.blockedOn===null&&ai.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],_=f[zt]||null;if(typeof m=="function")_||y_(a);else if(_){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[zt]||null)w=_.formAction;else if(Hm(f)!==null)continue}else w=_.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),y_(a)}}}function v_(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Fm(t){this._internalRoot=t}wh.prototype.render=Fm.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,l=Rn();c_(a,l,t,s,null,null)},wh.prototype.unmount=Fm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;c_(t.current,2,null,t,null,null),sh(),s[Ts]=null}};function wh(t){this._internalRoot=t}wh.prototype.unstable_scheduleHydration=function(t){if(t){var s=su();t={blockedOn:null,target:t,priority:s};for(var a=0;a<ai.length&&s!==0&&s<ai[a].priority;a++);ai.splice(a,0,t),a===0&&p_(t)}};var __=e.version;if(__!=="19.2.0")throw Error(i(527,__,"19.2.0"));oe.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=y(s),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var oS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Th.isDisabled&&Th.supportsFiber)try{Jn=Th.inject(oS),Gt=Th}catch{}}return $l.createRoot=function(t,s){if(!o(t))throw Error(i(299));var a=!1,l="",f=A0,m=N0,_=R0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=o_(t,1,!1,null,null,a,l,null,f,m,_,v_),t[Ts]=s.current,Sm(t),new Fm(s)},$l.hydrateRoot=function(t,s,a){if(!o(t))throw Error(i(299));var l=!1,f="",m=A0,_=N0,w=R0,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),s=o_(t,1,!0,s,a??null,l,f,O,m,_,w,v_),s.context=l_(null),a=s.current,l=Rn(),l=Pi(l),f=Gr(l),f.callback=null,Kr(a,f,l),a=l,s.current.lanes=a,Oi(s,a),zs(s),t[Ts]=s.current,Sm(t),new wh(s)},$l.version="19.2.0",$l}var C_;function vS(){if(C_)return Ym.exports;C_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ym.exports=yS(),Ym.exports}var _S=vS();const xS="modulepreload",bS=function(r){return"/"+r},I_={},ce=function(e,n,i){let o=Promise.resolve();if(n&&n.length>0){let g=function(y){return Promise.all(y.map(x=>Promise.resolve(x).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");o=g(n.map(y=>{if(y=bS(y),y in I_)return;I_[y]=!0;const x=y.endsWith(".css"),E=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${E}`))return;const T=document.createElement("link");if(T.rel=x?"stylesheet":xS,x||(T.as="script"),T.crossOrigin="",T.href=y,p&&T.setAttribute("nonce",p),document.head.appendChild(T),x)return new Promise((D,P)=>{T.addEventListener("load",D),T.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${y}`)))})}))}function c(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return o.then(d=>{for(const p of d||[])p.status==="rejected"&&c(p.reason);return e().catch(c)})},ES=()=>{};var j_={};const bb=function(r){const e=[];let n=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},wS=function(r){const e=[];let n=0,i=0;for(;n<r.length;){const o=r[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[n++];e[i++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[n++],d=r[n++],p=r[n++],g=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const c=r[n++],d=r[n++];e[i++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Eb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,p=d?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,x=c>>2,E=(c&3)<<4|p>>4;let T=(p&15)<<2|y>>6,D=y&63;g||(D=64,d||(T=64)),i.push(n[x],n[E],n[T],n[D])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(bb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):wS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const c=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const E=o<r.length?n[r.charAt(o)]:64;if(++o,c==null||p==null||y==null||E==null)throw new TS;const T=c<<2|p>>4;if(i.push(T),y!==64){const D=p<<4&240|y>>2;if(i.push(D),E!==64){const P=y<<6&192|E;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class TS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SS=function(r){const e=bb(r);return Eb.encodeByteArray(e,!0)},Fh=function(r){return SS(r).replace(/\./g,"")},wb=function(r){try{return Eb.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function AS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const NS=()=>AS().__FIREBASE_DEFAULTS__,RS=()=>{if(typeof process>"u"||typeof j_>"u")return;const r=j_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},CS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&wb(r[1]);return e&&JSON.parse(e)},yd=()=>{try{return ES()||NS()||RS()||CS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Tb=r=>yd()?.emulatorHosts?.[r],IS=r=>{const e=Tb(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Sb=()=>yd()?.config,Ab=r=>yd()?.[`_${r}`];class jS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function ko(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Nb(r){return(await fetch(r,{credentials:"include"})).ok}function DS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Fh(JSON.stringify(n)),Fh(JSON.stringify(d)),""].join(".")}const ic={};function kS(){const r={prod:[],emulator:[]};for(const e of Object.keys(ic))ic[e]?r.emulator.push(e):r.prod.push(e);return r}function OS(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let D_=!1;function Rb(r,e){if(typeof window>"u"||typeof document>"u"||!ko(window.location.host)||ic[r]===e||ic[r]||D_)return;ic[r]=e;function n(T){return`__firebase__banner__${T}`}const i="__firebase__banner",c=kS().prod.length>0;function d(){const T=document.getElementById(i);T&&T.remove()}function p(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function g(T,D){T.setAttribute("width","24"),T.setAttribute("id",D),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{D_=!0,d()},T}function x(T,D){T.setAttribute("id",D),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=OS(i),D=n("text"),P=document.getElementById(D)||document.createElement("span"),z=n("learnmore"),M=document.getElementById(z)||document.createElement("a"),X=n("preprendIcon"),Y=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const K=T.element;p(K),x(M,z);const ie=y();g(Y,X),K.append(Y,P,M,ie),document.body.appendChild(K)}c?(P.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function PS(){const r=yd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function US(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zS(){const r=an();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function BS(){return!PS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HS(){try{return typeof indexedDB=="object"}catch{return!1}}function qS(){return new Promise((r,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const FS="FirebaseError";class Rr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=FS,Object.setPrototypeOf(this,Rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cc.prototype.create)}}class Cc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?GS(c,i):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Rr(o,p,i)}}function GS(r,e){return r.replace(KS,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const KS=/\{\$([^}]+)}/g;function YS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function fa(r,e){if(r===e)return!0;const n=Object.keys(r),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const c=r[o],d=e[o];if(k_(c)&&k_(d)){if(!fa(c,d))return!1}else if(c!==d)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function k_(r){return r!==null&&typeof r=="object"}function Ic(r){const e=[];for(const[n,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Zl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,c]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function ec(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function QS(r,e){const n=new WS(r,e);return n.subscribe.bind(n)}class WS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");XS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=$m),o.error===void 0&&(o.error=$m),o.complete===void 0&&(o.complete=$m);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XS(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function $m(){}function yt(r){return r&&r._delegate?r._delegate:r}class ma{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const oa="[DEFAULT]";class $S{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new jS;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZS(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});i.resolve(c)}catch{}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);i===p&&d.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const c=this.instances.get(i);return c&&e(c,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:JS(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JS(r){return r===oa?void 0:r}function ZS(r){return r.instantiationMode==="EAGER"}class e2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $S(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const t2={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},n2=Ve.INFO,s2={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},r2=(r,e,...n)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=s2[e];if(o)console[o](`[${i}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kp{constructor(e){this.name=e,this._logLevel=n2,this._logHandler=r2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?t2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const i2=(r,e)=>e.some(n=>r instanceof n);let O_,V_;function a2(){return O_||(O_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o2(){return V_||(V_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cb=new WeakMap,dp=new WeakMap,Ib=new WeakMap,Jm=new WeakMap,Yp=new WeakMap;function l2(r){const e=new Promise((n,i)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{n(fi(r.result)),o()},d=()=>{i(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&Cb.set(n,r)}).catch(()=>{}),Yp.set(e,r),e}function c2(r){if(dp.has(r))return;const e=new Promise((n,i)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{n(),o()},d=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});dp.set(r,e)}let fp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return dp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Ib.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fi(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function u2(r){fp=r(fp)}function h2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=r.call(Zm(this),e,...n);return Ib.set(i,e.sort?e.sort():[e]),fi(i)}:o2().includes(r)?function(...e){return r.apply(Zm(this),e),fi(Cb.get(this))}:function(...e){return fi(r.apply(Zm(this),e))}}function d2(r){return typeof r=="function"?h2(r):(r instanceof IDBTransaction&&c2(r),i2(r,a2())?new Proxy(r,fp):r)}function fi(r){if(r instanceof IDBRequest)return l2(r);if(Jm.has(r))return Jm.get(r);const e=d2(r);return e!==r&&(Jm.set(r,e),Yp.set(e,r)),e}const Zm=r=>Yp.get(r);function f2(r,e,{blocked:n,upgrade:i,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),p=fi(d);return i&&d.addEventListener("upgradeneeded",g=>{i(fi(d.result),g.oldVersion,g.newVersion,fi(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const m2=["get","getKey","getAll","getAllKeys","count"],p2=["put","add","delete","clear"],ep=new Map;function P_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(ep.get(e))return ep.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=p2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||m2.includes(n)))return;const c=async function(d,...p){const g=this.transaction(d,o?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return ep.set(e,c),c}u2(r=>({...r,get:(e,n,i)=>P_(e,n)||r.get(e,n,i),has:(e,n)=>!!P_(e,n)||r.has(e,n)}));class g2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(y2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function y2(r){return r.getComponent()?.type==="VERSION"}const mp="@firebase/app",M_="0.14.6";const Er=new Kp("@firebase/app"),v2="@firebase/app-compat",_2="@firebase/analytics-compat",x2="@firebase/analytics",b2="@firebase/app-check-compat",E2="@firebase/app-check",w2="@firebase/auth",T2="@firebase/auth-compat",S2="@firebase/database",A2="@firebase/data-connect",N2="@firebase/database-compat",R2="@firebase/functions",C2="@firebase/functions-compat",I2="@firebase/installations",j2="@firebase/installations-compat",D2="@firebase/messaging",k2="@firebase/messaging-compat",O2="@firebase/performance",V2="@firebase/performance-compat",P2="@firebase/remote-config",M2="@firebase/remote-config-compat",L2="@firebase/storage",U2="@firebase/storage-compat",z2="@firebase/firestore",B2="@firebase/ai",H2="@firebase/firestore-compat",q2="firebase",F2="12.6.0";const pp="[DEFAULT]",G2={[mp]:"fire-core",[v2]:"fire-core-compat",[x2]:"fire-analytics",[_2]:"fire-analytics-compat",[E2]:"fire-app-check",[b2]:"fire-app-check-compat",[w2]:"fire-auth",[T2]:"fire-auth-compat",[S2]:"fire-rtdb",[A2]:"fire-data-connect",[N2]:"fire-rtdb-compat",[R2]:"fire-fn",[C2]:"fire-fn-compat",[I2]:"fire-iid",[j2]:"fire-iid-compat",[D2]:"fire-fcm",[k2]:"fire-fcm-compat",[O2]:"fire-perf",[V2]:"fire-perf-compat",[P2]:"fire-rc",[M2]:"fire-rc-compat",[L2]:"fire-gcs",[U2]:"fire-gcs-compat",[z2]:"fire-fst",[H2]:"fire-fst-compat",[B2]:"fire-vertex","fire-js":"fire-js",[q2]:"fire-js-all"};const pc=new Map,K2=new Map,gp=new Map;function L_(r,e){try{r.container.addComponent(e)}catch(n){Er.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ao(r){const e=r.name;if(gp.has(e))return Er.debug(`There were multiple attempts to register component ${e}.`),!1;gp.set(e,r);for(const n of pc.values())L_(n,r);for(const n of K2.values())L_(n,r);return!0}function Qp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function _n(r){return r==null?!1:r.settings!==void 0}const Y2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mi=new Cc("app","Firebase",Y2);class Q2{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mi.create("app-deleted",{appName:this._name})}}const Oo=F2;function jb(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const i={name:pp,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw mi.create("bad-app-name",{appName:String(o)});if(n||(n=Sb()),!n)throw mi.create("no-options");const c=pc.get(o);if(c){if(fa(n,c.options)&&fa(i,c.config))return c;throw mi.create("duplicate-app",{appName:o})}const d=new e2(o);for(const g of gp.values())d.addComponent(g);const p=new Q2(n,i,d);return pc.set(o,p),p}function Db(r=pp){const e=pc.get(r);if(!e&&r===pp&&Sb())return jb();if(!e)throw mi.create("no-app",{appName:r});return e}function U_(){return Array.from(pc.values())}function pi(r,e,n){let i=G2[r]??r;n&&(i+=`-${n}`);const o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${i}" with version "${e}":`];o&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Er.warn(d.join(" "));return}Ao(new ma(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const W2="firebase-heartbeat-database",X2=1,gc="firebase-heartbeat-store";let tp=null;function kb(){return tp||(tp=f2(W2,X2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(gc)}catch(n){console.warn(n)}}}}).catch(r=>{throw mi.create("idb-open",{originalErrorMessage:r.message})})),tp}async function $2(r){try{const n=(await kb()).transaction(gc),i=await n.objectStore(gc).get(Ob(r));return await n.done,i}catch(e){if(e instanceof Rr)Er.warn(e.message);else{const n=mi.create("idb-get",{originalErrorMessage:e?.message});Er.warn(n.message)}}}async function z_(r,e){try{const i=(await kb()).transaction(gc,"readwrite");await i.objectStore(gc).put(e,Ob(r)),await i.done}catch(n){if(n instanceof Rr)Er.warn(n.message);else{const i=mi.create("idb-set",{originalErrorMessage:n?.message});Er.warn(i.message)}}}function Ob(r){return`${r.name}!${r.options.appId}`}const J2=1024,Z2=30;class eA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nA(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=B_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>Z2){const o=sA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Er.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=B_(),{heartbeatsToSend:n,unsentEntries:i}=tA(this._heartbeatsCache.heartbeats),o=Fh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Er.warn(e),""}}}function B_(){return new Date().toISOString().substring(0,10)}function tA(r,e=J2){const n=[];let i=r.slice();for(const o of r){const c=n.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),H_(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),H_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class nA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HS()?qS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function H_(r){return Fh(JSON.stringify({version:2,heartbeats:r})).length}function sA(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let i=1;i<r.length;i++)r[i].date<n&&(n=r[i].date,e=i);return e}function rA(r){Ao(new ma("platform-logger",e=>new g2(e),"PRIVATE")),Ao(new ma("heartbeat",e=>new eA(e),"PRIVATE")),pi(mp,M_,r),pi(mp,M_,"esm2020"),pi("fire-js","")}rA("");var iA="firebase",aA="12.6.0";pi(iA,aA,"app");function Vb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oA=Vb,Pb=new Cc("auth","Firebase",Vb());const Gh=new Kp("@firebase/auth");function lA(r,...e){Gh.logLevel<=Ve.WARN&&Gh.warn(`Auth (${Oo}): ${r}`,...e)}function Dh(r,...e){Gh.logLevel<=Ve.ERROR&&Gh.error(`Auth (${Oo}): ${r}`,...e)}function Xn(r,...e){throw Xp(r,...e)}function ms(r,...e){return Xp(r,...e)}function Wp(r,e,n){const i={...oA(),[e]:n};return new Cc("auth","Firebase",i).create(e,{appName:r.name})}function qs(r){return Wp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mb(r,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Xn(r,"argument-error"),Wp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xp(r,...e){if(typeof r!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(n,...i)}return Pb.create(r,...e)}function Ee(r,e,...n){if(!r)throw Xp(e,...n)}function vr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Dh(e),new Error(e)}function wr(r,e){r||vr(e)}function yp(){return typeof self<"u"&&self.location?.href||""}function cA(){return q_()==="http:"||q_()==="https:"}function q_(){return typeof self<"u"&&self.location?.protocol||null}function uA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cA()||LS()||"connection"in navigator)?navigator.onLine:!0}function hA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class jc{constructor(e,n){this.shortDelay=e,this.longDelay=n,wr(n>e,"Short delay should be less than long delay!"),this.isMobile=VS()||US()}get(){return uA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $p(r,e){wr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Lb{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const fA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mA=new jc(3e4,6e4);function Si(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ai(r,e,n,i,o={}){return Ub(r,o,async()=>{let c={},d={};i&&(e==="GET"?d=i:c={body:JSON.stringify(i)});const p=Ic({key:r.config.apiKey,...d}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...c};return MS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&ko(r.emulatorConfig.host)&&(y.credentials="include"),Lb.fetch()(await zb(r,r.config.apiHost,n,p),y)})}async function Ub(r,e,n){r._canInitEmulator=!1;const i={...dA,...e};try{const o=new gA(r),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Sh(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sh(r,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Sh(r,"email-already-in-use",d);if(g==="USER_DISABLED")throw Sh(r,"user-disabled",d);const x=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Wp(r,x,y);Xn(r,x)}}catch(o){if(o instanceof Rr)throw o;Xn(r,"network-request-failed",{message:String(o)})}}async function Dc(r,e,n,i,o={}){const c=await Ai(r,e,n,i,o);return"mfaPendingCredential"in c&&Xn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function zb(r,e,n,i){const o=`${e}${n}?${i}`,c=r,d=c.config.emulator?$p(r.config,o):`${r.config.apiScheme}://${o}`;return fA.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function pA(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ms(this.auth,"network-request-failed")),mA.get())})}}function Sh(r,e,n){const i={appName:r.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=ms(r,e,i);return o.customData._tokenResponse=n,o}function F_(r){return r!==void 0&&r.enterprise!==void 0}class yA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vA(r,e){return Ai(r,"GET","/v2/recaptchaConfig",Si(r,e))}async function _A(r,e){return Ai(r,"POST","/v1/accounts:delete",e)}async function Kh(r,e){return Ai(r,"POST","/v1/accounts:lookup",e)}function ac(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xA(r,e=!1){const n=yt(r),i=await n.getIdToken(e),o=Jp(i);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:i,authTime:ac(np(o.auth_time)),issuedAtTime:ac(np(o.iat)),expirationTime:ac(np(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function np(r){return Number(r)*1e3}function Jp(r){const[e,n,i]=r.split(".");if(e===void 0||n===void 0||i===void 0)return Dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=wb(n);return o?JSON.parse(o):(Dh("Failed to decode base64 JWT payload"),null)}catch(o){return Dh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function G_(r){const e=Jp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function yc(r,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Rr&&bA(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function bA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class EA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class vp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ac(this.lastLoginAt),this.creationTime=ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yh(r){const e=r.auth,n=await r.getIdToken(),i=await yc(r,Kh(e,{idToken:n}));Ee(i?.users.length,e,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?Bb(o.providerUserInfo):[],d=TA(r.providerData,c),p=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!d?.length,y=p?g:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new vp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,x)}async function wA(r){const e=yt(r);await Yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TA(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Bb(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function SA(r,e){const n=await Ub(r,{},async()=>{const i=Ic({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await zb(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:i};return r.emulatorConfig&&ko(r.emulatorConfig.host)&&(g.credentials="include"),Lb.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AA(r,e){return Ai(r,"POST","/v2/accounts:revokeToken",Si(r,e))}class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):G_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=G_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:c}=await SA(e,n);this.updateTokensAndExpiration(i,o,Number(c))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:c}=n,d=new bo;return i&&(Ee(typeof i=="string","internal-error",{appName:e}),d.refreshToken=i),o&&(Ee(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ee(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return vr("not implemented")}}function li(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ds{constructor({uid:e,auth:n,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new EA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await yc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xA(this,e)}reload(){return wA(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ds({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Yh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(qs(this.auth));const e=await this.getIdToken();return await yc(this,_A(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:E,emailVerified:T,isAnonymous:D,providerData:P,stsTokenManager:z}=n;Ee(E&&z,e,"internal-error");const M=bo.fromJSON(this.name,z);Ee(typeof E=="string",e,"internal-error"),li(i,e.name),li(o,e.name),Ee(typeof T=="boolean",e,"internal-error"),Ee(typeof D=="boolean",e,"internal-error"),li(c,e.name),li(d,e.name),li(p,e.name),li(g,e.name),li(y,e.name),li(x,e.name);const X=new ds({uid:E,auth:e,email:o,emailVerified:T,displayName:i,isAnonymous:D,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:M,createdAt:y,lastLoginAt:x});return P&&Array.isArray(P)&&(X.providerData=P.map(Y=>({...Y}))),g&&(X._redirectEventId=g),X}static async _fromIdTokenResponse(e,n,i=!1){const o=new bo;o.updateFromServerResponse(n);const c=new ds({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Yh(c),c}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Bb(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new bo;p.updateFromIdToken(i);const g=new ds({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new vp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const K_=new Map;function _r(r){wr(r instanceof Function,"Expected a class definition");let e=K_.get(r);return e?(wr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,K_.set(r,e),e)}class Hb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Hb.type="NONE";const Y_=Hb;function kh(r,e,n){return`firebase:${r}:${e}:${n}`}class Eo{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:c}=this.auth;this.fullUserKey=kh(this.userKey,o.apiKey,c),this.fullPersistenceKey=kh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Kh(this.auth,{idToken:e}).catch(()=>{});return n?ds._fromGetAccountInfoResponse(this.auth,n,e):null}return ds._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Eo(_r(Y_),e,i);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||_r(Y_);const d=kh(i,e.config.apiKey,e.name);let p=null;for(const y of n)try{const x=await y._get(d);if(x){let E;if(typeof x=="string"){const T=await Kh(e,{idToken:x}).catch(()=>{});if(!T)break;E=await ds._fromGetAccountInfoResponse(e,T,x)}else E=ds._fromJSON(e,x);y!==c&&(p=E),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Eo(c,e,i):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Eo(c,e,i))}}function Q_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Kb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Qb(e))return"Blackberry";if(Wb(e))return"Webos";if(Fb(e))return"Safari";if((e.includes("chrome/")||Gb(e))&&!e.includes("edge/"))return"Chrome";if(Yb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(n);if(i?.length===2)return i[1]}return"Other"}function qb(r=an()){return/firefox\//i.test(r)}function Fb(r=an()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Gb(r=an()){return/crios\//i.test(r)}function Kb(r=an()){return/iemobile/i.test(r)}function Yb(r=an()){return/android/i.test(r)}function Qb(r=an()){return/blackberry/i.test(r)}function Wb(r=an()){return/webos/i.test(r)}function Zp(r=an()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function NA(r=an()){return Zp(r)&&!!window.navigator?.standalone}function RA(){return zS()&&document.documentMode===10}function Xb(r=an()){return Zp(r)||Yb(r)||Wb(r)||Qb(r)||/windows phone/i.test(r)||Kb(r)}function $b(r,e=[]){let n;switch(r){case"Browser":n=Q_(an());break;case"Worker":n=`${Q_(an())}-${r}`;break;default:n=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oo}/${i}`}class CA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=c=>new Promise((d,p)=>{try{const g=e(c);d(g)}catch(g){p(g)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function IA(r,e={}){return Ai(r,"GET","/v2/passwordPolicy",Si(r,e))}const jA=6;class DA{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??jA,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class kA{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W_(this),this.idTokenSubscription=new W_(this),this.beforeStateQueue=new CA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_r(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Eo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Kh(this,{idToken:e}),i=await ds._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(_n(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=i?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(i=p.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(qs(this));const n=e?yt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IA(this),n=new DA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await AA(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_r(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[_r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,i,o);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$b(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&lA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function $s(r){return yt(r)}class W_{constructor(e){this.auth=e,this.observer=null,this.addObserver=QS(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OA(r){vd=r}function Jb(r){return vd.loadJS(r)}function VA(){return vd.recaptchaEnterpriseScript}function PA(){return vd.gapiScript}function MA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class LA{constructor(){this.enterprise=new UA}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class UA{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const zA="recaptcha-enterprise",Zb="NO_RECAPTCHA";class BA{constructor(e){this.type=zA,this.auth=$s(e)}async verify(e="verify",n=!1){async function i(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{vA(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new yA(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(g=>{p(g)})})}function o(c,d,p){const g=window.grecaptcha;F_(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(Zb)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new LA().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{i(this.auth).then(p=>{if(!n&&F_(window.grecaptcha))o(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=VA();g.length!==0&&(g+=p),Jb(g).then(()=>{o(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function X_(r,e,n,i=!1,o=!1){const c=new BA(r);let d;if(o)d=Zb;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return i?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function _p(r,e,n,i,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await X_(r,e,n,n==="getOobCode");return i(r,c)}else return i(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await X_(r,e,n,n==="getOobCode");return i(r,d)}else return Promise.reject(c)})}function HA(r,e){const n=Qp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(fa(c,e??{}))return o;Xn(o,"already-initialized")}return n.initialize({options:e})}function qA(r,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(_r);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function FA(r,e,n){const i=$s(r);Ee(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,c=eE(e),{host:d,port:p}=GA(e),g=p===null?"":`:${p}`,y={url:`${c}//${d}${g}/`},x=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Ee(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ee(fa(y,i.config.emulator)&&fa(x,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=x,i.settings.appVerificationDisabledForTesting=!0,ko(d)?(Nb(`${c}//${d}${g}`),Rb("Auth",!0)):KA()}function eE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function GA(r){const e=eE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const c=o[1];return{host:c,port:$_(i.substr(c.length+1))}}else{const[c,d]=i.split(":");return{host:c,port:$_(d)}}}function $_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function KA(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class eg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vr("not implemented")}_getIdTokenResponse(e){return vr("not implemented")}_linkToIdToken(e,n){return vr("not implemented")}_getReauthenticationResolver(e){return vr("not implemented")}}async function YA(r,e){return Ai(r,"POST","/v1/accounts:signUp",e)}async function QA(r,e){return Dc(r,"POST","/v1/accounts:signInWithPassword",Si(r,e))}async function WA(r,e){return Dc(r,"POST","/v1/accounts:signInWithEmailLink",Si(r,e))}async function XA(r,e){return Dc(r,"POST","/v1/accounts:signInWithEmailLink",Si(r,e))}class vc extends eg{constructor(e,n,i,o=null){super("password",i),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new vc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new vc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _p(e,n,"signInWithPassword",QA);case"emailLink":return WA(e,{email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _p(e,i,"signUpPassword",YA);case"emailLink":return XA(e,{idToken:n,email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function wo(r,e){return Dc(r,"POST","/v1/accounts:signInWithIdp",Si(r,e))}const $A="http://localhost";class pa extends eg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...c}=n;if(!i||!o)return null;const d=new pa(i,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return wo(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,wo(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wo(e,n)}buildRequest(){const e={requestUri:$A,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ic(n)}return e}}function JA(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZA(r){const e=Zl(ec(r)).link,n=e?Zl(ec(e)).deep_link_id:null,i=Zl(ec(r)).deep_link_id;return(i?Zl(ec(i)).link:null)||i||n||e||r}class tg{constructor(e){const n=Zl(ec(e)),i=n.apiKey??null,o=n.oobCode??null,c=JA(n.mode??null);Ee(i&&o&&c,"argument-error"),this.apiKey=i,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=ZA(e);try{return new tg(n)}catch{return null}}}class Vo{constructor(){this.providerId=Vo.PROVIDER_ID}static credential(e,n){return vc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=tg.parseLink(n);return Ee(i,"argument-error"),vc._fromEmailAndCode(e,i.code,i.tenantId)}}Vo.PROVIDER_ID="password";Vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class _d{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class kc extends _d{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ci extends kc{constructor(){super("facebook.com")}static credential(e){return pa._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";class Hs extends kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pa._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Hs.credential(n,i)}catch{return null}}}Hs.GOOGLE_SIGN_IN_METHOD="google.com";Hs.PROVIDER_ID="google.com";class ui extends kc{constructor(){super("github.com")}static credential(e){return pa._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.GITHUB_SIGN_IN_METHOD="github.com";ui.PROVIDER_ID="github.com";class hi extends kc{constructor(){super("twitter.com")}static credential(e,n){return pa._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return hi.credential(n,i)}catch{return null}}}hi.TWITTER_SIGN_IN_METHOD="twitter.com";hi.PROVIDER_ID="twitter.com";async function eN(r,e){return Dc(r,"POST","/v1/accounts:signUp",Si(r,e))}class ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const c=await ds._fromIdTokenResponse(e,i,o),d=J_(i);return new ga({user:c,providerId:d,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=J_(i);return new ga({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function J_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Qh extends Rr{constructor(e,n,i,o){super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Qh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new Qh(e,n,i,o)}}function tE(r,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Qh._fromErrorAndOperation(r,c,e,i):c})}async function tN(r,e,n=!1){const i=await yc(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ga._forOperation(r,"link",i)}async function nN(r,e,n=!1){const{auth:i}=r;if(_n(i.app))return Promise.reject(qs(i));const o="reauthenticate";try{const c=await yc(r,tE(i,o,e,r),n);Ee(c.idToken,i,"internal-error");const d=Jp(c.idToken);Ee(d,i,"internal-error");const{sub:p}=d;return Ee(r.uid===p,i,"user-mismatch"),ga._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Xn(i,"user-mismatch"),c}}async function nE(r,e,n=!1){if(_n(r.app))return Promise.reject(qs(r));const i="signIn",o=await tE(r,i,e),c=await ga._fromIdTokenResponse(r,i,o);return n||await r._updateCurrentUser(c.user),c}async function sN(r,e){return nE($s(r),e)}async function sE(r){const e=$s(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function rE(r,e,n){if(_n(r.app))return Promise.reject(qs(r));const i=$s(r),d=await _p(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eN).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&sE(r),g}),p=await ga._fromIdTokenResponse(i,"signIn",d);return await i._updateCurrentUser(p.user),p}function rN(r,e,n){return _n(r.app)?Promise.reject(qs(r)):sN(yt(r),Vo.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&sE(r),i})}function iN(r,e){return yt(r).setPersistence(e)}function aN(r,e,n,i){return yt(r).onIdTokenChanged(e,n,i)}function oN(r,e,n){return yt(r).beforeAuthStateChanged(e,n)}function iE(r,e,n,i){return yt(r).onAuthStateChanged(e,n,i)}function lN(r){return yt(r).signOut()}const Wh="__sak";class aE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wh,"1"),this.storage.removeItem(Wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const cN=1e3,uN=10;class oE extends aE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Xb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(i);!n&&this.localCache[i]===d||this.notifyListeners(i,d)},c=this.storage.getItem(i);RA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,uN):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},cN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}oE.type="LOCAL";const lE=oE;class cE extends aE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cE.type="SESSION";const uE=cE;function hN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class xd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new xd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:c}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const p=Array.from(d).map(async y=>y(n.origin,c)),g=await hN(p);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xd.receivers=[];function ng(r="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return r+n}class dN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const y=ng("",20);o.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},i);d={messageChannel:o,onMessage(E){const T=E;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(T.data.response);break;default:clearTimeout(x),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Fs(){return window}function fN(r){Fs().location.href=r}function hE(){return typeof Fs().WorkerGlobalScope<"u"&&typeof Fs().importScripts=="function"}async function mN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pN(){return navigator?.serviceWorker?.controller||null}function gN(){return hE()?self:null}const dE="firebaseLocalStorageDb",yN=1,Xh="firebaseLocalStorage",fE="fbase_key";class Oc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bd(r,e){return r.transaction([Xh],e?"readwrite":"readonly").objectStore(Xh)}function vN(){const r=indexedDB.deleteDatabase(dE);return new Oc(r).toPromise()}function xp(){const r=indexedDB.open(dE,yN);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(Xh,{keyPath:fE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(Xh)?e(i):(i.close(),await vN(),e(await xp()))})})}async function Z_(r,e,n){const i=bd(r,!0).put({[fE]:e,value:n});return new Oc(i).toPromise()}async function _N(r,e){const n=bd(r,!1).get(e),i=await new Oc(n).toPromise();return i===void 0?null:i.value}function ex(r,e){const n=bd(r,!0).delete(e);return new Oc(n).toPromise()}const xN=800,bN=3;class mE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>bN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xd._getInstance(gN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await mN(),!this.activeServiceWorker)return;this.sender=new dN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xp();return await Z_(e,Wh,"1"),await ex(e,Wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Z_(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>_N(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ex(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=bd(o,!1).getAll();return new Oc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mE.type="LOCAL";const EN=mE;new jc(3e4,6e4);function sg(r,e){return e?_r(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class rg extends eg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wN(r){return nE(r.auth,new rg(r),r.bypassAuthState)}function TN(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),nN(n,new rg(r),r.bypassAuthState)}async function SN(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),tN(n,new rg(r),r.bypassAuthState)}class pE{constructor(e,n,i,o,c=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:i,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wN;case"linkViaPopup":case"linkViaRedirect":return SN;case"reauthViaPopup":case"reauthViaRedirect":return TN;default:Xn(this.auth,"internal-error")}}resolve(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const AN=new jc(2e3,1e4);async function NN(r,e,n){if(_n(r.app))return Promise.reject(ms(r,"operation-not-supported-in-this-environment"));const i=$s(r);Mb(r,e,_d);const o=sg(i,n);return new ca(i,"signInViaPopup",e,o).executeNotNull()}class ca extends pE{constructor(e,n,i,o,c){super(e,n,o,c),this.provider=i,this.authWindow=null,this.pollId=null,ca.currentPopupAction&&ca.currentPopupAction.cancel(),ca.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){wr(this.filter.length===1,"Popup operations only handle one event");const e=ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ms(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ms(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ca.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ms(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AN.get())};e()}}ca.currentPopupAction=null;const RN="pendingRedirect",Oh=new Map;class CN extends pE{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Oh.get(this.auth._key());if(!e){try{const i=await IN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Oh.set(this.auth._key(),e)}return this.bypassAuthState||Oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IN(r,e){const n=yE(e),i=gE(r);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}async function jN(r,e){return gE(r)._set(yE(e),"true")}function DN(r,e){Oh.set(r._key(),e)}function gE(r){return _r(r._redirectPersistence)}function yE(r){return kh(RN,r.config.apiKey,r.name)}function kN(r,e,n){return ON(r,e,n)}async function ON(r,e,n){if(_n(r.app))return Promise.reject(qs(r));const i=$s(r);Mb(r,e,_d),await i._initializationPromise;const o=sg(i,n);return await jN(o,i),o._openRedirect(i,e,"signInViaRedirect")}async function VN(r,e){return await $s(r)._initializationPromise,vE(r,e,!1)}async function vE(r,e,n=!1){if(_n(r.app))return Promise.reject(qs(r));const i=$s(r),o=sg(i,e),d=await new CN(i,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await i._persistUserIfCurrent(d.user),await i._setRedirectUser(null,e)),d}const PN=600*1e3;class MN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!_E(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ms(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PN&&this.cachedEventUids.clear(),this.cachedEventUids.has(tx(e))}saveEventToCache(e){this.cachedEventUids.add(tx(e)),this.lastProcessedEventTime=Date.now()}}function tx(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function _E({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function LN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _E(r);default:return!1}}async function UN(r,e={}){return Ai(r,"GET","/v1/projects",e)}const zN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BN=/^https?/;async function HN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await UN(r);for(const n of e)try{if(qN(n))return}catch{}Xn(r,"unauthorized-domain")}function qN(r){const e=yp(),{protocol:n,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&i===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===i}if(!BN.test(n))return!1;if(zN.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}const FN=new jc(3e4,6e4);function nx(){const r=Fs().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function GN(r){return new Promise((e,n)=>{function i(){nx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nx(),n(ms(r,"network-request-failed"))},timeout:FN.get()})}if(Fs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fs().gapi?.load)i();else{const o=MA("iframefcb");return Fs()[o]=()=>{gapi.load?i():n(ms(r,"network-request-failed"))},Jb(`${PA()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Vh=null,e})}let Vh=null;function KN(r){return Vh=Vh||GN(r),Vh}const YN=new jc(5e3,15e3),QN="__/auth/iframe",WN="emulator/auth/iframe",XN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$N=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JN(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?$p(e,WN):`https://${r.config.authDomain}/${QN}`,i={apiKey:e.apiKey,appName:r.name,v:Oo},o=$N.get(r.config.apiHost);o&&(i.eid=o);const c=r._getFrameworks();return c.length&&(i.fw=c.join(",")),`${n}?${Ic(i).slice(1)}`}async function ZN(r){const e=await KN(r),n=Fs().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:JN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XN,dontclear:!0},i=>new Promise(async(o,c)=>{await i.restyle({setHideOnLeave:!1});const d=ms(r,"network-request-failed"),p=Fs().setTimeout(()=>{c(d)},YN.get());function g(){Fs().clearTimeout(p),o(i)}i.ping(g).then(g,()=>{c(d)})}))}const eR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tR=500,nR=600,sR="_blank",rR="http://localhost";class sx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iR(r,e,n,i=tR,o=nR){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const g={...eR,width:i.toString(),height:o.toString(),top:c,left:d},y=an().toLowerCase();n&&(p=Gb(y)?sR:n),qb(y)&&(e=e||rR,g.scrollbars="yes");const x=Object.entries(g).reduce((T,[D,P])=>`${T}${D}=${P},`,"");if(NA(y)&&p!=="_self")return aR(e||"",p),new sx(null);const E=window.open(e||"",p,x);Ee(E,r,"popup-blocked");try{E.focus()}catch{}return new sx(E)}function aR(r,e){const n=document.createElement("a");n.href=r,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const oR="__/auth/handler",lR="emulator/auth/handler",cR=encodeURIComponent("fac");async function rx(r,e,n,i,o,c){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:i,v:Oo,eventId:o};if(e instanceof _d){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",YS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,E]of Object.entries({}))d[x]=E}if(e instanceof kc){const x=e.getScopes().filter(E=>E!=="");x.length>0&&(d.scopes=x.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const x of Object.keys(p))p[x]===void 0&&delete p[x];const g=await r._getAppCheckToken(),y=g?`#${cR}=${encodeURIComponent(g)}`:"";return`${uR(r)}?${Ic(p).slice(1)}${y}`}function uR({config:r}){return r.emulator?$p(r,lR):`https://${r.authDomain}/${oR}`}const sp="webStorageSupport";class hR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uE,this._completeRedirectFn=vE,this._overrideRedirectResult=DN}async _openPopup(e,n,i,o){wr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await rx(e,n,i,yp(),o);return iR(e,c,ng())}async _openRedirect(e,n,i,o){await this._originValidation(e);const c=await rx(e,n,i,yp(),o);return fN(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(wr(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await ZN(e),i=new MN(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sp,{type:sp},o=>{const c=o?.[0]?.[sp];c!==void 0&&n(!!c),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=HN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Xb()||Fb()||Zp()}}const dR=hR;var ix="@firebase/auth",ax="1.11.1";class fR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function mR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pR(r){Ao(new ma("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=i.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$b(r)},y=new kA(i,o,c,g);return qA(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ao(new ma("auth-internal",e=>{const n=$s(e.getProvider("auth").getImmediate());return(i=>new fR(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pi(ix,ax,mR(r)),pi(ix,ax,"esm2020")}const gR=300,yR=Ab("authIdTokenMaxAge")||gR;let ox=null;const vR=r=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>yR)return;const o=n?.token;ox!==o&&(ox=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function _R(r=Db()){const e=Qp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=HA(r,{popupRedirectResolver:dR,persistence:[EN,lE,uE]}),i=Ab("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const d=vR(c.toString());oN(n,d,()=>d(n.currentUser)),aN(n,p=>d(p))}}const o=Tb("auth");return o&&FA(n,`http://${o}`),n}function xR(){return document.getElementsByTagName("head")?.[0]??document}OA({loadJS(r){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const c=ms("internal-error");c.customData=o,n(c)},i.type="text/javascript",i.charset="UTF-8",xR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pR("Browser");var lx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gi,xE;(function(){var r;function e(j,N){function A(){}A.prototype=N.prototype,j.F=N.prototype,j.prototype=new A,j.prototype.constructor=j,j.D=function(k,I,C){for(var R=Array(arguments.length-2),De=2;De<arguments.length;De++)R[De-2]=arguments[De];return N.prototype[I].apply(k,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(j,N,A){A||(A=0);const k=Array(16);if(typeof N=="string")for(var I=0;I<16;++I)k[I]=N.charCodeAt(A++)|N.charCodeAt(A++)<<8|N.charCodeAt(A++)<<16|N.charCodeAt(A++)<<24;else for(I=0;I<16;++I)k[I]=N[A++]|N[A++]<<8|N[A++]<<16|N[A++]<<24;N=j.g[0],A=j.g[1],I=j.g[2];let C=j.g[3],R;R=N+(C^A&(I^C))+k[0]+3614090360&4294967295,N=A+(R<<7&4294967295|R>>>25),R=C+(I^N&(A^I))+k[1]+3905402710&4294967295,C=N+(R<<12&4294967295|R>>>20),R=I+(A^C&(N^A))+k[2]+606105819&4294967295,I=C+(R<<17&4294967295|R>>>15),R=A+(N^I&(C^N))+k[3]+3250441966&4294967295,A=I+(R<<22&4294967295|R>>>10),R=N+(C^A&(I^C))+k[4]+4118548399&4294967295,N=A+(R<<7&4294967295|R>>>25),R=C+(I^N&(A^I))+k[5]+1200080426&4294967295,C=N+(R<<12&4294967295|R>>>20),R=I+(A^C&(N^A))+k[6]+2821735955&4294967295,I=C+(R<<17&4294967295|R>>>15),R=A+(N^I&(C^N))+k[7]+4249261313&4294967295,A=I+(R<<22&4294967295|R>>>10),R=N+(C^A&(I^C))+k[8]+1770035416&4294967295,N=A+(R<<7&4294967295|R>>>25),R=C+(I^N&(A^I))+k[9]+2336552879&4294967295,C=N+(R<<12&4294967295|R>>>20),R=I+(A^C&(N^A))+k[10]+4294925233&4294967295,I=C+(R<<17&4294967295|R>>>15),R=A+(N^I&(C^N))+k[11]+2304563134&4294967295,A=I+(R<<22&4294967295|R>>>10),R=N+(C^A&(I^C))+k[12]+1804603682&4294967295,N=A+(R<<7&4294967295|R>>>25),R=C+(I^N&(A^I))+k[13]+4254626195&4294967295,C=N+(R<<12&4294967295|R>>>20),R=I+(A^C&(N^A))+k[14]+2792965006&4294967295,I=C+(R<<17&4294967295|R>>>15),R=A+(N^I&(C^N))+k[15]+1236535329&4294967295,A=I+(R<<22&4294967295|R>>>10),R=N+(I^C&(A^I))+k[1]+4129170786&4294967295,N=A+(R<<5&4294967295|R>>>27),R=C+(A^I&(N^A))+k[6]+3225465664&4294967295,C=N+(R<<9&4294967295|R>>>23),R=I+(N^A&(C^N))+k[11]+643717713&4294967295,I=C+(R<<14&4294967295|R>>>18),R=A+(C^N&(I^C))+k[0]+3921069994&4294967295,A=I+(R<<20&4294967295|R>>>12),R=N+(I^C&(A^I))+k[5]+3593408605&4294967295,N=A+(R<<5&4294967295|R>>>27),R=C+(A^I&(N^A))+k[10]+38016083&4294967295,C=N+(R<<9&4294967295|R>>>23),R=I+(N^A&(C^N))+k[15]+3634488961&4294967295,I=C+(R<<14&4294967295|R>>>18),R=A+(C^N&(I^C))+k[4]+3889429448&4294967295,A=I+(R<<20&4294967295|R>>>12),R=N+(I^C&(A^I))+k[9]+568446438&4294967295,N=A+(R<<5&4294967295|R>>>27),R=C+(A^I&(N^A))+k[14]+3275163606&4294967295,C=N+(R<<9&4294967295|R>>>23),R=I+(N^A&(C^N))+k[3]+4107603335&4294967295,I=C+(R<<14&4294967295|R>>>18),R=A+(C^N&(I^C))+k[8]+1163531501&4294967295,A=I+(R<<20&4294967295|R>>>12),R=N+(I^C&(A^I))+k[13]+2850285829&4294967295,N=A+(R<<5&4294967295|R>>>27),R=C+(A^I&(N^A))+k[2]+4243563512&4294967295,C=N+(R<<9&4294967295|R>>>23),R=I+(N^A&(C^N))+k[7]+1735328473&4294967295,I=C+(R<<14&4294967295|R>>>18),R=A+(C^N&(I^C))+k[12]+2368359562&4294967295,A=I+(R<<20&4294967295|R>>>12),R=N+(A^I^C)+k[5]+4294588738&4294967295,N=A+(R<<4&4294967295|R>>>28),R=C+(N^A^I)+k[8]+2272392833&4294967295,C=N+(R<<11&4294967295|R>>>21),R=I+(C^N^A)+k[11]+1839030562&4294967295,I=C+(R<<16&4294967295|R>>>16),R=A+(I^C^N)+k[14]+4259657740&4294967295,A=I+(R<<23&4294967295|R>>>9),R=N+(A^I^C)+k[1]+2763975236&4294967295,N=A+(R<<4&4294967295|R>>>28),R=C+(N^A^I)+k[4]+1272893353&4294967295,C=N+(R<<11&4294967295|R>>>21),R=I+(C^N^A)+k[7]+4139469664&4294967295,I=C+(R<<16&4294967295|R>>>16),R=A+(I^C^N)+k[10]+3200236656&4294967295,A=I+(R<<23&4294967295|R>>>9),R=N+(A^I^C)+k[13]+681279174&4294967295,N=A+(R<<4&4294967295|R>>>28),R=C+(N^A^I)+k[0]+3936430074&4294967295,C=N+(R<<11&4294967295|R>>>21),R=I+(C^N^A)+k[3]+3572445317&4294967295,I=C+(R<<16&4294967295|R>>>16),R=A+(I^C^N)+k[6]+76029189&4294967295,A=I+(R<<23&4294967295|R>>>9),R=N+(A^I^C)+k[9]+3654602809&4294967295,N=A+(R<<4&4294967295|R>>>28),R=C+(N^A^I)+k[12]+3873151461&4294967295,C=N+(R<<11&4294967295|R>>>21),R=I+(C^N^A)+k[15]+530742520&4294967295,I=C+(R<<16&4294967295|R>>>16),R=A+(I^C^N)+k[2]+3299628645&4294967295,A=I+(R<<23&4294967295|R>>>9),R=N+(I^(A|~C))+k[0]+4096336452&4294967295,N=A+(R<<6&4294967295|R>>>26),R=C+(A^(N|~I))+k[7]+1126891415&4294967295,C=N+(R<<10&4294967295|R>>>22),R=I+(N^(C|~A))+k[14]+2878612391&4294967295,I=C+(R<<15&4294967295|R>>>17),R=A+(C^(I|~N))+k[5]+4237533241&4294967295,A=I+(R<<21&4294967295|R>>>11),R=N+(I^(A|~C))+k[12]+1700485571&4294967295,N=A+(R<<6&4294967295|R>>>26),R=C+(A^(N|~I))+k[3]+2399980690&4294967295,C=N+(R<<10&4294967295|R>>>22),R=I+(N^(C|~A))+k[10]+4293915773&4294967295,I=C+(R<<15&4294967295|R>>>17),R=A+(C^(I|~N))+k[1]+2240044497&4294967295,A=I+(R<<21&4294967295|R>>>11),R=N+(I^(A|~C))+k[8]+1873313359&4294967295,N=A+(R<<6&4294967295|R>>>26),R=C+(A^(N|~I))+k[15]+4264355552&4294967295,C=N+(R<<10&4294967295|R>>>22),R=I+(N^(C|~A))+k[6]+2734768916&4294967295,I=C+(R<<15&4294967295|R>>>17),R=A+(C^(I|~N))+k[13]+1309151649&4294967295,A=I+(R<<21&4294967295|R>>>11),R=N+(I^(A|~C))+k[4]+4149444226&4294967295,N=A+(R<<6&4294967295|R>>>26),R=C+(A^(N|~I))+k[11]+3174756917&4294967295,C=N+(R<<10&4294967295|R>>>22),R=I+(N^(C|~A))+k[2]+718787259&4294967295,I=C+(R<<15&4294967295|R>>>17),R=A+(C^(I|~N))+k[9]+3951481745&4294967295,j.g[0]=j.g[0]+N&4294967295,j.g[1]=j.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,j.g[2]=j.g[2]+I&4294967295,j.g[3]=j.g[3]+C&4294967295}i.prototype.v=function(j,N){N===void 0&&(N=j.length);const A=N-this.blockSize,k=this.C;let I=this.h,C=0;for(;C<N;){if(I==0)for(;C<=A;)o(this,j,C),C+=this.blockSize;if(typeof j=="string"){for(;C<N;)if(k[I++]=j.charCodeAt(C++),I==this.blockSize){o(this,k),I=0;break}}else for(;C<N;)if(k[I++]=j[C++],I==this.blockSize){o(this,k),I=0;break}}this.h=I,this.o+=N},i.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var N=1;N<j.length-8;++N)j[N]=0;N=this.o*8;for(var A=j.length-8;A<j.length;++A)j[A]=N&255,N/=256;for(this.v(j),j=Array(16),N=0,A=0;A<4;++A)for(let k=0;k<32;k+=8)j[N++]=this.g[A]>>>k&255;return j};function c(j,N){var A=p;return Object.prototype.hasOwnProperty.call(A,j)?A[j]:A[j]=N(j)}function d(j,N){this.h=N;const A=[];let k=!0;for(let I=j.length-1;I>=0;I--){const C=j[I]|0;k&&C==N||(A[I]=C,k=!1)}this.g=A}var p={};function g(j){return-128<=j&&j<128?c(j,function(N){return new d([N|0],N<0?-1:0)}):new d([j|0],j<0?-1:0)}function y(j){if(isNaN(j)||!isFinite(j))return E;if(j<0)return M(y(-j));const N=[];let A=1;for(let k=0;j>=A;k++)N[k]=j/A|0,A*=4294967296;return new d(N,0)}function x(j,N){if(j.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(j.charAt(0)=="-")return M(x(j.substring(1),N));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=y(Math.pow(N,8));let k=E;for(let C=0;C<j.length;C+=8){var I=Math.min(8,j.length-C);const R=parseInt(j.substring(C,C+I),N);I<8?(I=y(Math.pow(N,I)),k=k.j(I).add(y(R))):(k=k.j(A),k=k.add(y(R)))}return k}var E=g(0),T=g(1),D=g(16777216);r=d.prototype,r.m=function(){if(z(this))return-M(this).m();let j=0,N=1;for(let A=0;A<this.g.length;A++){const k=this.i(A);j+=(k>=0?k:4294967296+k)*N,N*=4294967296}return j},r.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(P(this))return"0";if(z(this))return"-"+M(this).toString(j);const N=y(Math.pow(j,6));var A=this;let k="";for(;;){const I=ie(A,N).g;A=X(A,I.j(N));let C=((A.g.length>0?A.g[0]:A.h)>>>0).toString(j);if(A=I,P(A))return C+k;for(;C.length<6;)C="0"+C;k=C+k}},r.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function P(j){if(j.h!=0)return!1;for(let N=0;N<j.g.length;N++)if(j.g[N]!=0)return!1;return!0}function z(j){return j.h==-1}r.l=function(j){return j=X(this,j),z(j)?-1:P(j)?0:1};function M(j){const N=j.g.length,A=[];for(let k=0;k<N;k++)A[k]=~j.g[k];return new d(A,~j.h).add(T)}r.abs=function(){return z(this)?M(this):this},r.add=function(j){const N=Math.max(this.g.length,j.g.length),A=[];let k=0;for(let I=0;I<=N;I++){let C=k+(this.i(I)&65535)+(j.i(I)&65535),R=(C>>>16)+(this.i(I)>>>16)+(j.i(I)>>>16);k=R>>>16,C&=65535,R&=65535,A[I]=R<<16|C}return new d(A,A[A.length-1]&-2147483648?-1:0)};function X(j,N){return j.add(M(N))}r.j=function(j){if(P(this)||P(j))return E;if(z(this))return z(j)?M(this).j(M(j)):M(M(this).j(j));if(z(j))return M(this.j(M(j)));if(this.l(D)<0&&j.l(D)<0)return y(this.m()*j.m());const N=this.g.length+j.g.length,A=[];for(var k=0;k<2*N;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(let I=0;I<j.g.length;I++){const C=this.i(k)>>>16,R=this.i(k)&65535,De=j.i(I)>>>16,mt=j.i(I)&65535;A[2*k+2*I]+=R*mt,Y(A,2*k+2*I),A[2*k+2*I+1]+=C*mt,Y(A,2*k+2*I+1),A[2*k+2*I+1]+=R*De,Y(A,2*k+2*I+1),A[2*k+2*I+2]+=C*De,Y(A,2*k+2*I+2)}for(j=0;j<N;j++)A[j]=A[2*j+1]<<16|A[2*j];for(j=N;j<2*N;j++)A[j]=0;return new d(A,0)};function Y(j,N){for(;(j[N]&65535)!=j[N];)j[N+1]+=j[N]>>>16,j[N]&=65535,N++}function K(j,N){this.g=j,this.h=N}function ie(j,N){if(P(N))throw Error("division by zero");if(P(j))return new K(E,E);if(z(j))return N=ie(M(j),N),new K(M(N.g),M(N.h));if(z(N))return N=ie(j,M(N)),new K(M(N.g),N.h);if(j.g.length>30){if(z(j)||z(N))throw Error("slowDivide_ only works with positive integers.");for(var A=T,k=N;k.l(j)<=0;)A=me(A),k=me(k);var I=xe(A,1),C=xe(k,1);for(k=xe(k,2),A=xe(A,2);!P(k);){var R=C.add(k);R.l(j)<=0&&(I=I.add(A),C=R),k=xe(k,1),A=xe(A,1)}return N=X(j,I.j(N)),new K(I,N)}for(I=E;j.l(N)>=0;){for(A=Math.max(1,Math.floor(j.m()/N.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),C=y(A),R=C.j(N);z(R)||R.l(j)>0;)A-=k,C=y(A),R=C.j(N);P(C)&&(C=T),I=I.add(C),j=X(j,R)}return new K(I,j)}r.B=function(j){return ie(this,j).h},r.and=function(j){const N=Math.max(this.g.length,j.g.length),A=[];for(let k=0;k<N;k++)A[k]=this.i(k)&j.i(k);return new d(A,this.h&j.h)},r.or=function(j){const N=Math.max(this.g.length,j.g.length),A=[];for(let k=0;k<N;k++)A[k]=this.i(k)|j.i(k);return new d(A,this.h|j.h)},r.xor=function(j){const N=Math.max(this.g.length,j.g.length),A=[];for(let k=0;k<N;k++)A[k]=this.i(k)^j.i(k);return new d(A,this.h^j.h)};function me(j){const N=j.g.length+1,A=[];for(let k=0;k<N;k++)A[k]=j.i(k)<<1|j.i(k-1)>>>31;return new d(A,j.h)}function xe(j,N){const A=N>>5;N%=32;const k=j.g.length-A,I=[];for(let C=0;C<k;C++)I[C]=N>0?j.i(C+A)>>>N|j.i(C+A+1)<<32-N:j.i(C+A);return new d(I,j.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,xE=i,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=x,gi=d}).apply(typeof lx<"u"?lx:typeof self<"u"?self:typeof window<"u"?window:{});var Ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bE,tc,EE,Ph,bp,wE,TE,SE;(function(){var r,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ah=="object"&&Ah];for(var v=0;v<u.length;++v){var b=u[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=n(this);function o(u,v){if(v)e:{var b=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var H=u[S];if(!(H in b))break e;b=b[H]}u=u[u.length-1],S=b[u],v=v(S),v!=S&&v!=null&&e(b,u,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(v){var b=[],S;for(S in v)Object.prototype.hasOwnProperty.call(v,S)&&b.push([S,v[S]]);return b}});var c=c||{},d=this||self;function p(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function g(u,v,b){return u.call.apply(u.bind,arguments)}function y(u,v,b){return y=g,y.apply(null,arguments)}function x(u,v){var b=Array.prototype.slice.call(arguments,1);return function(){var S=b.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function E(u,v){function b(){}b.prototype=v.prototype,u.Z=v.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(S,H,Q){for(var re=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)re[Ae-2]=arguments[Ae];return v.prototype[H].apply(S,re)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function D(u){const v=u.length;if(v>0){const b=Array(v);for(let S=0;S<v;S++)b[S]=u[S];return b}return[]}function P(u,v){for(let S=1;S<arguments.length;S++){const H=arguments[S];var b=typeof H;if(b=b!="object"?b:H?Array.isArray(H)?"array":b:"null",b=="array"||b=="object"&&typeof H.length=="number"){b=u.length||0;const Q=H.length||0;u.length=b+Q;for(let re=0;re<Q;re++)u[b+re]=H[re]}else u.push(H)}}class z{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function M(u){d.setTimeout(()=>{throw u},0)}function X(){var u=j;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class Y{constructor(){this.h=this.g=null}add(v,b){const S=K.get();S.set(v,b),this.h?this.h.next=S:this.g=S,this.h=S}}var K=new z(()=>new ie,u=>u.reset());class ie{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let me,xe=!1,j=new Y,N=()=>{const u=Promise.resolve(void 0);me=()=>{u.then(A)}};function A(){for(var u;u=X();){try{u.h.call(u.g)}catch(b){M(b)}var v=K;v.j(u),v.h<100&&(v.h++,u.next=v.g,v.g=u)}xe=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var C=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,v),d.removeEventListener("test",b,v)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function De(u,v){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,v)}E(De,I),De.prototype.init=function(u,v){const b=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget,v||(b=="mouseover"?v=u.fromElement:b=="mouseout"&&(v=u.toElement)),this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&De.Z.h.call(this)},De.prototype.h=function(){De.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var mt="closure_listenable_"+(Math.random()*1e6|0),$=0;function oe(u,v,b,S,H){this.listener=u,this.proxy=null,this.src=v,this.type=b,this.capture=!!S,this.ha=H,this.key=++$,this.da=this.fa=!1}function ye(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function He(u,v,b){for(const S in u)v.call(b,u[S],S,u)}function Qe(u,v){for(const b in u)v.call(void 0,u[b],b,u)}function U(u){const v={};for(const b in u)v[b]=u[b];return v}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(u,v){let b,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(b in S)u[b]=S[b];for(let Q=0;Q<ne.length;Q++)b=ne[Q],Object.prototype.hasOwnProperty.call(S,b)&&(u[b]=S[b])}}function he(u){this.src=u,this.g={},this.h=0}he.prototype.add=function(u,v,b,S,H){const Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);const re=Re(u,v,S,H);return re>-1?(v=u[re],b||(v.fa=!1)):(v=new oe(v,this.src,Q,!!S,H),v.fa=b,u.push(v)),v};function we(u,v){const b=v.type;if(b in u.g){var S=u.g[b],H=Array.prototype.indexOf.call(S,v,void 0),Q;(Q=H>=0)&&Array.prototype.splice.call(S,H,1),Q&&(ye(v),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Re(u,v,b,S){for(let H=0;H<u.length;++H){const Q=u[H];if(!Q.da&&Q.listener==v&&Q.capture==!!b&&Q.ha==S)return H}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Pt={};function ot(u,v,b,S,H){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)ot(u,v[Q],b,S,H);return null}return b=Qo(b),u&&u[mt]?u.J(v,b,p(S)?!!S.capture:!1,H):Ii(u,v,b,!1,S,H)}function Ii(u,v,b,S,H,Q){if(!v)throw Error("Invalid event type");const re=p(H)?!!H.capture:!!H;let Ae=ji(u);if(Ae||(u[Ue]=Ae=new he(u)),b=Ae.add(v,b,S,re,Q),b.proxy)return b;if(S=Ta(),b.proxy=S,S.src=u,S.listener=b,u.addEventListener)C||(H=re),H===void 0&&(H=!1),u.addEventListener(v.toString(),S,H);else if(u.attachEvent)u.attachEvent(_s(v.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ta(){function u(b){return v.call(u.src,u.listener,b)}const v=Ko;return u}function Sa(u,v,b,S,H){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Sa(u,v[Q],b,S,H);else S=p(S)?!!S.capture:!!S,b=Qo(b),u&&u[mt]?(u=u.i,Q=String(v).toString(),Q in u.g&&(v=u.g[Q],b=Re(v,b,S,H),b>-1&&(ye(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete u.g[Q],u.h--)))):u&&(u=ji(u))&&(v=u.g[v.toString()],u=-1,v&&(u=Re(v,b,S,H)),(b=u>-1?v[u]:null)&&Aa(b))}function Aa(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[mt])we(v.i,u);else{var b=u.type,S=u.proxy;v.removeEventListener?v.removeEventListener(b,S,u.capture):v.detachEvent?v.detachEvent(_s(b),S):v.addListener&&v.removeListener&&v.removeListener(S),(b=ji(v))?(we(b,u),b.h==0&&(b.src=null,v[Ue]=null)):ye(u)}}}function _s(u){return u in Pt?Pt[u]:Pt[u]="on"+u}function Ko(u,v){if(u.da)u=!0;else{v=new De(v,this);const b=u.listener,S=u.ha||u.src;u.fa&&Aa(u),u=b.call(S,v)}return u}function ji(u){return u=u[Ue],u instanceof he?u:null}var Yo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Qo(u){return typeof u=="function"?u:(u[Yo]||(u[Yo]=function(v){return u.handleEvent(v)}),u[Yo])}function wt(){k.call(this),this.i=new he(this),this.M=this,this.G=null}E(wt,k),wt.prototype[mt]=!0,wt.prototype.removeEventListener=function(u,v,b,S){Sa(this,u,v,b,S)};function Mt(u,v){var b,S=u.G;if(S)for(b=[];S;S=S.G)b.push(S);if(u=u.M,S=v.type||v,typeof v=="string")v=new I(v,u);else if(v instanceof I)v.target=v.target||u;else{var H=v;v=new I(S,u),le(v,H)}H=!0;let Q,re;if(b)for(re=b.length-1;re>=0;re--)Q=v.g=b[re],H=Cr(Q,S,!0,v)&&H;if(Q=v.g=u,H=Cr(Q,S,!0,v)&&H,H=Cr(Q,S,!1,v)&&H,b)for(re=0;re<b.length;re++)Q=v.g=b[re],H=Cr(Q,S,!1,v)&&H}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var u=this.i;for(const v in u.g){const b=u.g[v];for(let S=0;S<b.length;S++)ye(b[S]);delete u.g[v],u.h--}}this.G=null},wt.prototype.J=function(u,v,b,S){return this.i.add(String(u),v,!1,b,S)},wt.prototype.K=function(u,v,b,S){return this.i.add(String(u),v,!0,b,S)};function Cr(u,v,b,S){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();let H=!0;for(let Q=0;Q<v.length;++Q){const re=v[Q];if(re&&!re.da&&re.capture==b){const Ae=re.listener,_t=re.ha||re.src;re.fa&&we(u.i,re),H=Ae.call(_t,S)!==!1&&H}}return H&&!S.defaultPrevented}function Kd(u,v){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:d.setTimeout(u,v||0)}function Xc(u){u.g=Kd(()=>{u.g=null,u.i&&(u.i=!1,Xc(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class on extends k{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Xc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Di(u){k.call(this),this.h=u,this.g={}}E(Di,k);var Wo=[];function Xo(u){He(u.g,function(v,b){this.g.hasOwnProperty(b)&&Aa(v)},u),u.g={}}Di.prototype.N=function(){Di.Z.N.call(this),Xo(this)},Di.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ir=d.JSON.stringify,Yd=d.JSON.parse,$c=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Jc(){}function Zc(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){I.call(this,"d")}E(Gt,I);function Vn(){I.call(this,"c")}E(Vn,I);var vt={},eu=null;function Na(){return eu=eu||new wt}vt.Ia="serverreachability";function tu(u){I.call(this,vt.Ia,u)}E(tu,I);function xs(u){const v=Na();Mt(v,new tu(v))}vt.STAT_EVENT="statevent";function ki(u,v){I.call(this,vt.STAT_EVENT,u),this.stat=v}E(ki,I);function Tt(u){const v=Na();Mt(v,new ki(v,u))}vt.Ja="timingevent";function bs(u,v){I.call(this,vt.Ja,u),this.size=v}E(bs,I);function Es(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},v)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function Qd(u,v,b,S,H,Q){u.info(function(){if(u.g)if(Q){var re="",Ae=Q.split("&");for(let Ge=0;Ge<Ae.length;Ge++){var _t=Ae[Ge].split("=");if(_t.length>1){const lt=_t[0];_t=_t[1];const Un=lt.split("_");re=Un.length>=2&&Un[1]=="type"?re+(lt+"="+_t+"&"):re+(lt+"=redacted&")}}}else re=null;else re=Q;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+v+`
`+b+`
`+re})}function nu(u,v,b,S,H,Q,re){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+v+`
`+b+`
`+Q+" "+re})}function ws(u,v,b,S){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+Wd(u,b)+(S?" "+S:"")})}function Oi(u,v){u.info(function(){return"TIMEOUT: "+v})}Zn.prototype.info=function(){};function Wd(u,v){if(!u.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(u=0;u<Q.length;u++)if(Array.isArray(Q[u])){var b=Q[u];if(!(b.length<2)){var S=b[1];if(Array.isArray(S)&&!(S.length<1)){var H=S[0];if(H!="noop"&&H!="stop"&&H!="close")for(let re=1;re<S.length;re++)S[re]=""}}}}return Ir(Q)}catch{return v}}var Vi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$o={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jo;function Pi(){}E(Pi,Jc),Pi.prototype.g=function(){return new XMLHttpRequest},Jo=new Pi;function Zs(u){return encodeURIComponent(String(u))}function su(u){var v=1;u=u.split(":");const b=[];for(;v>0&&u.length;)b.push(u.shift()),v--;return u.length&&b.push(u.join(":")),b}function es(u,v,b,S){this.j=u,this.i=v,this.l=b,this.S=S||1,this.V=new Di(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ts}function ts(){this.i=null,this.g="",this.h=!1}var St={},zt={};function Ts(u,v,b){u.M=1,u.A=Mi(Nt(v)),u.u=b,u.R=!0,Ra(u,null)}function Ra(u,v){u.F=Date.now(),Ss(u),u.B=Nt(u.A);var b=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Da(b.i,"t",S),u.C=0,b=u.j.L,u.h=new ts,u.g=vu(u.j,b?v:null,!u.u),u.P>0&&(u.O=new on(y(u.Y,u,u.g),u.P)),v=u.V,b=u.g,S=u.ba;var H="readystatechange";Array.isArray(H)||(H&&(Wo[0]=H.toString()),H=Wo);for(let Q=0;Q<H.length;Q++){const re=ot(b,H[Q],S||v.handleEvent,!1,v.h||v);if(!re)break;v.g[re.key]=re}v=u.J?U(u.J):{},u.u?(u.v||(u.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,v)):(u.v="GET",u.g.ea(u.B,u.v,null,v)),xs(),Qd(u.i,u.v,u.B,u.l,u.S,u.u)}es.prototype.ba=function(u){u=u.target;const v=this.O;v&&rs(u)==3?v.j():this.Y(u)},es.prototype.Y=function(u){try{if(u==this.g)e:{const Ae=rs(this.g),_t=this.g.ya(),Ge=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Ae!=4||_t==7||(_t==8||Ge<=0?xs(3):xs(2)),As(this);var v=this.g.ca();this.X=v;var b=Xd(this);if(this.o=v==200,nu(this.i,this.v,this.B,this.l,this.S,Ae,v),this.o){if(this.U&&!this.L){t:{if(this.g){var S,H=this.g;if((S=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(S)){var Q=S;break t}}Q=null}if(u=Q)ws(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ns(this,u);else{this.o=!1,this.m=3,Tt(12),xn(this),Pn(this);break e}}if(this.R){u=!0;let lt;for(;!this.K&&this.C<b.length;)if(lt=iu(this,b),lt==zt){Ae==4&&(this.m=4,Tt(14),u=!1),ws(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==St){this.m=4,Tt(15),ws(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else ws(this.i,this.l,lt,null),Ns(this,lt);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||b.length!=0||this.h.h||(this.m=1,Tt(16),u=!1),this.o=this.o&&u,!u)ws(this.i,this.l,b,"[Invalid Chunked Response]"),xn(this),Pn(this);else if(b.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),fl(re),re.P=!0,Tt(11))}}else ws(this.i,this.l,b,null),Ns(this,b);Ae==4&&xn(this),this.o&&!this.K&&(Ae==4?mu(this.j,this):(this.o=!1,Ss(this)))}else tr(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),xn(this),Pn(this)}}}catch{}finally{}};function Xd(u){if(!ru(u))return u.g.la();const v=Kt(u.g);if(v==="")return"";let b="";const S=v.length,H=rs(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return xn(u),Pn(u),"";u.h.i=new d.TextDecoder}for(let Q=0;Q<S;Q++)u.h.h=!0,b+=u.h.i.decode(v[Q],{stream:!(H&&Q==S-1)});return v.length=0,u.h.g+=b,u.C=0,u.h.g}function ru(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function iu(u,v){var b=u.C,S=v.indexOf(`
`,b);return S==-1?zt:(b=Number(v.substring(b,S)),isNaN(b)?St:(S+=1,S+b>v.length?zt:(v=v.slice(S,S+b),u.C=S+b,v)))}es.prototype.cancel=function(){this.K=!0,xn(this)};function Ss(u){u.T=Date.now()+u.H,Ca(u,u.H)}function Ca(u,v){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Es(y(u.aa,u),v)}function As(u){u.D&&(d.clearTimeout(u.D),u.D=null)}es.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Oi(this.i,this.B),this.M!=2&&(xs(),Tt(17)),xn(this),this.m=2,Pn(this)):Ca(this,this.T-u)};function Pn(u){u.j.I==0||u.K||mu(u.j,u)}function xn(u){As(u);var v=u.O;v&&typeof v.dispose=="function"&&v.dispose(),u.O=null,Xo(u.V),u.g&&(v=u.g,u.g=null,v.abort(),v.dispose())}function Ns(u,v){try{var b=u.j;if(b.I!=0&&(b.g==u||Cs(b.h,u))){if(!u.L&&Cs(b.h,u)&&b.I==3){try{var S=b.Ba.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)Ma(b),Lr(b);else break e;Fi(b),Tt(18)}}else b.xa=H[1],0<b.xa-b.K&&H[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Es(y(b.Va,b),6e3));Rs(b.h)<=1&&b.ta&&(b.ta=void 0)}else Vs(b,11)}else if((u.L||b.g==u)&&Ma(b),!R(v))for(H=b.Ba.g.parse(v),v=0;v<H.length;v++){let Ge=H[v];const lt=Ge[0];if(!(lt<=b.K))if(b.K=lt,Ge=Ge[1],b.I==2)if(Ge[0]=="c"){b.M=Ge[1],b.ba=Ge[2];const Un=Ge[3];Un!=null&&(b.ka=Un,b.j.info("VER="+b.ka));const Ps=Ge[4];Ps!=null&&(b.za=Ps,b.j.info("SVER="+b.za));const is=Ge[5];is!=null&&typeof is=="number"&&is>0&&(S=1.5*is,b.O=S,b.j.info("backChannelRequestTimeoutMs_="+S)),S=b;const as=u.g;if(as){const Gi=as.g?as.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gi){var Q=S.h;Q.g||Gi.indexOf("spdy")==-1&&Gi.indexOf("quic")==-1&&Gi.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(tl(Q,Q.h),Q.h=null))}if(S.G){const La=as.g?as.g.getResponseHeader("X-HTTP-Session-Id"):null;La&&(S.wa=La,We(S.J,S.G,La))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),S=b;var re=u;if(S.na=yu(S,S.L?S.ba:null,S.W),re.L){nl(S.h,re);var Ae=re,_t=S.O;_t&&(Ae.H=_t),Ae.D&&(As(Ae),Ss(Ae)),S.g=re}else du(S);b.i.length>0&&Os(b)}else Ge[0]!="stop"&&Ge[0]!="close"||Vs(b,7);else b.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Vs(b,7):hl(b):Ge[0]!="noop"&&b.l&&b.l.qa(Ge),b.A=0)}}xs(4)}catch{}}var At=class{constructor(u,v){this.g=u,this.map=v}};function Zo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function el(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Rs(u){return u.h?1:u.g?u.g.size:0}function Cs(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function tl(u,v){u.g?u.g.add(v):u.h=v}function nl(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}Zo.prototype.cancel=function(){if(this.i=sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function sl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const b of u.g.values())v=v.concat(b.G);return v}return D(u.i)}var au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ia(u,v){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const S=u[b].indexOf("=");let H,Q=null;S>=0?(H=u[b].substring(0,S),Q=u[b].substring(S+1)):H=u[b],v(H,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;u instanceof bn?(this.l=u.l,Bt(this,u.j),this.o=u.o,this.g=u.g,jr(this,u.u),this.h=u.h,rl(this,uu(u.i)),this.m=u.m):u&&(v=String(u).match(au))?(this.l=!1,Bt(this,v[1]||"",!0),this.o=Is(v[2]||""),this.g=Is(v[3]||"",!0),jr(this,v[4]),this.h=Is(v[5]||"",!0),rl(this,v[6]||"",!0),this.m=Is(v[7]||"")):(this.l=!1,this.i=new kr(null,this.l))}bn.prototype.toString=function(){const u=[];var v=this.j;v&&u.push(Li(v,ja,!0),":");var b=this.g;return(b||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Li(v,ja,!0),"@"),u.push(Zs(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Li(b,b.charAt(0)=="/"?il:ou,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Li(b,lu)),u.join("")},bn.prototype.resolve=function(u){const v=Nt(this);let b=!!u.j;b?Bt(v,u.j):b=!!u.o,b?v.o=u.o:b=!!u.g,b?v.g=u.g:b=u.u!=null;var S=u.h;if(b)jr(v,u.u);else if(b=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var H=v.h.lastIndexOf("/");H!=-1&&(S=v.h.slice(0,H+1)+S)}if(H=S,H==".."||H==".")S="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){S=H.lastIndexOf("/",0)==0,H=H.split("/");const Q=[];for(let re=0;re<H.length;){const Ae=H[re++];Ae=="."?S&&re==H.length&&Q.push(""):Ae==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),S&&re==H.length&&Q.push("")):(Q.push(Ae),S=!0)}S=Q.join("/")}else S=H}return b?v.h=S:b=u.i.toString()!=="",b?rl(v,uu(u.i)):b=!!u.m,b&&(v.m=u.m),v};function Nt(u){return new bn(u)}function Bt(u,v,b){u.j=b?Is(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function jr(u,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);u.u=v}else u.u=null}function rl(u,v,b){v instanceof kr?(u.i=v,ka(u.i,u.l)):(b||(v=Li(v,Dr)),u.i=new kr(v,u.l))}function We(u,v,b){u.i.set(v,b)}function Mi(u){return We(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Is(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Li(u,v,b){return typeof u=="string"?(u=encodeURI(u).replace(v,hn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ja=/[#\/\?@]/g,ou=/[#\?:]/g,il=/[#\?]/g,Dr=/[#\?@]/g,lu=/#/g;function kr(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ia(u.i,function(v,b){u.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}r=kr.prototype,r.add=function(u,v){dn(this),this.i=null,u=Or(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(v),this.h+=1,this};function cu(u,v){dn(u),v=Or(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function al(u,v){return dn(u),v=Or(u,v),u.g.has(v)}r.forEach=function(u,v){dn(this),this.g.forEach(function(b,S){b.forEach(function(H){u.call(v,H,S,this)},this)},this)};function ol(u,v){dn(u);let b=[];if(typeof v=="string")al(u,v)&&(b=b.concat(u.g.get(Or(u,v))));else for(u=Array.from(u.g.values()),v=0;v<u.length;v++)b=b.concat(u[v]);return b}r.set=function(u,v){return dn(this),this.i=null,u=Or(this,u),al(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},r.get=function(u,v){return u?(u=ol(this,u),u.length>0?String(u[0]):v):v};function Da(u,v,b){cu(u,v),b.length>0&&(u.i=null,u.g.set(Or(u,v),D(b)),u.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(let S=0;S<v.length;S++){var b=v[S];const H=Zs(b);b=ol(this,b);for(let Q=0;Q<b.length;Q++){let re=H;b[Q]!==""&&(re+="="+Zs(b[Q])),u.push(re)}}return this.i=u.join("&")};function uu(u){const v=new kr;return v.i=u.i,u.g&&(v.g=new Map(u.g),v.h=u.h),v}function Or(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function ka(u,v){v&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(b,S){const H=S.toLowerCase();S!=H&&(cu(this,S),Da(this,H,b))},u)),u.j=v}function ns(u,v){const b=new Zn;if(d.Image){const S=new Image;S.onload=x(Mn,b,"TestLoadImage: loaded",!0,v,S),S.onerror=x(Mn,b,"TestLoadImage: error",!1,v,S),S.onabort=x(Mn,b,"TestLoadImage: abort",!1,v,S),S.ontimeout=x(Mn,b,"TestLoadImage: timeout",!1,v,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else v(!1)}function ll(u,v){const b=new Zn,S=new AbortController,H=setTimeout(()=>{S.abort(),Mn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:S.signal}).then(Q=>{clearTimeout(H),Q.ok?Mn(b,"TestPingServer: ok",!0,v):Mn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),Mn(b,"TestPingServer: error",!1,v)})}function Mn(u,v,b,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(b)}catch{}}function Vr(){this.g=new $c}function js(u){this.i=u.Sb||null,this.h=u.ab||!1}E(js,Jc),js.prototype.g=function(){return new Ui(this.i,this.h)};function Ui(u,v){wt.call(this),this.H=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Ui,wt),r=Ui.prototype,r.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=v,this.readyState=1,ss(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(v.body=u),(this.H||d).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Pr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ss(this)),this.g&&(this.readyState=3,ss(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Oa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Oa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?Pr(this):ss(this),this.readyState==3&&Oa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Pr(this))},r.Na=function(u){this.g&&(this.response=u,Pr(this))},r.ga=function(){this.g&&Pr(this)};function Pr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ss(u)}r.setRequestHeader=function(u,v){this.A.append(u,v)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=v.next();return u.join(`\r
`)};function ss(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ln(u){let v="";return He(u,function(b,S){v+=S,v+=":",v+=b,v+=`\r
`}),v}function zi(u,v,b){e:{for(S in b){var S=!1;break e}S=!0}S||(b=Ln(b),typeof u=="string"?b!=null&&Zs(b):We(u,v,b))}function Je(u){wt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Je,wt);var Ds=/^https?$/i,cl=["POST","PUT"];r=Je.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,v,b,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jo.g(),this.g.onreadystatechange=T(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(Q){Bi(this,Q);return}if(u=b||"",b=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)b.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())b.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(b.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(cl,v,void 0)>=0)||S||H||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,re]of b)this.g.setRequestHeader(Q,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Q){Bi(this,Q)}};function Bi(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.o=5,ul(u),er(u)}function ul(u){u.A||(u.A=!0,Mt(u,"complete"),Mt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Mt(this,"complete"),Mt(this,"abort"),er(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),er(this,!0)),Je.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Hi(this):this.Xa())},r.Xa=function(){Hi(this)};function Hi(u){if(u.h&&typeof c<"u"){if(u.v&&rs(u)==4)setTimeout(u.Ca.bind(u),0);else if(Mt(u,"readystatechange"),rs(u)==4){u.h=!1;try{const Q=u.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var S;if(S=Q===0){let re=String(u.D).match(au)[1]||null;!re&&d.self&&d.self.location&&(re=d.self.location.protocol.slice(0,-1)),S=!Ds.test(re?re.toLowerCase():"")}b=S}if(b)Mt(u,"complete"),Mt(u,"success");else{u.o=6;try{var H=rs(u)>2?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.ca()+"]",ul(u)}}finally{er(u)}}}}function er(u,v){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,v||Mt(u,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function rs(u){return u.g?u.g.readyState:0}r.ca=function(){try{return rs(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),Yd(v)}};function Kt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function tr(u){const v={};u=(u.g&&rs(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(R(u[S]))continue;var b=su(u[S]);const H=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Q=v[H]||[];v[H]=Q,Q.push(b)}Qe(v,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ks(u,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||v}function Mr(u){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ks("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ks("baseRetryDelayMs",5e3,u),this.Za=ks("retryDelaySeedMs",1e4,u),this.Ta=ks("forwardChannelMaxRetries",2,u),this.va=ks("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Zo(u&&u.concurrentRequestLimit),this.Ba=new Vr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Mr.prototype,r.ka=8,r.I=1,r.connect=function(u,v,b,S){Tt(0),this.W=u,this.H=v||{},b&&S!==void 0&&(this.H.OSID=b,this.H.OAID=S),this.F=this.X,this.J=yu(this,null,this.W),Os(this)};function hl(u){if(Va(u),u.I==3){var v=u.V++,b=Nt(u.J);if(We(b,"SID",u.M),We(b,"RID",v),We(b,"TYPE","terminate"),qi(u,b),v=new es(u,u.j,v),v.M=2,v.A=Mi(Nt(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=v.A,b=!0),b||(v.g=vu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ss(v)}gu(u)}function Lr(u){u.g&&(fl(u),u.g.cancel(),u.g=null)}function Va(u){Lr(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ma(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Os(u){if(!el(u.h)&&!u.m){u.m=!0;var v=u.Ea;me||N(),xe||(me(),xe=!0),j.add(v,u),u.D=0}}function Pa(u,v){return Rs(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=v.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Es(y(u.Ea,u,v),pu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const H=new es(this,this.j,u);let Q=this.o;if(this.U&&(Q?(Q=U(Q),le(Q,this.U)):Q=this.U),this.u!==null||this.R||(H.J=Q,Q=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var S=this.i[b];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=hu(this,H,v),b=Nt(this.J),We(b,"RID",u),We(b,"CVER",22),this.G&&We(b,"X-HTTP-Session-Id",this.G),qi(this,b),Q&&(this.R?v="headers="+Zs(Ln(Q))+"&"+v:this.u&&zi(b,this.u,Q)),tl(this.h,H),this.Ra&&We(b,"TYPE","init"),this.S?(We(b,"$req",v),We(b,"SID","null"),H.U=!0,Ts(H,b,null)):Ts(H,b,v),this.I=2}}else this.I==3&&(u?dl(this,u):this.i.length==0||el(this.h)||dl(this))};function dl(u,v){var b;v?b=v.l:b=u.V++;const S=Nt(u.J);We(S,"SID",u.M),We(S,"RID",b),We(S,"AID",u.K),qi(u,S),u.u&&u.o&&zi(S,u.u,u.o),b=new es(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),v&&(u.i=v.G.concat(u.i)),v=hu(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),tl(u.h,b),Ts(b,S,v)}function qi(u,v){u.H&&He(u.H,function(b,S){We(v,S,b)}),u.l&&He({},function(b,S){We(v,S,b)})}function hu(u,v,b){b=Math.min(u.i.length,b);const S=u.l?y(u.l.Ka,u.l,u):null;e:{var H=u.i;let Ae=-1;for(;;){const _t=["count="+b];Ae==-1?b>0?(Ae=H[0].g,_t.push("ofs="+Ae)):Ae=0:_t.push("ofs="+Ae);let Ge=!0;for(let lt=0;lt<b;lt++){var Q=H[lt].g;const Un=H[lt].map;if(Q-=Ae,Q<0)Ae=Math.max(0,H[lt].g-100),Ge=!1;else try{Q="req"+Q+"_"||"";try{var re=Un instanceof Map?Un:Object.entries(Un);for(const[Ps,is]of re){let as=is;p(is)&&(as=Ir(is)),_t.push(Q+Ps+"="+encodeURIComponent(as))}}catch(Ps){throw _t.push(Q+"type="+encodeURIComponent("_badmap")),Ps}}catch{S&&S(Un)}}if(Ge){re=_t.join("&");break e}}re=void 0}return u=u.i.splice(0,b),v.G=u,re}function du(u){if(!u.g&&!u.v){u.Y=1;var v=u.Da;me||N(),xe||(me(),xe=!0),j.add(v,u),u.A=0}}function Fi(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Es(y(u.Da,u),pu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Es(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Lr(this),fu(this))};function fl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function fu(u){u.g=new es(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var v=Nt(u.na);We(v,"RID","rpc"),We(v,"SID",u.M),We(v,"AID",u.K),We(v,"CI",u.F?"0":"1"),!u.F&&u.ia&&We(v,"TO",u.ia),We(v,"TYPE","xmlhttp"),qi(u,v),u.u&&u.o&&zi(v,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Mi(Nt(v)),b.u=null,b.R=!0,Ra(b,u)}r.Va=function(){this.C!=null&&(this.C=null,Lr(this),Fi(this),Tt(19))};function Ma(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function mu(u,v){var b=null;if(u.g==v){Ma(u),fl(u),u.g=null;var S=2}else if(Cs(u.h,v))b=v.G,nl(u.h,v),S=1;else return;if(u.I!=0){if(v.o)if(S==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var H=u.D;S=Na(),Mt(S,new bs(S,b)),Os(u)}else du(u);else if(H=v.m,H==3||H==0&&v.X>0||!(S==1&&Pa(u,v)||S==2&&Fi(u)))switch(b&&b.length>0&&(v=u.h,v.i=v.i.concat(b)),H){case 1:Vs(u,5);break;case 4:Vs(u,10);break;case 3:Vs(u,6);break;default:Vs(u,2)}}}function pu(u,v){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*v}function Vs(u,v){if(u.j.info("Error code "+v),v==2){var b=y(u.bb,u),S=u.Ua;const H=!S;S=new bn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Bt(S,"https"),Mi(S),H?ns(S.toString(),b):ll(S.toString(),b)}else Tt(2);u.I=0,u.l&&u.l.pa(v),gu(u),Va(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function gu(u){if(u.I=0,u.ja=[],u.l){const v=sl(u.h);(v.length!=0||u.i.length!=0)&&(P(u.ja,v),P(u.ja,u.i),u.h.i.length=0,D(u.i),u.i.length=0),u.l.oa()}}function yu(u,v,b){var S=b instanceof bn?Nt(b):new bn(b);if(S.g!="")v&&(S.g=v+"."+S.g),jr(S,S.u);else{var H=d.location;S=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;const Q=new bn(null);S&&Bt(Q,S),v&&(Q.g=v),H&&jr(Q,H),b&&(Q.h=b),S=Q}return b=u.G,v=u.wa,b&&v&&We(S,b,v),We(S,"VER",u.ka),qi(u,S),S}function vu(u,v,b){if(v&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Aa&&!u.ma?new Je(new js({ab:b})):new Je(u.ma),v.Fa(u.L),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}r=_u.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ur(){}Ur.prototype.g=function(u,v){return new ln(u,v)};function ln(u,v){wt.call(this),this.g=new Mr(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(u?u["X-WebChannel-Client-Profile"]=v.sa:u={"X-WebChannel-Client-Profile":v.sa}),this.g.U=u,(u=v&&v.Qb)&&!R(u)&&(this.g.u=u),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!R(v)&&(this.g.G=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new nr(this)}E(ln,wt),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){hl(this.g)},ln.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=Ir(u),u=b);v.i.push(new At(v.Ya++,u)),v.I==3&&Os(v)},ln.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,ln.Z.N.call(this)};function xu(u){Gt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const b in v){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}E(xu,Gt);function bu(){Vn.call(this),this.status=1}E(bu,Vn);function nr(u){this.g=u}E(nr,_u),nr.prototype.ra=function(){Mt(this.g,"a")},nr.prototype.qa=function(u){Mt(this.g,new xu(u))},nr.prototype.pa=function(u){Mt(this.g,new bu)},nr.prototype.oa=function(){Mt(this.g,"b")},Ur.prototype.createWebChannel=Ur.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,SE=function(){return new Ur},TE=function(){return Na()},wE=vt,bp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vi.NO_ERROR=0,Vi.TIMEOUT=8,Vi.HTTP_ERROR=6,Ph=Vi,$o.COMPLETE="complete",EE=$o,Zc.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",wt.prototype.listen=wt.prototype.J,tc=Zc,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,bE=Je}).apply(typeof Ah<"u"?Ah:typeof self<"u"?self:typeof window<"u"?window:{});const cx="@firebase/firestore",ux="4.9.2";class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let Po="12.3.0";const ya=new Kp("@firebase/firestore");function po(){return ya.logLevel}function ue(r,...e){if(ya.logLevel<=Ve.DEBUG){const n=e.map(ig);ya.debug(`Firestore (${Po}): ${r}`,...n)}}function Tr(r,...e){if(ya.logLevel<=Ve.ERROR){const n=e.map(ig);ya.error(`Firestore (${Po}): ${r}`,...n)}}function No(r,...e){if(ya.logLevel<=Ve.WARN){const n=e.map(ig);ya.warn(`Firestore (${Po}): ${r}`,...n)}}function ig(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ve(r,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,AE(r,i,n)}function AE(r,e,n){let i=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Tr(i),new Error(i)}function Be(r,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,r||AE(e,o,i)}function Te(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class NE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(sn.UNAUTHENTICATED)))}shutdown(){}}class ER{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class wR{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Be(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,n(g)):Promise.resolve();let c=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new xr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new xr)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Be(typeof i.accessToken=="string",31837,{l:i}),new NE(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class TR{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class SR{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new TR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Be(this.o===void 0,3512);const i=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>i(c)))};const o=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new hx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Be(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new hx(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function NR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<r;i++)n[i]=Math.floor(256*Math.random());return n}class ag{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=NR(40);for(let c=0;c<o.length;++c)i.length<20&&o[c]<n&&(i+=e.charAt(o[c]%62))}return i}}function Pe(r,e){return r<e?-1:r>e?1:0}function Ep(r,e){const n=Math.min(r.length,e.length);for(let i=0;i<n;i++){const o=r.charAt(i),c=e.charAt(i);if(o!==c)return rp(o)===rp(c)?Pe(o,c):rp(o)?1:-1}return Pe(r.length,e.length)}const RR=55296,CR=57343;function rp(r){const e=r.charCodeAt(0);return e>=RR&&e<=CR}function Ro(r,e,n){return r.length===e.length&&r.every(((i,o)=>n(i,e[o])))}const dx="__name__";class Bs{constructor(e,n,i){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&ve(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Bs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bs?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const c=Bs.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Pe(e.length,n.length)}static compareSegments(e,n){const i=Bs.isNumericId(e),o=Bs.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?Bs.extractNumericId(e).compare(Bs.extractNumericId(n)):Ep(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gi.fromString(e.substring(4,e.length-2))}}class nt extends Bs{construct(e,n,i){return new nt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ae(Z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const IR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Bs{construct(e,n,i){return new Jt(e,n,i)}static isValidIdentifier(e){return IR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dx}static keyField(){return new Jt([dx])}static fromServerFormat(e){const n=[];let i="",o=0;const c=()=>{if(i.length===0)throw new ae(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ae(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ae(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(i+=p,o++):(c(),o++)}if(c(),d)throw new ae(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(nt.fromString(e))}static fromName(e){return new pe(nt.fromString(e).popFirst(5))}static empty(){return new pe(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new nt(e.slice()))}}function RE(r,e,n){if(!n)throw new ae(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function jR(r,e,n,i){if(e===!0&&i===!0)throw new ae(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function fx(r){if(!pe.isDocumentKey(r))throw new ae(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function mx(r){if(pe.isDocumentKey(r))throw new ae(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function CE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ed(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve(12329,{type:typeof r})}function jn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ae(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ed(r);throw new ae(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Ot(r,e){const n={typeString:r};return e&&(n.value=e),n}function Vc(r,e){if(!CE(r))throw new ae(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){n=`JSON missing required field: '${i}'`;break}const d=r[i];if(o&&typeof d!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${i}' field to equal '${c.value}'`;break}}if(n)throw new ae(Z.INVALID_ARGUMENT,n);return!0}const px=-62135596800,gx=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*gx);return new at(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<px)throw new ae(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gx}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vc(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-px;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Ot("string",at._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new at(0,0))}static max(){return new be(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const _c=-1;function DR(r,e){const n=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(i===1e9?new at(n+1,0):new at(n,i));return new _i(o,pe.empty(),e)}function kR(r){return new _i(r.readTime,r.key,_c)}class _i{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new _i(be.min(),pe.empty(),_c)}static max(){return new _i(be.max(),pe.empty(),_c)}}function OR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}const VR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Mo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==VR)throw r;ue("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((i,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,i)=>{n(e)}))}static reject(e){return new se(((n,i)=>{i(e)}))}static waitFor(e){return new se(((n,i)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&n()}),(g=>i(g)))})),d=!0,c===o&&n()}))}static or(e){let n=se.resolve(!1);for(const i of e)n=n.next((o=>o?se.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,c)=>{i.push(n.call(this,o,c))})),this.waitFor(i)}static mapArray(e,n){return new se(((i,o)=>{const c=e.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((x=>{d[y]=x,++p,p===c&&i(d)}),(x=>o(x)))}}))}static doWhile(e,n){return new se(((i,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):i()};c()}))}}function MR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Lo(r){return r.name==="IndexedDbTransactionError"}class wd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wd.ce=-1;const og=-1;function Pc(r){return r==null}function $h(r){return r===0&&1/r==-1/0}function LR(r){return typeof r=="number"&&Number.isInteger(r)&&!$h(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const IE="";function UR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=yx(e)),e=zR(r.get(n),e);return yx(e)}function zR(r,e){let n=e;const i=r.length;for(let o=0;o<i;o++){const c=r.charAt(o);switch(c){case"\0":n+="";break;case IE:n+="";break;default:n+=c}}return n}function yx(r){return r+IE+""}function vx(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ni(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function jE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nh(this.root,e,this.comparator,!0)}}class Nh{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?i(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,i,o,c){this.key=e,this.value=n,this.color=i??$t.RED,this.left=o??$t.EMPTY,this.right=c??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,c){return new $t(e??this.key,n??this.value,i??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const c=i(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,i),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,i,o,c){return this}insert(e,n,i){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _x(this.data.getIterator())}getIteratorFrom(e){return new _x(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=i.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class _x{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class In{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new In([])}unionWith(e){let n=new Ut(Jt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class DE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new DE("Invalid base64 string: "+c):c}})(e);return new en(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const BR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xi(r){if(Be(!!r,39018),typeof r=="string"){let e=0;const n=BR.exec(r);if(Be(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Et(r.seconds),nanos:Et(r.nanos)}}function Et(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function bi(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}const kE="server_timestamp",OE="__type__",VE="__previous_value__",PE="__local_write_time__";function lg(r){return(r?.mapValue?.fields||{})[OE]?.stringValue===kE}function Td(r){const e=r.mapValue.fields[VE];return lg(e)?Td(e):e}function xc(r){const e=xi(r.mapValue.fields[PE].timestampValue);return new at(e.seconds,e.nanos)}class HR{constructor(e,n,i,o,c,d,p,g,y,x){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=x}}const Jh="(default)";class bc{constructor(e,n){this.projectId=e,this.database=n||Jh}static empty(){return new bc("","")}get isDefaultDatabase(){return this.database===Jh}isEqual(e){return e instanceof bc&&e.projectId===this.projectId&&e.database===this.database}}const ME="__type__",qR="__max__",Rh={mapValue:{}},LE="__vector__",Zh="value";function Ei(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?lg(r)?4:GR(r)?9007199254740991:FR(r)?10:11:ve(28295,{value:r})}function Ws(r,e){if(r===e)return!0;const n=Ei(r);if(n!==Ei(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return xc(r).isEqual(xc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=xi(o.timestampValue),p=xi(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return bi(o.bytesValue).isEqual(bi(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return Et(o.geoPointValue.latitude)===Et(c.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Et(o.integerValue)===Et(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Et(o.doubleValue),p=Et(c.doubleValue);return d===p?$h(d)===$h(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return Ro(r.arrayValue.values||[],e.arrayValue.values||[],Ws);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(vx(d)!==vx(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Ws(d[g],p[g])))return!1;return!0})(r,e);default:return ve(52216,{left:r})}}function Ec(r,e){return(r.values||[]).find((n=>Ws(n,e)))!==void 0}function Co(r,e){if(r===e)return 0;const n=Ei(r),i=Ei(e);if(n!==i)return Pe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Et(c.integerValue||c.doubleValue),g=Et(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,e);case 3:return xx(r.timestampValue,e.timestampValue);case 4:return xx(xc(r),xc(e));case 5:return Ep(r.stringValue,e.stringValue);case 6:return(function(c,d){const p=bi(c),g=bi(d);return p.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const x=Pe(p[y],g[y]);if(x!==0)return x}return Pe(p.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Pe(Et(c.latitude),Et(d.latitude));return p!==0?p:Pe(Et(c.longitude),Et(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return bx(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},g=d.fields||{},y=p[Zh]?.arrayValue,x=g[Zh]?.arrayValue,E=Pe(y?.values?.length||0,x?.values?.length||0);return E!==0?E:bx(y,x)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Rh.mapValue&&d===Rh.mapValue)return 0;if(c===Rh.mapValue)return 1;if(d===Rh.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=d.fields||{},x=Object.keys(y);g.sort(),x.sort();for(let E=0;E<g.length&&E<x.length;++E){const T=Ep(g[E],x[E]);if(T!==0)return T;const D=Co(p[g[E]],y[x[E]]);if(D!==0)return D}return Pe(g.length,x.length)})(r.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function xx(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=xi(r),i=xi(e),o=Pe(n.seconds,i.seconds);return o!==0?o:Pe(n.nanos,i.nanos)}function bx(r,e){const n=r.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const c=Co(n[o],i[o]);if(c)return c}return Pe(n.length,i.length)}function Io(r){return wp(r)}function wp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const i=xi(n);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return bi(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return pe.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let i="[",o=!0;for(const c of n.values||[])o?o=!1:i+=",",i+=wp(c);return i+"]"})(r.arrayValue):"mapValue"in r?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const d of i)c?c=!1:o+=",",o+=`${d}:${wp(n.fields[d])}`;return o+"}"})(r.mapValue):ve(61005,{value:r})}function Mh(r){switch(Ei(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Td(r);return e?16+Mh(e):16;case 5:return 2*r.stringValue.length;case 6:return bi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,c)=>o+Mh(c)),0)})(r.arrayValue);case 10:case 11:return(function(i){let o=0;return Ni(i.fields,((c,d)=>{o+=c.length+Mh(d)})),o})(r.mapValue);default:throw ve(13486,{value:r})}}function Ex(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Tp(r){return!!r&&"integerValue"in r}function cg(r){return!!r&&"arrayValue"in r}function wx(r){return!!r&&"nullValue"in r}function Tx(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Lh(r){return!!r&&"mapValue"in r}function FR(r){return(r?.mapValue?.fields||{})[ME]?.stringValue===LE}function oc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ni(r.mapValue.fields,((n,i)=>e.mapValue.fields[n]=oc(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=oc(r.arrayValue.values[n]);return e}return{...r}}function GR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===qR}class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=oc(n)}setAll(e){let n=Jt.emptyPath(),i={},o=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,i,o),i={},o=[],n=p.popLast()}d?i[p.lastSegment()]=oc(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,i,o)}delete(e){const n=this.field(e.popLast());Lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ws(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];Lh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){Ni(n,((o,c)=>e[o]=c));for(const o of i)delete e[o]}clone(){return new un(oc(this.value))}}function UE(r){const e=[];return Ni(r.fields,((n,i)=>{const o=new Jt([n]);if(Lh(i)){const c=UE(i.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new In(e)}class Ft{constructor(e,n,i,o,c,d,p){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Ft(e,0,be.min(),be.min(),be.min(),un.empty(),0)}static newFoundDocument(e,n,i,o){return new Ft(e,1,n,be.min(),i,o,0)}static newNoDocument(e,n){return new Ft(e,2,n,be.min(),be.min(),un.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,be.min(),be.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ed{constructor(e,n){this.position=e,this.inclusive=n}}function Sx(r,e,n){let i=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?i=pe.comparator(pe.fromName(d.referenceValue),n.key):i=Co(d,n.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ax(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ws(r.position[n],e.position[n]))return!1;return!0}class wc{constructor(e,n="asc"){this.field=e,this.dir=n}}function KR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class zE{}class kt extends zE{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new QR(e,n,i):n==="array-contains"?new $R(e,i):n==="in"?new JR(e,i):n==="not-in"?new ZR(e,i):n==="array-contains-any"?new eC(e,i):new kt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new WR(e,i):new XR(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Co(n,this.value)):n!==null&&Ei(this.value)===Ei(n)&&this.matchesComparison(Co(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ps extends zE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ps(e,n)}matches(e){return BE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function BE(r){return r.op==="and"}function HE(r){return YR(r)&&BE(r)}function YR(r){for(const e of r.filters)if(e instanceof ps)return!1;return!0}function Sp(r){if(r instanceof kt)return r.field.canonicalString()+r.op.toString()+Io(r.value);if(HE(r))return r.filters.map((e=>Sp(e))).join(",");{const e=r.filters.map((n=>Sp(n))).join(",");return`${r.op}(${e})`}}function qE(r,e){return r instanceof kt?(function(i,o){return o instanceof kt&&i.op===o.op&&i.field.isEqual(o.field)&&Ws(i.value,o.value)})(r,e):r instanceof ps?(function(i,o){return o instanceof ps&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((c,d,p)=>c&&qE(d,o.filters[p])),!0):!1})(r,e):void ve(19439)}function FE(r){return r instanceof kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Io(n.value)}`})(r):r instanceof ps?(function(n){return n.op.toString()+" {"+n.getFilters().map(FE).join(" ,")+"}"})(r):"Filter"}class QR extends kt{constructor(e,n,i){super(e,n,i),this.key=pe.fromName(i.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class WR extends kt{constructor(e,n){super(e,"in",n),this.keys=GE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class XR extends kt{constructor(e,n){super(e,"not-in",n),this.keys=GE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function GE(r,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class $R extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cg(n)&&Ec(n.arrayValue,this.value)}}class JR extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ec(this.value.arrayValue,n)}}class ZR extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ec(this.value.arrayValue,n)}}class eC extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Ec(this.value.arrayValue,i)))}}class tC{constructor(e,n=null,i=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Nx(r,e=null,n=[],i=[],o=null,c=null,d=null){return new tC(r,e,n,i,o,c,d)}function ug(r){const e=Te(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Sp(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(c){return c.field.canonicalString()+c.dir})(i))).join(","),Pc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Io(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Io(i))).join(",")),e.Te=n}return e.Te}function hg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!KR(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!qE(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Ax(r.startAt,e.startAt)&&Ax(r.endAt,e.endAt)}function Ap(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Uo{constructor(e,n=null,i=[],o=[],c=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nC(r,e,n,i,o,c,d,p){return new Uo(r,e,n,i,o,c,d,p)}function Sd(r){return new Uo(r)}function Rx(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function KE(r){return r.collectionGroup!==null}function lc(r){const e=Te(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ut(Jt.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new wc(c,i))})),n.has(Jt.keyField().canonicalString())||e.Ie.push(new wc(Jt.keyField(),i))}return e.Ie}function Gs(r){const e=Te(r);return e.Ee||(e.Ee=sC(e,lc(r))),e.Ee}function sC(r,e){if(r.limitType==="F")return Nx(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new wc(o.field,c)}));const n=r.endAt?new ed(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new ed(r.startAt.position,r.startAt.inclusive):null;return Nx(r.path,r.collectionGroup,e,r.filters,r.limit,n,i)}}function Np(r,e){const n=r.filters.concat([e]);return new Uo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Rp(r,e,n){return new Uo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Ad(r,e){return hg(Gs(r),Gs(e))&&r.limitType===e.limitType}function YE(r){return`${ug(Gs(r))}|lt:${r.limitType}`}function go(r){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>FE(o))).join(", ")}]`),Pc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>Io(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>Io(o))).join(",")),`Target(${i})`})(Gs(r))}; limitType=${r.limitType})`}function Nd(r,e){return e.isFoundDocument()&&(function(i,o){const c=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):pe.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)})(r,e)&&(function(i,o){for(const c of lc(i))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(i,o){for(const c of i.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(i,o){return!(i.startAt&&!(function(d,p,g){const y=Sx(d,p,g);return d.inclusive?y<=0:y<0})(i.startAt,lc(i),o)||i.endAt&&!(function(d,p,g){const y=Sx(d,p,g);return d.inclusive?y>=0:y>0})(i.endAt,lc(i),o))})(r,e)}function rC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function QE(r){return(e,n)=>{let i=!1;for(const o of lc(r)){const c=iC(o,e,n);if(c!==0)return c;i=i||o.field.isKeyField()}return 0}}function iC(r,e,n){const i=r.field.isKeyField()?pe.comparator(e.key,n.key):(function(c,d,p){const g=d.data.field(c),y=p.data.field(c);return g!==null&&y!==null?Co(g,y):ve(42886)})(r.field,e,n);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return ve(19790,{direction:r.dir})}}class xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,c]of i)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ni(this.inner,((n,i)=>{for(const[o,c]of i)e(o,c)}))}isEmpty(){return jE(this.inner)}size(){return this.innerSize}}const aC=new ft(pe.comparator);function Sr(){return aC}const WE=new ft(pe.comparator);function nc(...r){let e=WE;for(const n of r)e=e.insert(n.key,n);return e}function XE(r){let e=WE;return r.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function ua(){return cc()}function $E(){return cc()}function cc(){return new xa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const oC=new ft(pe.comparator),lC=new Ut(pe.comparator);function Me(...r){let e=lC;for(const n of r)e=e.add(n);return e}const cC=new Ut(Pe);function uC(){return cC}function dg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$h(e)?"-0":e}}function JE(r){return{integerValue:""+r}}function hC(r,e){return LR(e)?JE(e):dg(r,e)}class Rd{constructor(){this._=void 0}}function dC(r,e,n){return r instanceof Tc?(function(o,c){const d={fields:{[OE]:{stringValue:kE},[PE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&lg(c)&&(c=Td(c)),c&&(d.fields[VE]=c),{mapValue:d}})(n,e):r instanceof Sc?e1(r,e):r instanceof Ac?t1(r,e):(function(o,c){const d=ZE(o,c),p=Cx(d)+Cx(o.Ae);return Tp(d)&&Tp(o.Ae)?JE(p):dg(o.serializer,p)})(r,e)}function fC(r,e,n){return r instanceof Sc?e1(r,e):r instanceof Ac?t1(r,e):n}function ZE(r,e){return r instanceof td?(function(i){return Tp(i)||(function(c){return!!c&&"doubleValue"in c})(i)})(e)?e:{integerValue:0}:null}class Tc extends Rd{}class Sc extends Rd{constructor(e){super(),this.elements=e}}function e1(r,e){const n=n1(e);for(const i of r.elements)n.some((o=>Ws(o,i)))||n.push(i);return{arrayValue:{values:n}}}class Ac extends Rd{constructor(e){super(),this.elements=e}}function t1(r,e){let n=n1(e);for(const i of r.elements)n=n.filter((o=>!Ws(o,i)));return{arrayValue:{values:n}}}class td extends Rd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Cx(r){return Et(r.integerValue||r.doubleValue)}function n1(r){return cg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class mC{constructor(e,n){this.field=e,this.transform=n}}function pC(r,e){return r.field.isEqual(e.field)&&(function(i,o){return i instanceof Sc&&o instanceof Sc||i instanceof Ac&&o instanceof Ac?Ro(i.elements,o.elements,Ws):i instanceof td&&o instanceof td?Ws(i.Ae,o.Ae):i instanceof Tc&&o instanceof Tc})(r.transform,e.transform)}class gC{constructor(e,n){this.version=e,this.transformResults=n}}class Zt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zt}static exists(e){return new Zt(void 0,e)}static updateTime(e){return new Zt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Cd{}function s1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Id(r.key,Zt.none()):new Mc(r.key,r.data,Zt.none());{const n=r.data,i=un.empty();let o=new Ut(Jt.comparator);for(let c of e.fields)if(!o.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?i.delete(c):i.set(c,d),o=o.add(c)}return new Ri(r.key,i,new In(o.toArray()),Zt.none())}}function yC(r,e,n){r instanceof Mc?(function(o,c,d){const p=o.value.clone(),g=jx(o.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,n):r instanceof Ri?(function(o,c,d){if(!Uh(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=jx(o.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(r1(o)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,n):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function uc(r,e,n,i){return r instanceof Mc?(function(c,d,p,g){if(!Uh(c.precondition,d))return p;const y=c.value.clone(),x=Dx(c.fieldTransforms,g,d);return y.setAll(x),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,n,i):r instanceof Ri?(function(c,d,p,g){if(!Uh(c.precondition,d))return p;const y=Dx(c.fieldTransforms,g,d),x=d.data;return x.setAll(r1(c)),x.setAll(y),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(r,e,n,i):(function(c,d,p){return Uh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,n)}function vC(r,e){let n=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),c=ZE(i.transform,o||null);c!=null&&(n===null&&(n=un.empty()),n.set(i.field,c))}return n||null}function Ix(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Ro(i,o,((c,d)=>pC(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Mc extends Cd{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ri extends Cd{constructor(e,n,i,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function r1(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=r.data.field(n);e.set(n,i)}})),e}function jx(r,e,n){const i=new Map;Be(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const c=r[o],d=c.transform,p=e.data.field(c.field);i.set(c.field,fC(d,p,n[o]))}return i}function Dx(r,e,n){const i=new Map;for(const o of r){const c=o.transform,d=n.data.field(o.field);i.set(o.field,dC(c,d,e))}return i}class Id extends Cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class i1 extends Cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _C{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&yC(c,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=uc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=uc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=$E();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=n.has(o.key)?null:p;const g=s1(d,p);g!==null&&i.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(be.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Me())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,((n,i)=>Ix(n,i)))&&Ro(this.baseMutations,e.baseMutations,((n,i)=>Ix(n,i)))}}class fg{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){Be(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return oC})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,i[d].version);return new fg(e,n,i,o)}}class xC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class bC{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,ze;function a1(r){switch(r){case Z.OK:return ve(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return ve(15467,{code:r})}}function o1(r){if(r===void 0)return Tr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Dt.OK:return Z.OK;case Dt.CANCELLED:return Z.CANCELLED;case Dt.UNKNOWN:return Z.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return Z.INTERNAL;case Dt.UNAVAILABLE:return Z.UNAVAILABLE;case Dt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Dt.NOT_FOUND:return Z.NOT_FOUND;case Dt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Dt.ABORTED:return Z.ABORTED;case Dt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Dt.DATA_LOSS:return Z.DATA_LOSS;default:return ve(39323,{code:r})}}(ze=Dt||(Dt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function EC(){return new TextEncoder}const wC=new gi([4294967295,4294967295],0);function kx(r){const e=EC().encode(r),n=new xE;return n.update(e),new Uint8Array(n.digest())}function Ox(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new gi([n,i],0),new gi([o,c],0)]}class mg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new sc(`Invalid padding: ${n}`);if(i<0)throw new sc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new sc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new sc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=gi.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(gi.fromNumber(i)));return o.compare(wC)===1&&(o=new gi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=kx(e),[i,o]=Ox(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(i,o,c);if(!this.we(d))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new mg(c,o,n);return i.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=kx(e),[i,o]=Ox(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(i,o,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jd{constructor(e,n,i,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,Lc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new jd(be.min(),o,new ft(Pe),Sr(),Me())}}class Lc{constructor(e,n,i,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Lc(i,n,Me(),Me(),Me())}}class zh{constructor(e,n,i,o){this.be=e,this.removedTargetIds=n,this.key=i,this.De=o}}class l1{constructor(e,n){this.targetId=e,this.Ce=n}}class c1{constructor(e,n,i=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class Vx{constructor(){this.ve=0,this.Fe=Px(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Me(),n=Me(),i=Me();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:ve(38017,{changeType:c})}})),new Lc(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=Px()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Be(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class TC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Sr(),this.Je=Ch(),this.He=Ch(),this.Ye=new ft(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Ap(c))if(i===0){const d=new pe(c.path);this.et(n,d,Ft.newNoDocument(d,be.min()))}else Be(i===1,20013,{expectedCount:i});else{const d=this._t(n);if(d!==i){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:c=0}=n;let d,p;try{d=bi(i).toUint8Array()}catch(g){if(g instanceof DE)return No("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new mg(d,o,c)}catch(g){return No(g instanceof sc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Ap(p.target)){const g=new pe(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,Ft.newNoDocument(g,e))}c.Be&&(n.set(d,c.ke()),c.qe())}}));let i=Me();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(i=i.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new jd(e,n,this.Ye,this.je,i);return this.je=Sr(),this.Je=Ch(),this.He=Ch(),this.Ye=new ft(Pe),o}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Vx,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ut(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ut(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Vx),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ch(){return new ft(pe.comparator)}function Px(){return new ft(pe.comparator)}const SC={asc:"ASCENDING",desc:"DESCENDING"},AC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NC={and:"AND",or:"OR"};class RC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cp(r,e){return r.useProto3Json||Pc(e)?e:{value:e}}function nd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function u1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function CC(r,e){return nd(r,e.toTimestamp())}function Dn(r){return Be(!!r,49232),be.fromTimestamp((function(n){const i=xi(n);return new at(i.seconds,i.nanos)})(r))}function pg(r,e){return Ip(r,e).canonicalString()}function Ip(r,e){const n=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function h1(r){const e=nt.fromString(r);return Be(y1(e),10190,{key:e.toString()}),e}function sd(r,e){return pg(r.databaseId,e.path)}function hc(r,e){const n=h1(e);if(n.get(1)!==r.databaseId.projectId)throw new ae(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ae(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(f1(n))}function d1(r,e){return pg(r.databaseId,e)}function IC(r){const e=h1(r);return e.length===4?nt.emptyPath():f1(e)}function jp(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function f1(r){return Be(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Mx(r,e,n){return{name:sd(r,e),fields:n.value.mapValue.fields}}function jC(r,e){return"found"in e?(function(i,o){Be(!!o.found,43571),o.found.name,o.found.updateTime;const c=hc(i,o.found.name),d=Dn(o.found.updateTime),p=o.found.createTime?Dn(o.found.createTime):be.min(),g=new un({mapValue:{fields:o.found.fields}});return Ft.newFoundDocument(c,d,p,g)})(r,e):"missing"in e?(function(i,o){Be(!!o.missing,3894),Be(!!o.readTime,22933);const c=hc(i,o.missing),d=Dn(o.readTime);return Ft.newNoDocument(c,d)})(r,e):ve(7234,{result:e})}function DC(r,e){let n;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,x){return y.useProto3Json?(Be(x===void 0||typeof x=="string",58123),en.fromBase64String(x||"")):(Be(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),en.fromUint8Array(x||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const x=y.code===void 0?Z.UNKNOWN:o1(y.code);return new ae(x,y.message||"")})(d);n=new c1(i,o,c,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=hc(r,i.document.name),c=Dn(i.document.updateTime),d=i.document.createTime?Dn(i.document.createTime):be.min(),p=new un({mapValue:{fields:i.document.fields}}),g=Ft.newFoundDocument(o,c,d,p),y=i.targetIds||[],x=i.removedTargetIds||[];n=new zh(y,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=hc(r,i.document),c=i.readTime?Dn(i.readTime):be.min(),d=Ft.newNoDocument(o,c),p=i.removedTargetIds||[];n=new zh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=hc(r,i.document),c=i.removedTargetIds||[];n=new zh([],c,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:c}=i,d=new bC(o,c),p=i.targetId;n=new l1(p,d)}}return n}function m1(r,e){let n;if(e instanceof Mc)n={update:Mx(r,e.key,e.value)};else if(e instanceof Id)n={delete:sd(r,e.key)};else if(e instanceof Ri)n={update:Mx(r,e.key,e.data),updateMask:BC(e.fieldMask)};else{if(!(e instanceof i1))return ve(16599,{Vt:e.type});n={verify:sd(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(c,d){const p=d.transform;if(p instanceof Tc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Sc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ac)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof td)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ve(20930,{transform:d.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:CC(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(r,e.precondition)),n}function kC(r,e){return r&&r.length>0?(Be(e!==void 0,14353),r.map((n=>(function(o,c){let d=o.updateTime?Dn(o.updateTime):Dn(c);return d.isEqual(be.min())&&(d=Dn(c)),new gC(d,o.transformResults||[])})(n,e)))):[]}function OC(r,e){return{documents:[d1(r,e.path)]}}function VC(r,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=d1(r,o);const c=(function(y){if(y.length!==0)return g1(ps.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((x=>(function(T){return{field:yo(T.field),direction:LC(T.dir)}})(x)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Cp(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function PC(r){let e=IC(r.parent);const n=r.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){Be(i===1,65062);const x=n.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];n.where&&(c=(function(E){const T=p1(E);return T instanceof ps&&HE(T)?T.getFilters():[T]})(n.where));let d=[];n.orderBy&&(d=(function(E){return E.map((T=>(function(P){return new wc(vo(P.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(T)))})(n.orderBy));let p=null;n.limit&&(p=(function(E){let T;return T=typeof E=="object"?E.value:E,Pc(T)?null:T})(n.limit));let g=null;n.startAt&&(g=(function(E){const T=!!E.before,D=E.values||[];return new ed(D,T)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const T=!E.before,D=E.values||[];return new ed(D,T)})(n.endAt)),nC(e,o,d,c,p,"F",g,y)}function MC(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function p1(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=vo(n.unaryFilter.field);return kt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=vo(n.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=vo(n.unaryFilter.field);return kt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=vo(n.unaryFilter.field);return kt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(r):r.fieldFilter!==void 0?(function(n){return kt.create(vo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ps.create(n.compositeFilter.filters.map((i=>p1(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(r):ve(30097,{filter:r})}function LC(r){return SC[r]}function UC(r){return AC[r]}function zC(r){return NC[r]}function yo(r){return{fieldPath:r.canonicalString()}}function vo(r){return Jt.fromServerFormat(r.fieldPath)}function g1(r){return r instanceof kt?(function(n){if(n.op==="=="){if(Tx(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NAN"}};if(wx(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Tx(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NOT_NAN"}};if(wx(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yo(n.field),op:UC(n.op),value:n.value}}})(r):r instanceof ps?(function(n){const i=n.getFilters().map((o=>g1(o)));return i.length===1?i[0]:{compositeFilter:{op:zC(n.op),filters:i}}})(r):ve(54877,{filter:r})}function BC(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function y1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class di{constructor(e,n,i,o,c=be.min(),d=be.min(),p=en.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class HC{constructor(e){this.yt=e}}function qC(r){const e=PC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Rp(e,e.limit,"L"):e}class FC{constructor(){this.Cn=new GC}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(_i.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(_i.min())}updateCollectionGroup(e,n,i){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class GC{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Ut(nt.comparator),c=!o.has(i);return this.index[n]=o.add(i),c}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Ut(nt.comparator)).toArray()}}const Lx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},v1=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(v1,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class jo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new jo(0)}static cr(){return new jo(-1)}}const Ux="LruGarbageCollector",KC=1048576;function zx([r,e],[n,i]){const o=Pe(r,n);return o===0?Pe(e,i):o}class YC{constructor(e){this.Ir=e,this.buffer=new Ut(zx),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();zx(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class QC{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(Ux,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Lo(n)?ue(Ux,"Ignoring IndexedDB error during garbage collection: ",n):await Mo(n)}await this.Vr(3e5)}))}}class WC{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(wd.ce);const i=new YC(n);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(Lx)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lx):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,o,c,d,p,g,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,d=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(i=E,p=Date.now(),this.removeTargets(e,i,n)))).next((E=>(c=E,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(y=Date.now(),po()<=Ve.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-x}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-x}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:E}))))}}function XC(r,e){return new WC(r,e)}class $C{constructor(){this.changes=new xa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?se.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class JC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class ZC{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&uc(i.mutation,o,In.empty(),at.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Me()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Me()){const o=ua();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((c=>{let d=nc();return c.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const i=ua();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Me())))}populateOverlays(e,n,i){const o=[];return i.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,i,o){let c=Sr();const d=cc(),p=(function(){return cc()})();return n.forEach(((g,y)=>{const x=i.get(y.key);o.has(y.key)&&(x===void 0||x.mutation instanceof Ri)?c=c.insert(y.key,y):x!==void 0?(d.set(y.key,x.mutation.getFieldMask()),uc(x.mutation,y,x.mutation.getFieldMask(),at.now())):d.set(y.key,In.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,x)=>d.set(y,x))),n.forEach(((y,x)=>p.set(y,new JC(x,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const i=cc();let o=new ft(((d,p)=>d-p)),c=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let x=i.get(g)||In.empty();x=p.applyToLocalView(y,x),i.set(g,x);const E=(o.get(p.batchId)||Me()).add(g);o=o.insert(p.batchId,E)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,x=g.value,E=$E();x.forEach((T=>{if(!c.has(T)){const D=s1(n.get(T),i.get(T));D!==null&&E.set(T,D),c=c.add(T)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,E))}return se.waitFor(d)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return(function(d){return pe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-c.size):se.resolve(ua());let p=_c,g=c;return d.next((y=>se.forEach(y,((x,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),c.get(x)?se.resolve():this.remoteDocumentCache.getEntry(e,x).next((T=>{g=g.insert(x,T)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Me()))).next((x=>({batchId:p,changes:XE(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((i=>{let o=nc();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const c=n.collectionGroup;let d=nc();return this.indexManager.getCollectionParents(e,c).next((p=>se.forEach(p,(g=>{const y=(function(E,T){return new Uo(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((x=>{x.forEach(((E,T)=>{d=d.insert(E,T)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,c,o)))).next((d=>{c.forEach(((g,y)=>{const x=y.getKey();d.get(x)===null&&(d=d.insert(x,Ft.newInvalidDocument(x)))}));let p=nc();return d.forEach(((g,y)=>{const x=c.get(g);x!==void 0&&uc(x.mutation,y,In.empty(),at.now()),Nd(n,y)&&(p=p.insert(g,y))})),p}))}}class eI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Dn(o.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:qC(o.bundledQuery),readTime:Dn(o.readTime)}})(n)),se.resolve()}}class tI{constructor(){this.overlays=new ft(pe.comparator),this.qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ua();return se.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&i.set(o,c)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,c)=>{this.St(e,n,c)})),se.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(i)),se.resolve()}getOverlaysForCollection(e,n,i){const o=ua(),c=n.length+1,d=new pe(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>i&&o.set(g.getKey(),g)}return se.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let c=new ft(((y,x)=>y-x));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let x=c.get(y.largestBatchId);x===null&&(x=ua(),c=c.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const p=ua(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,x)=>p.set(y,x))),!(p.size()>=o)););return se.resolve(p)}St(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new xC(n,i));let c=this.qr.get(n);c===void 0&&(c=Me(),this.qr.set(n,c)),this.qr.set(n,c.add(i.key))}}class nI{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}class gg{constructor(){this.Qr=new Ut(qt.$r),this.Ur=new Ut(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new qt(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new qt(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new pe(new nt([])),i=new qt(n,e),o=new qt(n,e+1),c=[];return this.Ur.forEachInRange([i,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new nt([])),i=new qt(n,e),o=new qt(n,e+1);let c=Me();return this.Ur.forEachInRange([i,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new qt(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}class sI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ut(qt.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new _C(c,n,i,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new qt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return se.resolve(d)}lookupMutationBatch(e,n){return se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.ei(i),c=o<0?0:o;return se.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?og:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([i,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),se.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ut(Pe);return n.forEach((o=>{const c=new qt(o,0),d=new qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{i=i.add(p.Yr)}))})),se.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let c=i;pe.isDocumentKey(c)||(c=c.child(""));const d=new qt(new pe(c),0);let p=new Ut(Pe);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),d),se.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Be(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return se.forEach(n.mutations,(o=>{const c=new qt(o.key,n.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new qt(n,0),o=this.Zr.firstAfterOrEqual(i);return se.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class rI{constructor(e){this.ri=e,this.docs=(function(){return new ft(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),c=o?o.size:0,d=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return se.resolve(i?i.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let i=Sr();return n.forEach((o=>{const c=this.docs.get(o);i=i.insert(o,c?c.document.mutableCopy():Ft.newInvalidDocument(o))})),se.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let c=Sr();const d=n.path,p=new pe(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:x}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||OR(kR(x),i)<=0||(o.has(x.key)||Nd(n,x))&&(c=c.insert(x.key,x.mutableCopy()))}return se.resolve(c)}getAllFromCollectionGroup(e,n,i,o){ve(9500)}ii(e,n){return se.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new iI(this)}getSize(e){return se.resolve(this.size)}}class iI extends $C{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class aI{constructor(e){this.persistence=e,this.si=new xa((n=>ug(n)),hg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new gg,this.targetCount=0,this.ai=jo.ur()}forEachTarget(e,n){return this.si.forEach(((i,o)=>n(o))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new jo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Pr(n),se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,i){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=n&&i.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),se.waitFor(c).next((()=>o))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return se.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),se.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),se.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return se.resolve(i)}containsKey(e,n){return se.resolve(this._i.containsKey(n))}}class _1{constructor(e,n){this.ui={},this.overlays={},this.ci=new wd(0),this.li=!1,this.li=!0,this.hi=new nI,this.referenceDelegate=e(this),this.Pi=new aI(this),this.indexManager=new FC,this.remoteDocumentCache=(function(o){return new rI(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new HC(n),this.Ii=new eI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new sI(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){ue("MemoryPersistence","Starting transaction:",e);const o=new oI(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return se.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class oI extends PR{constructor(e){super(),this.currentSequenceNumber=e}}class yg{constructor(e){this.persistence=e,this.Ri=new gg,this.Vi=null}static mi(e){return new yg(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),se.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(i=>{const o=pe.fromPath(i);return this.gi(e,o).next((c=>{c||n.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class rd{constructor(e,n){this.persistence=e,this.pi=new xa((i=>UR(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=XC(this,n)}static mi(e,n){return new rd(e,n)}Ei(){}di(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return se.forEach(this.pi,((i,o)=>this.br(e,i,o).next((c=>c?se.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,n).next((p=>{p||(i++,c.removeEntry(d,be.min()))})))).next((()=>c.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),se.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mh(e.data.value)),n}br(e,n,i){return se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return se.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class vg{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=o}static As(e,n){let i=Me(),o=Me();for(const c of n.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new vg(e,n.fromCache,i,o)}}class lI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class cI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return BS()?8:MR(an())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const c={result:null};return this.ys(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,n,o,i).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new lI;return this.Ss(e,n,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,n,d,p.size)}))})).next((()=>c.result))}bs(e,n,i,o){return i.documentReadCount<this.fs?(po()<=Ve.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",go(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(po()<=Ve.DEBUG&&ue("QueryEngine","Query:",go(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(po()<=Ve.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",go(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gs(n))):se.resolve())}ys(e,n){if(Rx(n))return se.resolve(null);let i=Gs(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Rp(n,null,"F"),i=Gs(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((c=>{const d=Me(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,i).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,d,g.readTime)?this.ys(e,Rp(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,i,o){return Rx(n)||o.isEqual(be.min())?se.resolve(null):this.ps.getDocuments(e,i).next((c=>{const d=this.Ds(n,c);return this.Cs(n,d,i,o)?se.resolve(null):(po()<=Ve.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),go(n)),this.vs(e,d,n,DR(o,_c)).next((p=>p)))}))}Ds(e,n){let i=new Ut(QE(e));return n.forEach(((o,c)=>{Nd(e,c)&&(i=i.add(c))})),i}Cs(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,i){return po()<=Ve.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",go(n)),this.ps.getDocumentsMatchingQuery(e,n,_i.min(),i)}vs(e,n,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const _g="LocalStore",uI=3e8;class hI{constructor(e,n,i,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ft(Pe),this.xs=new xa((c=>ug(c)),hg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function dI(r,e,n,i){return new hI(r,e,n,i)}async function x1(r,e){const n=Te(r);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((c=>{const d=[],p=[];let g=Me();for(const y of o){d.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}for(const y of c){p.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}return n.localDocuments.getDocuments(i,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function fI(r,e){const n=Te(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,x){const E=y.batch,T=E.keys();let D=se.resolve();return T.forEach((P=>{D=D.next((()=>x.getEntry(g,P))).next((z=>{const M=y.docVersions.get(P);Be(M!==null,48541),z.version.compareTo(M)<0&&(E.applyToRemoteDocument(z,y),z.isValidDocument()&&(z.setReadTime(y.commitVersion),x.addEntry(z)))}))})),D.next((()=>p.mutationQueue.removeMutationBatch(g,E)))})(n,i,e,c).next((()=>c.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(p){let g=Me();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function b1(r){const e=Te(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function mI(r,e){const n=Te(r),i=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((x,E)=>{const T=o.get(E);if(!T)return;p.push(n.Pi.removeMatchingKeys(c,x.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(c,x.addedDocuments,E))));let D=T.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?D=D.withResumeToken(en.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):x.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(x.resumeToken,i)),o=o.insert(E,D),(function(z,M,X){return z.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=uI?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(T,D,x)&&p.push(n.Pi.updateTargetData(c,D))}));let g=Sr(),y=Me();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,x))})),p.push(pI(c,d,e.documentUpdates).next((x=>{g=x.ks,y=x.qs}))),!i.isEqual(be.min())){const x=n.Pi.getLastRemoteSnapshotVersion(c).next((E=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,i)));p.push(x)}return se.waitFor(p).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.Ms=o,c)))}function pI(r,e,n){let i=Me(),o=Me();return n.forEach((c=>i=i.add(c))),e.getEntries(r,i).next((c=>{let d=Sr();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(be.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):ue(_g,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:o}}))}function gI(r,e){const n=Te(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=og),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function yI(r,e){const n=Te(r);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.Pi.getTargetData(i,e).next((c=>c?(o=c,se.resolve(o)):n.Pi.allocateTargetId(i).next((d=>(o=new di(e,d,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function Dp(r,e,n){const i=Te(r),o=i.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",c,(d=>i.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Lo(d))throw d;ue(_g,`Failed to update sequence numbers for target ${e}: ${d}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function Bx(r,e,n){const i=Te(r);let o=be.min(),c=Me();return i.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,x){const E=Te(g),T=E.xs.get(x);return T!==void 0?se.resolve(E.Ms.get(T)):E.Pi.getTargetData(y,x)})(i,d,Gs(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{c=g}))})).next((()=>i.Fs.getDocumentsMatchingQuery(d,e,n?o:be.min(),n?c:Me()))).next((p=>(vI(i,rC(e),p),{documents:p,Qs:c})))))}function vI(r,e,n){let i=r.Os.get(e)||be.min();n.forEach(((o,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)})),r.Os.set(e,i)}class Hx{constructor(){this.activeTargetIds=uC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _I{constructor(){this.Mo=new Hx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Hx,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xI{Oo(e){}shutdown(){}}const qx="ConnectivityMonitor";class Fx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(qx,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(qx,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ih=null;function kp(){return Ih===null?Ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ih++,"0x"+Ih.toString(16)}const ip="RestConnection",bI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Jh?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,n,i,o,c){const d=kp(),p=this.zo(e,n.toUriEncodedString());ue(ip,`Sending RPC '${e}' ${d}:`,p,i);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(p),x=ko(y);return this.Jo(e,p,g,i,x).then((E=>(ue(ip,`Received RPC '${e}' ${d}: `,E),E)),(E=>{throw No(ip,`RPC '${e}' ${d} failed with error: `,E,"url: ",p,"request:",i),E}))}Ho(e,n,i,o,c,d){return this.Go(e,n,i,o,c)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Po})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),i&&i.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const i=bI[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}class wI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const nn="WebChannelConnection";class TI extends EI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,o,c){const d=kp();return new Promise(((p,g)=>{const y=new bE;y.setWithCredentials(!0),y.listenOnce(EE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Ph.NO_ERROR:const E=y.getResponseJson();ue(nn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(E)),p(E);break;case Ph.TIMEOUT:ue(nn,`RPC '${e}' ${d} timed out`),g(new ae(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Ph.HTTP_ERROR:const T=y.getStatus();if(ue(nn,`RPC '${e}' ${d} failed with status:`,T,"response text:",y.getResponseText()),T>0){let D=y.getResponseJson();Array.isArray(D)&&(D=D[0]);const P=D?.error;if(P&&P.status&&P.message){const z=(function(X){const Y=X.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Y)>=0?Y:Z.UNKNOWN})(P.status);g(new ae(z,P.message))}else g(new ae(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ae(Z.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue(nn,`RPC '${e}' ${d} completed.`)}}));const x=JSON.stringify(o);ue(nn,`RPC '${e}' ${d} sending request:`,o),y.send(n,"POST",x,i,15)}))}T_(e,n,i){const o=kp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=SE(),p=TE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,i),g.encodeInitMessageHeaders=!0;const x=c.join("");ue(nn,`Creating RPC '${e}' stream ${o}: ${x}`,g);const E=d.createWebChannel(x,g);this.I_(E);let T=!1,D=!1;const P=new wI({Yo:M=>{D?ue(nn,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(T||(ue(nn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),ue(nn,`RPC '${e}' stream ${o} sending:`,M),E.send(M))},Zo:()=>E.close()}),z=(M,X,Y)=>{M.listen(X,(K=>{try{Y(K)}catch(ie){setTimeout((()=>{throw ie}),0)}}))};return z(E,tc.EventType.OPEN,(()=>{D||(ue(nn,`RPC '${e}' stream ${o} transport opened.`),P.o_())})),z(E,tc.EventType.CLOSE,(()=>{D||(D=!0,ue(nn,`RPC '${e}' stream ${o} transport closed`),P.a_(),this.E_(E))})),z(E,tc.EventType.ERROR,(M=>{D||(D=!0,No(nn,`RPC '${e}' stream ${o} transport errored. Name:`,M.name,"Message:",M.message),P.a_(new ae(Z.UNAVAILABLE,"The operation could not be completed")))})),z(E,tc.EventType.MESSAGE,(M=>{if(!D){const X=M.data[0];Be(!!X,16349);const Y=X,K=Y?.error||Y[0]?.error;if(K){ue(nn,`RPC '${e}' stream ${o} received error:`,K);const ie=K.status;let me=(function(N){const A=Dt[N];if(A!==void 0)return o1(A)})(ie),xe=K.message;me===void 0&&(me=Z.INTERNAL,xe="Unknown error status: "+ie+" with message "+K.message),D=!0,P.a_(new ae(me,xe)),E.close()}else ue(nn,`RPC '${e}' stream ${o} received:`,X),P.u_(X)}})),z(p,wE.STAT_EVENT,(M=>{M.stat===bp.PROXY?ue(nn,`RPC '${e}' stream ${o} detected buffering proxy`):M.stat===bp.NOPROXY&&ue(nn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ap(){return typeof document<"u"?document:null}function Dd(r){return new RC(r,!0)}class xg{constructor(e,n,i=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Gx="PersistentStream";class E1{constructor(e,n,i,o,c,d,p,g){this.Mi=e,this.S_=i,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xg(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new ae(Z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(Gx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(Gx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class SI extends E1{constructor(e,n,i,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=DC(this.serializer,e),i=(function(c){if(!("targetChange"in c))return be.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?be.min():d.readTime?Dn(d.readTime):be.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=jp(this.serializer),n.addTarget=(function(c,d){let p;const g=d.target;if(p=Ap(g)?{documents:OC(c,g)}:{query:VC(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=u1(c,d.resumeToken);const y=Cp(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(be.min())>0){p.readTime=nd(c,d.snapshotVersion.toTimestamp());const y=Cp(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const i=MC(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=jp(this.serializer),n.removeTarget=e,this.q_(n)}}class AI extends E1{constructor(e,n,i,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=kC(e.writeResults,e.commitTime),i=Dn(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=jp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>m1(this.serializer,i)))};this.q_(n)}}class NI{}class RI extends NI{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ae(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Ip(n,i),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(Z.UNKNOWN,c.toString())}))}Ho(e,n,i,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Ip(n,i),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ae(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class CI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Tr(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const va="RemoteStore";class II{constructor(e,n,i,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{i.enqueueAndForget((async()=>{ba(this)&&(ue(va,"Restarting streams for network reachability change."),await(async function(g){const y=Te(g);y.Ea.add(4),await Uc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await kd(y)})(this))}))})),this.Ra=new CI(i,o)}}async function kd(r){if(ba(r))for(const e of r.da)await e(!0)}async function Uc(r){for(const e of r.da)await e(!1)}function w1(r,e){const n=Te(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Tg(n)?wg(n):zo(n).O_()&&Eg(n,e))}function bg(r,e){const n=Te(r),i=zo(n);n.Ia.delete(e),i.O_()&&T1(n,e),n.Ia.size===0&&(i.O_()?i.L_():ba(n)&&n.Ra.set("Unknown"))}function Eg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zo(r).Y_(e)}function T1(r,e){r.Va.Ue(e),zo(r).Z_(e)}function wg(r){r.Va=new TC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),zo(r).start(),r.Ra.ua()}function Tg(r){return ba(r)&&!zo(r).x_()&&r.Ia.size>0}function ba(r){return Te(r).Ea.size===0}function S1(r){r.Va=void 0}async function jI(r){r.Ra.set("Online")}async function DI(r){r.Ia.forEach(((e,n)=>{Eg(r,e)}))}async function kI(r,e){S1(r),Tg(r)?(r.Ra.ha(e),wg(r)):r.Ra.set("Unknown")}async function OI(r,e,n){if(r.Ra.set("Online"),e instanceof c1&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(i){ue(va,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await id(r,i)}else if(e instanceof zh?r.Va.Ze(e):e instanceof l1?r.Va.st(e):r.Va.tt(e),!n.isEqual(be.min()))try{const i=await b1(r.localStore);n.compareTo(i)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const x=c.Ia.get(y);x&&c.Ia.set(y,x.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const x=c.Ia.get(g);if(!x)return;c.Ia.set(g,x.withResumeToken(en.EMPTY_BYTE_STRING,x.snapshotVersion)),T1(c,g);const E=new di(x.target,g,y,x.sequenceNumber);Eg(c,E)})),c.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(i){ue(va,"Failed to raise snapshot:",i),await id(r,i)}}async function id(r,e,n){if(!Lo(e))throw e;r.Ea.add(1),await Uc(r),r.Ra.set("Offline"),n||(n=()=>b1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue(va,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await kd(r)}))}function A1(r,e){return e().catch((n=>id(r,n,e)))}async function Od(r){const e=Te(r),n=wi(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:og;for(;VI(e);)try{const o=await gI(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,PI(e,o)}catch(o){await id(e,o)}N1(e)&&R1(e)}function VI(r){return ba(r)&&r.Ta.length<10}function PI(r,e){r.Ta.push(e);const n=wi(r);n.O_()&&n.X_&&n.ea(e.mutations)}function N1(r){return ba(r)&&!wi(r).x_()&&r.Ta.length>0}function R1(r){wi(r).start()}async function MI(r){wi(r).ra()}async function LI(r){const e=wi(r);for(const n of r.Ta)e.ea(n.mutations)}async function UI(r,e,n){const i=r.Ta.shift(),o=fg.from(i,e,n);await A1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Od(r)}async function zI(r,e){e&&wi(r).X_&&await(async function(i,o){if((function(d){return a1(d)&&d!==Z.ABORTED})(o.code)){const c=i.Ta.shift();wi(i).B_(),await A1(i,(()=>i.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Od(i)}})(r,e),N1(r)&&R1(r)}async function Kx(r,e){const n=Te(r);n.asyncQueue.verifyOperationInProgress(),ue(va,"RemoteStore received new credentials");const i=ba(n);n.Ea.add(3),await Uc(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await kd(n)}async function BI(r,e){const n=Te(r);e?(n.Ea.delete(2),await kd(n)):e||(n.Ea.add(2),await Uc(n),n.Ra.set("Unknown"))}function zo(r){return r.ma||(r.ma=(function(n,i,o){const c=Te(n);return c.sa(),new SI(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:jI.bind(null,r),t_:DI.bind(null,r),r_:kI.bind(null,r),H_:OI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Tg(r)?wg(r):r.Ra.set("Unknown")):(await r.ma.stop(),S1(r))}))),r.ma}function wi(r){return r.fa||(r.fa=(function(n,i,o){const c=Te(n);return c.sa(),new AI(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:MI.bind(null,r),r_:zI.bind(null,r),ta:LI.bind(null,r),na:UI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Od(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(va,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Sg{constructor(e,n,i,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=c,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,c){const d=Date.now()+i,p=new Sg(e,n,d,o,c);return p.start(i),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ag(r,e){if(Tr("AsyncQueue",`${e}: ${r}`),Lo(r))return new ae(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class To{static emptySet(e){return new To(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||pe.comparator(n.key,i.key):(n,i)=>pe.comparator(n.key,i.key),this.keyedMap=nc(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof To)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=i.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new To;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class Yx{constructor(){this.ga=new ft(pe.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Do{constructor(e,n,i,o,c,d,p,g,y){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,i,o,c){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new Do(e,n,To.emptySet(n),d,i,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}class HI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class qI{constructor(){this.queries=Qx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Te(n),c=o.queries;o.queries=Qx(),c.forEach(((d,p)=>{for(const g of p.Sa)g.onError(i)}))})(this,new ae(Z.ABORTED,"Firestore shutting down"))}}function Qx(){return new xa((r=>YE(r)),Ad)}async function C1(r,e){const n=Te(r);let i=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(i=2):(c=new HI,i=e.Da()?0:1);try{switch(i){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const p=Ag(d,`Initialization of query '${go(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Ng(n)}async function I1(r,e){const n=Te(r),i=e.query;let o=3;const c=n.queries.get(i);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function FI(r,e){const n=Te(r);let i=!1;for(const o of e){const c=o.query,d=n.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(i=!0);d.wa=o}}i&&Ng(n)}function GI(r,e,n){const i=Te(r),o=i.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);i.queries.delete(e)}function Ng(r){r.Ca.forEach((e=>{e.next()}))}var Op,Wx;(Wx=Op||(Op={})).Ma="default",Wx.Cache="cache";class j1{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Do(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Do.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Op.Cache}}class D1{constructor(e){this.key=e}}class k1{constructor(e){this.key=e}}class KI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Me(),this.mutatedKeys=Me(),this.eu=QE(e),this.tu=new To(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new Yx,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,E)=>{const T=o.get(x),D=Nd(this.query,E)?E:null,P=!!T&&this.mutatedKeys.has(T.key),z=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let M=!1;T&&D?T.data.isEqual(D.data)?P!==z&&(i.track({type:3,doc:D}),M=!0):this.su(T,D)||(i.track({type:2,doc:D}),M=!0,(g&&this.eu(D,g)>0||y&&this.eu(D,y)<0)&&(p=!0)):!T&&D?(i.track({type:0,doc:D}),M=!0):T&&!D&&(i.track({type:1,doc:T}),M=!0,(g||y)&&(p=!0)),M&&(D?(d=d.add(D),c=z?c.add(x):c.delete(x)):(d=d.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),c=c.delete(x.key),i.track({type:1,doc:x})}return{tu:d,iu:i,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((x,E)=>(function(D,P){const z=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:M})}};return z(D)-z(P)})(x.type,E.type)||this.eu(x.doc,E.doc))),this.ou(i),o=o??!1;const p=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new Do(this.query,e.tu,c,d,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Yx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Me(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new k1(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new D1(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Me();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Do.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Rg="SyncEngine";class YI{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class QI{constructor(e){this.key=e,this.hu=!1}}class WI{constructor(e,n,i,o,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new xa((p=>YE(p)),Ad),this.Iu=new Map,this.Eu=new Set,this.du=new ft(pe.comparator),this.Au=new Map,this.Ru=new gg,this.Vu={},this.mu=new Map,this.fu=jo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XI(r,e,n=!0){const i=U1(r);let o;const c=i.Tu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await O1(i,e,n,!0),o}async function $I(r,e){const n=U1(r);await O1(n,e,!0,!1)}async function O1(r,e,n,i){const o=await yI(r.localStore,Gs(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,n);let p;return i&&(p=await JI(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&n&&w1(r.remoteStore,o),p}async function JI(r,e,n,i,o){r.pu=(E,T,D)=>(async function(z,M,X,Y){let K=M.view.ru(X);K.Cs&&(K=await Bx(z.localStore,M.query,!1).then((({documents:j})=>M.view.ru(j,K))));const ie=Y&&Y.targetChanges.get(M.targetId),me=Y&&Y.targetMismatches.get(M.targetId)!=null,xe=M.view.applyChanges(K,z.isPrimaryClient,ie,me);return $x(z,M.targetId,xe.au),xe.snapshot})(r,E,T,D);const c=await Bx(r.localStore,e,!0),d=new KI(e,c.Qs),p=d.ru(c.documents),g=Lc.createSynthesizedTargetChangeForCurrentChange(n,i&&r.onlineState!=="Offline",o),y=d.applyChanges(p,r.isPrimaryClient,g);$x(r,n,y.au);const x=new YI(e,n,d);return r.Tu.set(e,x),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function ZI(r,e,n){const i=Te(r),o=i.Tu.get(e),c=i.Iu.get(o.targetId);if(c.length>1)return i.Iu.set(o.targetId,c.filter((d=>!Ad(d,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Dp(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&bg(i.remoteStore,o.targetId),Vp(i,o.targetId)})).catch(Mo)):(Vp(i,o.targetId),await Dp(i.localStore,o.targetId,!0))}async function e4(r,e){const n=Te(r),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),bg(n.remoteStore,i.targetId))}async function t4(r,e,n){const i=l4(r);try{const o=await(function(d,p){const g=Te(d),y=at.now(),x=p.reduce(((D,P)=>D.add(P.key)),Me());let E,T;return g.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let P=Sr(),z=Me();return g.Ns.getEntries(D,x).next((M=>{P=M,P.forEach(((X,Y)=>{Y.isValidDocument()||(z=z.add(X))}))})).next((()=>g.localDocuments.getOverlayedDocuments(D,P))).next((M=>{E=M;const X=[];for(const Y of p){const K=vC(Y,E.get(Y.key).overlayedDocument);K!=null&&X.push(new Ri(Y.key,K,UE(K.value.mapValue),Zt.exists(!0)))}return g.mutationQueue.addMutationBatch(D,y,X,p)})).next((M=>{T=M;const X=M.applyToLocalDocumentSet(E,z);return g.documentOverlayCache.saveOverlays(D,M.batchId,X)}))})).then((()=>({batchId:T.batchId,changes:XE(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new ft(Pe)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y})(i,o.batchId,n),await zc(i,o.changes),await Od(i.remoteStore)}catch(o){const c=Ag(o,"Failed to persist write");n.reject(c)}}async function V1(r,e){const n=Te(r);try{const i=await mI(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=n.Au.get(c);d&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Be(d.hu,14607):o.removedDocuments.size>0&&(Be(d.hu,42227),d.hu=!1))})),await zc(n,i,e)}catch(i){await Mo(i)}}function Xx(r,e,n){const i=Te(r);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const g=Te(d);g.onlineState=p;let y=!1;g.queries.forEach(((x,E)=>{for(const T of E.Sa)T.va(p)&&(y=!0)})),y&&Ng(g)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function n4(r,e,n){const i=Te(r);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),c=o&&o.key;if(c){let d=new ft(pe.comparator);d=d.insert(c,Ft.newNoDocument(c,be.min()));const p=Me().add(c),g=new jd(be.min(),new Map,new ft(Pe),d,p);await V1(i,g),i.du=i.du.remove(c),i.Au.delete(e),Cg(i)}else await Dp(i.localStore,e,!1).then((()=>Vp(i,e,n))).catch(Mo)}async function s4(r,e){const n=Te(r),i=e.batch.batchId;try{const o=await fI(n.localStore,e);M1(n,i,null),P1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await zc(n,o)}catch(o){await Mo(o)}}async function r4(r,e,n){const i=Te(r);try{const o=await(function(d,p){const g=Te(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let x;return g.mutationQueue.lookupMutationBatch(y,p).next((E=>(Be(E!==null,37113),x=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,x,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x))).next((()=>g.localDocuments.getDocuments(y,x)))}))})(i.localStore,e);M1(i,e,n),P1(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await zc(i,o)}catch(o){await Mo(o)}}function P1(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function M1(r,e,n){const i=Te(r);let o=i.Vu[i.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function Vp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),n&&r.Pu.yu(i,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((i=>{r.Ru.containsKey(i)||L1(r,i)}))}function L1(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(bg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Cg(r))}function $x(r,e,n){for(const i of n)i instanceof D1?(r.Ru.addReference(i.key,e),i4(r,i)):i instanceof k1?(ue(Rg,"Document no longer in limbo: "+i.key),r.Ru.removeReference(i.key,e),r.Ru.containsKey(i.key)||L1(r,i.key)):ve(19791,{wu:i})}function i4(r,e){const n=e.key,i=n.path.canonicalString();r.du.get(n)||r.Eu.has(i)||(ue(Rg,"New document in limbo: "+n),r.Eu.add(i),Cg(r))}function Cg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new pe(nt.fromString(e)),i=r.fu.next();r.Au.set(i,new QI(n)),r.du=r.du.insert(n,i),w1(r.remoteStore,new di(Gs(Sd(n.path)),i,"TargetPurposeLimboResolution",wd.ce))}}async function zc(r,e,n){const i=Te(r),o=[],c=[],d=[];i.Tu.isEmpty()||(i.Tu.forEach(((p,g)=>{d.push(i.pu(g,e,n).then((y=>{if((y||n)&&i.isPrimaryClient){const x=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(y){o.push(y);const x=vg.As(g.targetId,y);c.push(x)}})))})),await Promise.all(d),i.Pu.H_(o),await(async function(g,y){const x=Te(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>se.forEach(y,(T=>se.forEach(T.Es,(D=>x.persistence.referenceDelegate.addReference(E,T.targetId,D))).next((()=>se.forEach(T.ds,(D=>x.persistence.referenceDelegate.removeReference(E,T.targetId,D)))))))))}catch(E){if(!Lo(E))throw E;ue(_g,"Failed to update sequence numbers: "+E)}for(const E of y){const T=E.targetId;if(!E.fromCache){const D=x.Ms.get(T),P=D.snapshotVersion,z=D.withLastLimboFreeSnapshotVersion(P);x.Ms=x.Ms.insert(T,z)}}})(i.localStore,c))}async function a4(r,e){const n=Te(r);if(!n.currentUser.isEqual(e)){ue(Rg,"User change. New user:",e.toKey());const i=await x1(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new ae(Z.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await zc(n,i.Ls)}}function o4(r,e){const n=Te(r),i=n.Au.get(e);if(i&&i.hu)return Me().add(i.key);{let o=Me();const c=n.Iu.get(e);if(!c)return o;for(const d of c){const p=n.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function U1(r){const e=Te(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=V1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=o4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n4.bind(null,e),e.Pu.H_=FI.bind(null,e.eventManager),e.Pu.yu=GI.bind(null,e.eventManager),e}function l4(r){const e=Te(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r4.bind(null,e),e}class ad{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return dI(this.persistence,new cI,e.initialUser,this.serializer)}Cu(e){return new _1(yg.mi,this.serializer)}Du(e){return new _I}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ad.provider={build:()=>new ad};class c4 extends ad{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Be(this.persistence.referenceDelegate instanceof rd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new QC(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new _1((i=>rd.mi(i,n)),this.serializer)}}class Pp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Xx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=a4.bind(null,this.syncEngine),await BI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new qI})()}createDatastore(e){const n=Dd(e.databaseInfo.databaseId),i=(function(c){return new TI(c)})(e.databaseInfo);return(function(c,d,p,g){return new RI(c,d,p,g)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,c,d,p){return new II(i,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>Xx(this.syncEngine,n,0)),(function(){return Fx.v()?new Fx:new xI})())}createSyncEngine(e,n){return(function(o,c,d,p,g,y,x){const E=new WI(o,c,d,p,g,y);return x&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Te(n);ue(va,"RemoteStore shutting down."),i.Ea.add(5),await Uc(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Pp.provider={build:()=>new Pp};class z1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class u4{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ae(Z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,c){const d=Te(o),p={documents:c.map((E=>sd(d.serializer,E)))},g=await d.Ho("BatchGetDocuments",d.serializer.databaseId,nt.emptyPath(),p,c.length),y=new Map;g.forEach((E=>{const T=jC(d.serializer,E);y.set(T.key.toString(),T)}));const x=[];return c.forEach((E=>{const T=y.get(E.toString());Be(!!T,55234,{key:E}),x.push(T)})),x})(this.datastore,e);return n.forEach((i=>this.recordVersion(i))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Id(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,i)=>{const o=pe.fromPath(i);this.mutations.push(new i1(o,this.precondition(o)))})),await(async function(i,o){const c=Te(i),d={writes:o.map((p=>m1(c.serializer,p)))};await c.Go("Commit",c.serializer.databaseId,nt.emptyPath(),d)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ve(50498,{Gu:e.constructor.name});n=be.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new ae(Z.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(be.min())?Zt.exists(!1):Zt.updateTime(n):Zt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(be.min()))throw new ae(Z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zt.updateTime(n)}return Zt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class h4{constructor(e,n,i,o,c){this.asyncQueue=e,this.datastore=n,this.options=i,this.updateFunction=o,this.deferred=c,this.zu=i.maxAttempts,this.M_=new xg(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new u4(this.datastore),n=this.Hu(e);n&&n.then((i=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(i)})).catch((o=>{this.Yu(o)}))))})).catch((i=>{this.Yu(i)}))}))}Hu(e){try{const n=this.updateFunction(e);return!Pc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!a1(n)}return!1}}const Ti="FirestoreClient";class d4{constructor(e,n,i,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=ag.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,(async d=>{ue(Ti,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(i,(d=>(ue(Ti,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Ag(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function op(r,e){r.asyncQueue.verifyOperationInProgress(),ue(Ti,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let i=n.initialUser;r.setCredentialChangeListener((async o=>{i.isEqual(o)||(await x1(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Jx(r,e){r.asyncQueue.verifyOperationInProgress();const n=await f4(r);ue(Ti,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((i=>Kx(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,o)=>Kx(e.remoteStore,o))),r._onlineComponents=e}async function f4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(Ti,"Using user provided OfflineComponentProvider");try{await op(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;No("Error using user provided cache. Falling back to memory cache: "+n),await op(r,new ad)}}else ue(Ti,"Using default OfflineComponentProvider"),await op(r,new c4(void 0));return r._offlineComponents}async function Ig(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(Ti,"Using user provided OnlineComponentProvider"),await Jx(r,r._uninitializedComponentsProvider._online)):(ue(Ti,"Using default OnlineComponentProvider"),await Jx(r,new Pp))),r._onlineComponents}function m4(r){return Ig(r).then((e=>e.syncEngine))}function p4(r){return Ig(r).then((e=>e.datastore))}async function Mp(r){const e=await Ig(r),n=e.eventManager;return n.onListen=XI.bind(null,e.syncEngine),n.onUnlisten=ZI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$I.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=e4.bind(null,e.syncEngine),n}function g4(r,e,n={}){const i=new xr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,y){const x=new z1({next:T=>{x.Nu(),d.enqueueAndForget((()=>I1(c,E)));const D=T.docs.has(p);!D&&T.fromCache?y.reject(new ae(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&T.fromCache&&g&&g.source==="server"?y.reject(new ae(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),E=new j1(Sd(p.path),x,{includeMetadataChanges:!0,qa:!0});return C1(c,E)})(await Mp(r),r.asyncQueue,e,n,i))),i.promise}function B1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Zx=new Map;const H1="firestore.googleapis.com",eb=!0;class tb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=H1,this.ssl=eb}else this.host=e.host,this.ssl=e.ssl??eb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=v1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KC)throw new ae(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B1(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ae(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ae(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ae(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vd{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new bR;switch(i.type){case"firstParty":return new SR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ae(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=Zx.get(n);i&&(ue("ComponentProvider","Removing Datastore"),Zx.delete(n),i.terminate())})(this),Promise.resolve()}}function y4(r,e,n,i={}){r=jn(r,Vd);const o=ko(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;o&&(Nb(`https://${p}`),Rb("Firestore",!0)),c.host!==H1&&c.host!==p&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:i};if(!fa(g,d)&&(r._setSettings(g),i.mockUserToken)){let y,x;if(typeof i.mockUserToken=="string")y=i.mockUserToken,x=sn.MOCK_USER;else{y=DS(i.mockUserToken,r._app?.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new ae(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new sn(E)}r._authCredentials=new ER(new NE(y,x))}}class Ea{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ea(this.firestore,e,this._query)}}class dt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Vc(n,dt._jsonSchema))return new dt(e,i||null,new pe(nt.fromString(n.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:Ot("string",dt._jsonSchemaVersion),referencePath:Ot("string")};class yi extends Ea{constructor(e,n,i){super(e,n,Sd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new pe(e))}withConverter(e){return new yi(this.firestore,e,this._path)}}function Xs(r,e,...n){if(r=yt(r),RE("collection","path",e),r instanceof Vd){const i=nt.fromString(e,...n);return mx(i),new yi(r,null,i)}{if(!(r instanceof dt||r instanceof yi))throw new ae(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(nt.fromString(e,...n));return mx(i),new yi(r.firestore,null,i)}}function rn(r,e,...n){if(r=yt(r),arguments.length===1&&(e=ag.newId()),RE("doc","path",e),r instanceof Vd){const i=nt.fromString(e,...n);return fx(i),new dt(r,null,new pe(i))}{if(!(r instanceof dt||r instanceof yi))throw new ae(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(nt.fromString(e,...n));return fx(i),new dt(r.firestore,r instanceof yi?r.converter:null,new pe(i))}}const nb="AsyncQueue";class sb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xg(this,"async_queue_retry"),this._c=()=>{const i=ap();i&&ue(nb,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=ap();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ap();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new xr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Lo(e))throw e;ue(nb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Tr("INTERNAL UNHANDLED ERROR: ",rb(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Sg.createAndSchedule(this,e,n,i,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:rb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function rb(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function ib(r){return(function(n,i){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of i)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Ar extends Vd{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new sb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sb(e),this._firestoreClient=void 0,await e}}}function v4(r,e){const n=typeof r=="object"?r:Db(),i=typeof r=="string"?r:Jh,o=Qp(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const c=IS("firestore");c&&y4(o,...c)}return o}function Pd(r){if(r._terminated)throw new ae(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||_4(r),r._firestoreClient}function _4(r){const e=r._freezeSettings(),n=(function(o,c,d,p){return new HR(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,B1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new d4(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Cn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cn(en.fromBase64String(e))}catch(n){throw new ae(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Cn(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vc(e,Cn._jsonSchema))return Cn.fromBase64String(e.bytes)}}Cn._jsonSchemaVersion="firestore/bytes/1.0",Cn._jsonSchema={type:Ot("string",Cn._jsonSchemaVersion),bytes:Ot("string")};class Bc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Md{constructor(e){this._methodName=e}}class Ks{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ks._jsonSchemaVersion}}static fromJSON(e){if(Vc(e,Ks._jsonSchema))return new Ks(e.latitude,e.longitude)}}Ks._jsonSchemaVersion="firestore/geoPoint/1.0",Ks._jsonSchema={type:Ot("string",Ks._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class Ys{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ys._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vc(e,Ys._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ys(e.vectorValues);throw new ae(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ys._jsonSchemaVersion="firestore/vectorValue/1.0",Ys._jsonSchema={type:Ot("string",Ys._jsonSchemaVersion),vectorValues:Ot("object")};const x4=/^__.*__$/;class b4{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ri(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mc(e,this.data,n,this.fieldTransforms)}}class q1{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Ri(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function F1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:r})}}class jg{constructor(e,n,i,o,c,d){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new jg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return od(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(F1(this.Ac)&&x4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class E4{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Dd(e)}Cc(e,n,i,o=!1){return new jg({Ac:e,methodName:n,Dc:i,path:Jt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hc(r){const e=r._freezeSettings(),n=Dd(r._databaseId);return new E4(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Dg(r,e,n,i,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,n,o);Og("Data must be an object, but it was:",d,i);const p=Y1(i,d);let g,y;if(c.merge)g=new In(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const x=[];for(const E of c.mergeFields){const T=Lp(e,E,n);if(!d.contains(T))throw new ae(Z.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);W1(x,T)||x.push(T)}g=new In(x),y=d.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=d.fieldTransforms;return new b4(new un(p),g,y)}class Ld extends Md{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ld}}class kg extends Md{_toFieldTransform(e){return new mC(e.path,new Tc)}isEqual(e){return e instanceof kg}}function G1(r,e,n,i){const o=r.Cc(1,e,n);Og("Data must be an object, but it was:",o,i);const c=[],d=un.empty();Ni(i,((g,y)=>{const x=Vg(e,g,n);y=yt(y);const E=o.yc(x);if(y instanceof Ld)c.push(x);else{const T=qc(y,E);T!=null&&(c.push(x),d.set(x,T))}}));const p=new In(c);return new q1(d,p,o.fieldTransforms)}function K1(r,e,n,i,o,c){const d=r.Cc(1,e,n),p=[Lp(e,i,n)],g=[o];if(c.length%2!=0)throw new ae(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<c.length;T+=2)p.push(Lp(e,c[T])),g.push(c[T+1]);const y=[],x=un.empty();for(let T=p.length-1;T>=0;--T)if(!W1(y,p[T])){const D=p[T];let P=g[T];P=yt(P);const z=d.yc(D);if(P instanceof Ld)y.push(D);else{const M=qc(P,z);M!=null&&(y.push(D),x.set(D,M))}}const E=new In(y);return new q1(x,E,d.fieldTransforms)}function w4(r,e,n,i=!1){return qc(n,r.Cc(i?4:3,e))}function qc(r,e){if(Q1(r=yt(r)))return Og("Unsupported field value:",e,r),Y1(r,e);if(r instanceof Md)return(function(i,o){if(!F1(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const c=[];let d=0;for(const p of i){let g=qc(p,o.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(r,e)}return(function(i,o){if((i=yt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return hC(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=at.fromDate(i);return{timestampValue:nd(o.serializer,c)}}if(i instanceof at){const c=new at(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:nd(o.serializer,c)}}if(i instanceof Ks)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Cn)return{bytesValue:u1(o.serializer,i._byteString)};if(i instanceof dt){const c=o.databaseId,d=i.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:pg(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Ys)return(function(d,p){return{mapValue:{fields:{[ME]:{stringValue:LE},[Zh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return dg(p.serializer,y)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${Ed(i)}`)})(r,e)}function Y1(r,e){const n={};return jE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ni(r,((i,o)=>{const c=qc(o,e.mc(i));c!=null&&(n[i]=c)})),{mapValue:{fields:n}}}function Q1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof at||r instanceof Ks||r instanceof Cn||r instanceof dt||r instanceof Md||r instanceof Ys)}function Og(r,e,n){if(!Q1(n)||!CE(n)){const i=Ed(n);throw i==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+i)}}function Lp(r,e,n){if((e=yt(e))instanceof Bc)return e._internalPath;if(typeof e=="string")return Vg(r,e);throw od("Field path arguments must be of type string or ",r,!1,void 0,n)}const T4=new RegExp("[~\\*/\\[\\]]");function Vg(r,e,n){if(e.search(T4)>=0)throw od(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Bc(...e.split("."))._internalPath}catch{throw od(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function od(r,e,n,i,o){const c=i&&!i.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${i}`),d&&(g+=` in document ${o}`),g+=")"),new ae(Z.INVALID_ARGUMENT,p+r+g)}function W1(r,e){return r.some((n=>n.isEqual(e)))}class ld{constructor(e,n,i,o,c){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new S4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Pg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class S4 extends ld{data(){return super.data()}}function Pg(r,e){return typeof e=="string"?Vg(r,e):e instanceof Bc?e._internalPath:e._delegate._internalPath}function A4(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ae(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mg{}class X1 extends Mg{}function $1(r,e,...n){let i=[];e instanceof Mg&&i.push(e),i=i.concat(n),(function(c){const d=c.filter((g=>g instanceof Ug)).length,p=c.filter((g=>g instanceof Lg)).length;if(d>1||d>0&&p>0)throw new ae(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)r=o._apply(r);return r}class Lg extends X1{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Lg(e,n,i)}_apply(e){const n=this._parse(e);return Z1(e._query,n),new Ea(e.firestore,e.converter,Np(e._query,n))}_parse(e){const n=Hc(e.firestore);return(function(c,d,p,g,y,x,E){let T;if(y.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new ae(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){ob(E,x);const P=[];for(const z of E)P.push(ab(g,c,z));T={arrayValue:{values:P}}}else T=ab(g,c,E)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||ob(E,x),T=w4(p,d,E,x==="in"||x==="not-in");return kt.create(y,x,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Ug extends Mg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ug(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:ps.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let d=o;const p=c.getFlattenedFilters();for(const g of p)Z1(d,g),d=Np(d,g)})(e._query,n),new Ea(e.firestore,e.converter,Np(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zg extends X1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new zg(e,n)}_apply(e){const n=(function(o,c,d){if(o.startAt!==null)throw new ae(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ae(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wc(c,d)})(e._query,this._field,this._direction);return new Ea(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new Uo(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function J1(r,e="asc"){const n=e,i=Pg("orderBy",r);return zg._create(i,n)}function ab(r,e,n){if(typeof(n=yt(n))=="string"){if(n==="")throw new ae(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KE(e)&&n.indexOf("/")!==-1)throw new ae(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(nt.fromString(n));if(!pe.isDocumentKey(i))throw new ae(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ex(r,new pe(i))}if(n instanceof dt)return Ex(r,n._key);throw new ae(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ed(n)}.`)}function ob(r,e){if(!Array.isArray(r)||r.length===0)throw new ae(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Z1(r,e){const n=(function(o,c){for(const d of o)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ae(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ew{convertValue(e,n="none"){switch(Ei(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ni(e,((o,c)=>{i[o]=this.convertValue(c,n)})),i}convertVectorValue(e){const n=e.fields?.[Zh].arrayValue?.values?.map((i=>Et(i.doubleValue)));return new Ys(n)}convertGeoPoint(e){return new Ks(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Td(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(xc(e));default:return null}}convertTimestamp(e){const n=xi(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=nt.fromString(e);Be(y1(i),9688,{name:e});const o=new bc(i.get(1),i.get(3)),c=new pe(i.popFirst(5));return o.isEqual(n)||Tr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function Bg(r,e,n){let i;return i=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,i}class N4 extends ew{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}}class xo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vi extends ld{constructor(e,n,i,o,c,d){super(e,n,i,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Pg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=vi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}vi._jsonSchemaVersion="firestore/documentSnapshot/1.0",vi._jsonSchema={type:Ot("string",vi._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Bh extends vi{data(e={}){return super.data(e)}}class So{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new xo(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Bh(this._firestore,this._userDataWriter,i.key,i,new xo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const g=new Bh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new xo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Bh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new xo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,x=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),x=d.indexOf(p.doc.key)),{type:R4(p.type),doc:g,oldIndex:y,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=So._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ag.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function R4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:r})}}function Bo(r){r=jn(r,dt);const e=jn(r.firestore,Ar);return g4(Pd(e),r._key).then((n=>nw(e,r,n)))}So._jsonSchemaVersion="firestore/querySnapshot/1.0",So._jsonSchema={type:Ot("string",So._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Hg extends ew{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}}function Fc(r,e,n){r=jn(r,dt);const i=jn(r.firestore,Ar),o=Bg(r.converter,e,n);return Ud(i,[Dg(Hc(i),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Zt.none())])}function C4(r,e,n,...i){r=jn(r,dt);const o=jn(r.firestore,Ar),c=Hc(o);let d;return d=typeof(e=yt(e))=="string"||e instanceof Bc?K1(c,"updateDoc",r._key,e,n,i):G1(c,"updateDoc",r._key,e),Ud(o,[d.toMutation(r._key,Zt.exists(!0))])}function I4(r){return Ud(jn(r.firestore,Ar),[new Id(r._key,Zt.none())])}function Gc(r,e){const n=jn(r.firestore,Ar),i=rn(r),o=Bg(r.converter,e);return Ud(n,[Dg(Hc(r.firestore),"addDoc",i._key,o,r.converter!==null,{}).toMutation(i._key,Zt.exists(!1))]).then((()=>i))}function tw(r,...e){r=yt(r);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||ib(e[i])||(n=e[i++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(ib(e[i])){const g=e[i];e[i]=g.next?.bind(g),e[i+1]=g.error?.bind(g),e[i+2]=g.complete?.bind(g)}let c,d,p;if(r instanceof dt)d=jn(r.firestore,Ar),p=Sd(r._key.path),c={next:g=>{e[i]&&e[i](nw(d,r,g))},error:e[i+1],complete:e[i+2]};else{const g=jn(r,Ea);d=jn(g.firestore,Ar),p=g._query;const y=new Hg(d);c={next:x=>{e[i]&&e[i](new So(d,y,g,x))},error:e[i+1],complete:e[i+2]},A4(r._query)}return(function(y,x,E,T){const D=new z1(T),P=new j1(x,D,E);return y.asyncQueue.enqueueAndForget((async()=>C1(await Mp(y),P))),()=>{D.Nu(),y.asyncQueue.enqueueAndForget((async()=>I1(await Mp(y),P)))}})(Pd(d),p,o,c)}function Ud(r,e){return(function(i,o){const c=new xr;return i.asyncQueue.enqueueAndForget((async()=>t4(await m4(i),o,c))),c.promise})(Pd(r),e)}function nw(r,e,n){const i=n.docs.get(e._key),o=new Hg(r);return new vi(r,o,e._key,i,new xo(n.hasPendingWrites,n.fromCache),e.converter)}const j4={maxAttempts:5};function rc(r,e){if((r=yt(r)).firestore!==e)throw new ae(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class D4{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Hc(e)}get(e){const n=rc(e,this._firestore),i=new N4(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return ve(24041);const c=o[0];if(c.isFoundDocument())return new ld(this._firestore,i,c.key,c,n.converter);if(c.isNoDocument())return new ld(this._firestore,i,n._key,null,n.converter);throw ve(18433,{doc:c})}))}set(e,n,i){const o=rc(e,this._firestore),c=Bg(o.converter,n,i),d=Dg(this._dataReader,"Transaction.set",o._key,c,o.converter!==null,i);return this._transaction.set(o._key,d),this}update(e,n,i,...o){const c=rc(e,this._firestore);let d;return d=typeof(n=yt(n))=="string"||n instanceof Bc?K1(this._dataReader,"Transaction.update",c._key,n,i,o):G1(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,d),this}delete(e){const n=rc(e,this._firestore);return this._transaction.delete(n._key),this}}class k4 extends D4{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=rc(e,this._firestore),i=new Hg(this._firestore);return super.get(e).then((o=>new vi(this._firestore,i,n._key,o._document,new xo(!1,!1),n.converter)))}}function sw(r,e,n){r=jn(r,Ar);const i={...j4,...n};return(function(c){if(c.maxAttempts<1)throw new ae(Z.INVALID_ARGUMENT,"Max attempts must be at least 1")})(i),(function(c,d,p){const g=new xr;return c.asyncQueue.enqueueAndForget((async()=>{const y=await p4(c);new h4(c.asyncQueue,y,p,d,g).ju()})),g.promise})(Pd(r),(o=>e(new k4(r,o))),i)}function Vt(){return new kg("serverTimestamp")}(function(e,n=!0){(function(o){Po=o})(Oo),Ao(new ma("firestore",((i,{instanceIdentifier:o,options:c})=>{const d=i.getProvider("app").getImmediate(),p=new Ar(new wR(i.getProvider("auth-internal")),new AR(d,i.getProvider("app-check-internal")),(function(y,x){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ae(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bc(y.options.projectId,x)})(d,o),d);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),pi(cx,ux,e),pi(cx,ux,"esm2020")})();const ha=[{id:"TIER1",displayName:"Tier 1",description:"Reward Tier 1"},{id:"TIER2",displayName:"Tier 2",description:"Reward Tier 2"},{id:"TIER3",displayName:"Tier 3",description:"Reward Tier 3"},{id:"TIER4",displayName:"Tier 4",description:"Reward Tier 4"},{id:"TIER5",displayName:"Tier 5",description:"Reward Tier 5"},{id:"TIER6",displayName:"Tier 6",description:"Reward Tier 6"}],rw="SHOCKWAVEStampRewards",da=6,Wn={collectedStamps:[],photoshootUnlocked:!1,photoshootClaimed:!1},kn=(r=Wn)=>{const e=r||Wn,n=Array.from(new Set((e.collectedStamps||[]).filter(o=>ha.some(c=>c.id===o)))).slice(0,da),i=e.photoshootUnlocked||n.length>=da;return{...Wn,...e,collectedStamps:n,photoshootUnlocked:i}},qg=r=>{const e=kn(r),n=ha.map(i=>i.id).find(i=>!e.collectedStamps.includes(i));return n?cd(e,n):{...e,photoshootUnlocked:!0}},cd=(r,e)=>{const n=kn(r);if(!ha.some(o=>o.id===e)||n.collectedStamps.includes(e))return n;const i=[...n.collectedStamps,e].slice(0,da);return kn({...n,collectedStamps:i})},dc=()=>{try{if(typeof localStorage>"u")return{...Wn};const r=localStorage.getItem(rw);if(!r)return{...Wn};const e=JSON.parse(r);return kn(e)}catch{return{...Wn}}},fc=r=>{try{if(typeof localStorage>"u")return;localStorage.setItem(rw,JSON.stringify(kn(r)))}catch{}},O4=(r=[])=>r.reduce((e,n)=>e+(n?.qty||0),0),V4={apiKey:"AIzaSyBo1Lg0ttYkfoTuHlZyVeWCPEAeE9d_uJ4",authDomain:"shockwave-web.firebaseapp.com",projectId:"shockwave-web",storageBucket:"shockwave-web.firebasestorage.app",messagingSenderId:"975443943258",appId:"1:975443943258:web:403c932f2e657780681d63",measurementId:"G-TEZKJTQDXD"},iw=U_().length?U_()[0]:jb(V4),Ye=v4(iw),hs=_R(iw),P4=async r=>{try{return r?(await Gc(Xs(Ye,"subscribers"),{email:r,joinedAt:Vt(),source:"website_footer"}),{success:!0}):{success:!1,error:"No email provided"}}catch(e){return console.error("Error adding subscriber: ",e),{success:!1,error:e.message}}},M4=async r=>{try{return await Gc(Xs(Ye,"orders"),{...r,status:"paid",createdAt:Vt()}),{success:!0}}catch(e){return console.error("Error saving order: ",e),{success:!1,error:e.message}}},L4=async r=>{if(!r)return null;const e=await Bo(rn(Ye,"userRoles",r));return e.exists()?e.data().role:null},aw=async(r,e,n)=>Fc(rn(Ye,"userRoles",r),{email:e,role:n,updatedAt:Vt()},{merge:!0}),PD=async({email:r,password:e,role:n="user"})=>{const i=await rE(hs,r,e);return await aw(i.user.uid,r,n),i.user},fs=async r=>Gc(Xs(Ye,"activityLogs"),{...r,createdAt:Vt()}),MD=r=>{const e=$1(Xs(Ye,"activityLogs"),J1("createdAt","desc"));return tw(e,n=>r(n.docs.map(i=>({id:i.id,...i.data()}))))},U4=async(r,e)=>{if(!r)return{created:!1};const n=rn(Ye,"userRoles",r);return(await Bo(n)).exists()?{created:!1}:(await Fc(n,{email:e||"",role:"user",createdAt:Vt(),updatedAt:Vt()}),{created:!0})},Kc=(r,e)=>{const n=$1(Xs(Ye,r),J1("createdAt","desc"));return tw(n,i=>{const o=i.docs.map(c=>({id:c.id,...c.data()}));e(o)})},LD=async(r,e)=>Gc(Xs(Ye,r),{...e,createdAt:Vt()}),UD=async(r,e,n)=>C4(rn(Ye,r,e),{...n,updatedAt:Vt()}),zD=async(r,e)=>I4(rn(Ye,r,e)),Yc=async r=>{if(!r)return null;const e=rn(Ye,"rewardStamps",r),n=await Bo(e);return n.exists()?kn(n.data()):null},_a=async(r,e,n,i="manual")=>{if(!r)return null;const o=rn(Ye,"rewardStamps",r),c=kn(n);return await Fc(o,{...c,userEmail:e||"",updatedAt:Vt(),createdAt:c.createdAt||Vt(),lastReason:i},{merge:!0}),c},ud=async(r,e)=>{if(!r)return null;const n=rn(Ye,"rewardStamps",r),i=await Bo(n);return i.exists()?{created:!1,state:kn(i.data())}:(await Fc(n,{...Wn,userEmail:e||"",createdAt:Vt(),updatedAt:Vt()}),{created:!0,state:{...Wn}})},z4=async(r,e)=>{if(!r)return null;const n=await Yc(r)||{...Wn},i=qg(n),o=await _a(r,e,i,"signup_bonus");return await fs({type:"rewards:signup_stamp",uid:r,email:e,collected:o.collectedStamps}),o},BD=async(r,e,n,i="manual")=>{if(!r||!n)return null;const o=await Yc(r)||{...Wn},c=cd(o,n),d=await _a(r,e,c,i);return await fs({type:"rewards:add",uid:r,email:e,stampId:n,collected:d.collectedStamps,reason:i}),d},HD=async(r,e,n,i="manual_remove")=>{if(!r||!n)return null;const o=await Yc(r)||{...Wn},c=kn({...o,collectedStamps:(o.collectedStamps||[]).filter(p=>p!==n)}),d=await _a(r,e,c,i);return await fs({type:"rewards:remove",uid:r,email:e,stampId:n,collected:d.collectedStamps,reason:i}),d},qD=async(r,e,n="manual_reset")=>{if(!r)return null;const i=await _a(r,e,{...Wn},n);return await fs({type:"rewards:reset",uid:r,email:e,reason:n}),i},Qs={balance:0,tier:"SCOUT",rolling12mSpend:0,totalEarnedPoints:0},B4=r=>{if(typeof r=="number")return r;if(r==null)return 0;const e=parseInt(String(r).replace(/[^0-9]/g,""),10);return Number.isFinite(e)?e:0},lp=async(r,e)=>{if(!r)return{created:!1};const n=rn(Ye,"loyaltyUsers",r),i=await Bo(n);return i.exists()?{created:!1,state:{...Qs,...i.data()}}:(await Fc(n,{...Qs,userEmail:e||"",createdAt:Vt(),updatedAt:Vt()}),{created:!0,state:{...Qs}})},H4=async r=>{if(!r)return{...Qs};const e=rn(Ye,"loyaltyUsers",r),n=await Bo(e);return n.exists()?{...Qs,...n.data()}:{...Qs}},q4=async({uid:r,email:e,cartItems:n=[]})=>{if(!r)throw new Error("User required");const i=(n||[]).map(y=>({id:y.id||"",name:y.name||"",qty:y.qty||1,price:y.price||0,category:y.category||"",image:y.image||""})),o=i.reduce((y,x)=>{const E=B4(x.price);return y+E*(x.qty||1)},0);if(o<=0)throw new Error("Cart total must be positive");const c=rn(Ye,"loyaltyUsers",r),d=rn(Xs(Ye,"pointLedger")),p=rn(Xs(Ye,"orders"));return{success:!0,newBalance:(await sw(Ye,async y=>{const x=await y.get(c),E=x.exists()?x.data():{...Qs},T=E.balance||0;if(T<o)throw new Error("Insufficient GG balance");const D=T-o;return y.set(c,{...Qs,...E,balance:D,updatedAt:Vt()},{merge:!0}),y.set(d,{userId:r,type:"REDEEM",amount:-o,createdAt:Vt(),meta:{paymentMethod:"GG_POINTS",total:o,itemCount:i.length}}),y.set(p,{items:i,total:o,paymentMethod:"GG_POINTS",status:"paid",userId:r,userEmail:e||"",createdAt:Vt()}),{newBalance:D}})).newBalance}},F4=async({uid:r,email:e,amountZar:n=0,source:i="purchase",meta:o={},rolling12mSpend:c=0})=>{if(!r)throw new Error("User required");const d=Number(n)||0;if(d<=0)return{success:!1,message:"Amount must be positive",pointsAwarded:0};const p=Number(c)||0;let g=3.5;p>=70001?g=7.5:p>=45001?g=6.5:p>=25001?g=5.5:p>=15001&&(g=4.5);const y=Math.floor(d*(g/100));if(y<=0)return{success:!1,message:"No points to award",pointsAwarded:0};const x=rn(Ye,"loyaltyUsers",r),E=rn(Xs(Ye,"pointLedger"));return{success:!0,...await sw(Ye,async D=>{const P=await D.get(x),z=P.exists()?P.data():{...Qs},M=(z.balance||0)+y,X=(z.totalEarnedPoints||0)+y;return D.set(x,{...Qs,...z,balance:M,totalEarnedPoints:X,updatedAt:Vt()},{merge:!0}),D.set(E,{userId:r,type:"EARN",amount:y,createdAt:Vt(),meta:{source:i,amountZar:d,...o}}),{newBalance:M,pointsAwarded:y}})}},G4="GG Points",K4=1,lb={SCOUT:{min:0,max:15e3,earnRatePercent:3.5},CAPTAIN:{min:15001,max:25e3,earnRatePercent:4.5},GENERAL:{min:25001,max:45e3,earnRatePercent:5.5},COMMANDER:{min:45001,max:7e4,earnRatePercent:6.5},LEGEND:{min:70001,max:1/0,earnRatePercent:7.5}},Y4=(r,e)=>{const n=["SCOUT","CAPTAIN","GENERAL","COMMANDER","LEGEND"],i=n.indexOf(r),o=n[Math.min(n.length-1,i+1)],c=o==="LEGEND"?lb.LEGEND.min:lb[o].min,d=Math.max(0,c-e),p=o===r?100:Math.min(100,Math.round(e/c*100));return{nextTier:o,spendToNext:d,progressPct:p}},Q4=r=>(r*K4).toFixed(2);var cb="popstate";function W4(r={}){function e(i,o){let{pathname:c,search:d,hash:p}=i.location;return Up("",{pathname:c,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Nc(o)}return $4(e,n,null,r)}function ht(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function On(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function X4(){return Math.random().toString(36).substring(2,10)}function ub(r,e){return{usr:r.state,key:r.key,idx:e}}function Up(r,e,n=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ho(e):e,state:n,key:e&&e.key||i||X4()}}function Nc({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ho(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function $4(r,e,n,i={}){let{window:o=document.defaultView,v5Compat:c=!1}=i,d=o.history,p="POP",g=null,y=x();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function x(){return(d.state||{idx:null}).idx}function E(){p="POP";let M=x(),X=M==null?null:M-y;y=M,g&&g({action:p,location:z.location,delta:X})}function T(M,X){p="PUSH";let Y=Up(z.location,M,X);y=x()+1;let K=ub(Y,y),ie=z.createHref(Y);try{d.pushState(K,"",ie)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;o.location.assign(ie)}c&&g&&g({action:p,location:z.location,delta:1})}function D(M,X){p="REPLACE";let Y=Up(z.location,M,X);y=x();let K=ub(Y,y),ie=z.createHref(Y);d.replaceState(K,"",ie),c&&g&&g({action:p,location:z.location,delta:0})}function P(M){return J4(M)}let z={get action(){return p},get location(){return r(o,d)},listen(M){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(cb,E),g=M,()=>{o.removeEventListener(cb,E),g=null}},createHref(M){return e(o,M)},createURL:P,encodeLocation(M){let X=P(M);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:T,replace:D,go(M){return d.go(M)}};return z}function J4(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Nc(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function ow(r,e,n="/"){return Z4(r,e,n,!1)}function Z4(r,e,n,i){let o=typeof e=="string"?Ho(e):e,c=Nr(o.pathname||"/",n);if(c==null)return null;let d=lw(r);ej(d);let p=null;for(let g=0;p==null&&g<d.length;++g){let y=hj(c);p=cj(d[g],y,i)}return p}function lw(r,e=[],n=[],i="",o=!1){let c=(d,p,g=o,y)=>{let x={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(i)&&g)return;ht(x.relativePath.startsWith(i),`Absolute route path "${x.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(i.length)}let E=br([i,x.relativePath]),T=n.concat(x);d.children&&d.children.length>0&&(ht(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),lw(d.children,e,T,E,g)),!(d.path==null&&!d.index)&&e.push({path:E,score:oj(E,d.index),routesMeta:T})};return r.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))c(d,p);else for(let g of cw(d.path))c(d,p,!0,g)}),e}function cw(r){let e=r.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(i.length===0)return o?[c,""]:[c];let d=cw(i.join("/")),p=[];return p.push(...d.map(g=>g===""?c:[c,g].join("/"))),o&&p.push(...d),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function ej(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:lj(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var tj=/^:[\w-]+$/,nj=3,sj=2,rj=1,ij=10,aj=-2,hb=r=>r==="*";function oj(r,e){let n=r.split("/"),i=n.length;return n.some(hb)&&(i+=aj),e&&(i+=sj),n.filter(o=>!hb(o)).reduce((o,c)=>o+(tj.test(c)?nj:c===""?rj:ij),i)}function lj(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function cj(r,e,n=!1){let{routesMeta:i}=r,o={},c="/",d=[];for(let p=0;p<i.length;++p){let g=i[p],y=p===i.length-1,x=c==="/"?e:e.slice(c.length)||"/",E=hd({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},x),T=g.route;if(!E&&y&&n&&!i[i.length-1].route.index&&(E=hd({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!E)return null;Object.assign(o,E.params),d.push({params:o,pathname:br([c,E.pathname]),pathnameBase:gj(br([c,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(c=br([c,E.pathnameBase]))}return d}function hd(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,i]=uj(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:i.reduce((y,{paramName:x,isOptional:E},T)=>{if(x==="*"){let P=p[T]||"";d=c.slice(0,c.length-P.length).replace(/(.)\/+$/,"$1")}const D=p[T];return E&&!D?y[x]=void 0:y[x]=(D||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:r}}function uj(r,e=!1,n=!0){On(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,g)=>(i.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function hj(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return On(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Nr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=r.charAt(n);return i&&i!=="/"?null:r.slice(n)||"/"}var dj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fj=r=>dj.test(r);function mj(r,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof r=="string"?Ho(r):r,c;if(n)if(fj(n))c=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),On(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${n}`)}n.startsWith("/")?c=db(n.substring(1),"/"):c=db(n,e)}else c=e;return{pathname:c,search:yj(i),hash:vj(o)}}function db(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function cp(r,e,n,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pj(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fg(r){let e=pj(r);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Gg(r,e,n,i=!1){let o;typeof r=="string"?o=Ho(r):(o={...r},ht(!o.pathname||!o.pathname.includes("?"),cp("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),cp("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),cp("#","search","hash",o)));let c=r===""||o.pathname==="",d=c?"/":o.pathname,p;if(d==null)p=n;else{let E=e.length-1;if(!i&&d.startsWith("..")){let T=d.split("/");for(;T[0]==="..";)T.shift(),E-=1;o.pathname=T.join("/")}p=E>=0?e[E]:"/"}let g=mj(o,p),y=d&&d!=="/"&&d.endsWith("/"),x=(c||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||x)&&(g.pathname+="/"),g}var br=r=>r.join("/").replace(/\/\/+/g,"/"),gj=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),yj=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,vj=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function _j(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var uw=["POST","PUT","PATCH","DELETE"];new Set(uw);var xj=["GET",...uw];new Set(xj);var qo=V.createContext(null);qo.displayName="DataRouter";var zd=V.createContext(null);zd.displayName="DataRouterState";V.createContext(!1);var hw=V.createContext({isTransitioning:!1});hw.displayName="ViewTransition";var bj=V.createContext(new Map);bj.displayName="Fetchers";var Ej=V.createContext(null);Ej.displayName="Await";var gs=V.createContext(null);gs.displayName="Navigation";var Qc=V.createContext(null);Qc.displayName="Location";var ys=V.createContext({outlet:null,matches:[],isDataRoute:!1});ys.displayName="Route";var Kg=V.createContext(null);Kg.displayName="RouteError";function wj(r,{relative:e}={}){ht(Fo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=V.useContext(gs),{hash:o,pathname:c,search:d}=Wc(r,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:br([n,c])),i.createHref({pathname:p,search:d,hash:o})}function Fo(){return V.useContext(Qc)!=null}function vs(){return ht(Fo(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Qc).location}var dw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fw(r){V.useContext(gs).static||V.useLayoutEffect(r)}function Ci(){let{isDataRoute:r}=V.useContext(ys);return r?Mj():Tj()}function Tj(){ht(Fo(),"useNavigate() may be used only in the context of a <Router> component.");let r=V.useContext(qo),{basename:e,navigator:n}=V.useContext(gs),{matches:i}=V.useContext(ys),{pathname:o}=vs(),c=JSON.stringify(Fg(i)),d=V.useRef(!1);return fw(()=>{d.current=!0}),V.useCallback((g,y={})=>{if(On(d.current,dw),!d.current)return;if(typeof g=="number"){n.go(g);return}let x=Gg(g,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:br([e,x.pathname])),(y.replace?n.replace:n.push)(x,y.state,y)},[e,n,c,o,r])}V.createContext(null);function Sj(){let{matches:r}=V.useContext(ys),e=r[r.length-1];return e?e.params:{}}function Wc(r,{relative:e}={}){let{matches:n}=V.useContext(ys),{pathname:i}=vs(),o=JSON.stringify(Fg(n));return V.useMemo(()=>Gg(r,JSON.parse(o),i,e==="path"),[r,o,i,e])}function Aj(r,e){return mw(r,e)}function mw(r,e,n,i,o){ht(Fo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=V.useContext(gs),{matches:d}=V.useContext(ys),p=d[d.length-1],g=p?p.params:{},y=p?p.pathname:"/",x=p?p.pathnameBase:"/",E=p&&p.route;{let Y=E&&E.path||"";pw(y,!E||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let T=vs(),D;if(e){let Y=typeof e=="string"?Ho(e):e;ht(x==="/"||Y.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),D=Y}else D=T;let P=D.pathname||"/",z=P;if(x!=="/"){let Y=x.replace(/^\//,"").split("/");z="/"+P.replace(/^\//,"").split("/").slice(Y.length).join("/")}let M=ow(r,{pathname:z});On(E||M!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),On(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=jj(M&&M.map(Y=>Object.assign({},Y,{params:Object.assign({},g,Y.params),pathname:br([x,c.encodeLocation?c.encodeLocation(Y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?x:br([x,c.encodeLocation?c.encodeLocation(Y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathnameBase])})),d,n,i,o);return e&&X?V.createElement(Qc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},X):X}function Nj(){let r=Pj(),e=_j(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:c},"ErrorBoundary")," or"," ",V.createElement("code",{style:c},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:o},n):null,d)}var Rj=V.createElement(Nj,null),Cj=class extends V.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?V.createElement(ys.Provider,{value:this.props.routeContext},V.createElement(Kg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ij({routeContext:r,match:e,children:n}){let i=V.useContext(qo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(ys.Provider,{value:r},n)}function jj(r,e=[],n=null,i=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let c=r,d=n?.errors;if(d!=null){let x=c.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);ht(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let p=!1,g=-1;if(n)for(let x=0;x<c.length;x++){let E=c[x];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=x),E.route.id){let{loaderData:T,errors:D}=n,P=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!D||D[E.route.id]===void 0);if(E.route.lazy||P){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=n&&i?(x,E)=>{i(x,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:E})}:void 0;return c.reduceRight((x,E,T)=>{let D,P=!1,z=null,M=null;n&&(D=d&&E.route.id?d[E.route.id]:void 0,z=E.route.errorElement||Rj,p&&(g<0&&T===0?(pw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,M=null):g===T&&(P=!0,M=E.route.hydrateFallbackElement||null)));let X=e.concat(c.slice(0,T+1)),Y=()=>{let K;return D?K=z:P?K=M:E.route.Component?K=V.createElement(E.route.Component,null):E.route.element?K=E.route.element:K=x,V.createElement(Ij,{match:E,routeContext:{outlet:x,matches:X,isDataRoute:n!=null},children:K})};return n&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?V.createElement(Cj,{location:n.location,revalidation:n.revalidation,component:z,error:D,children:Y(),routeContext:{outlet:null,matches:X,isDataRoute:!0},onError:y}):Y()},null)}function Yg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dj(r){let e=V.useContext(qo);return ht(e,Yg(r)),e}function kj(r){let e=V.useContext(zd);return ht(e,Yg(r)),e}function Oj(r){let e=V.useContext(ys);return ht(e,Yg(r)),e}function Qg(r){let e=Oj(r),n=e.matches[e.matches.length-1];return ht(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Vj(){return Qg("useRouteId")}function Pj(){let r=V.useContext(Kg),e=kj("useRouteError"),n=Qg("useRouteError");return r!==void 0?r:e.errors?.[n]}function Mj(){let{router:r}=Dj("useNavigate"),e=Qg("useNavigate"),n=V.useRef(!1);return fw(()=>{n.current=!0}),V.useCallback(async(o,c={})=>{On(n.current,dw),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var fb={};function pw(r,e,n){!e&&!fb[r]&&(fb[r]=!0,On(!1,n))}V.memo(Lj);function Lj({routes:r,future:e,state:n,unstable_onError:i}){return mw(r,void 0,n,i,e)}function mb({to:r,replace:e,state:n,relative:i}){ht(Fo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=V.useContext(gs);On(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=V.useContext(ys),{pathname:d}=vs(),p=Ci(),g=Gg(r,Fg(c),d,i==="path"),y=JSON.stringify(g);return V.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:i})},[p,y,i,e,n]),null}function la(r){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Uj({basename:r="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:c=!1}){ht(!Fo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),p=V.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof n=="string"&&(n=Ho(n));let{pathname:g="/",search:y="",hash:x="",state:E=null,key:T="default"}=n,D=V.useMemo(()=>{let P=Nr(g,d);return P==null?null:{location:{pathname:P,search:y,hash:x,state:E,key:T},navigationType:i}},[d,g,y,x,E,T,i]);return On(D!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${x}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:V.createElement(gs.Provider,{value:p},V.createElement(Qc.Provider,{children:e,value:D}))}function zj({children:r,location:e}){return Aj(zp(r),e)}function zp(r,e=[]){let n=[];return V.Children.forEach(r,(i,o)=>{if(!V.isValidElement(i))return;let c=[...e,o];if(i.type===V.Fragment){n.push.apply(n,zp(i.props.children,c));return}ht(i.type===la,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=zp(i.props.children,c)),n.push(d)}),n}var Hh="get",qh="application/x-www-form-urlencoded";function Bd(r){return r!=null&&typeof r.tagName=="string"}function Bj(r){return Bd(r)&&r.tagName.toLowerCase()==="button"}function Hj(r){return Bd(r)&&r.tagName.toLowerCase()==="form"}function qj(r){return Bd(r)&&r.tagName.toLowerCase()==="input"}function Fj(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Gj(r,e){return r.button===0&&(!e||e==="_self")&&!Fj(r)}function Bp(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let i=r[n];return e.concat(Array.isArray(i)?i.map(o=>[n,o]):[[n,i]])},[]))}function Kj(r,e){let n=Bp(r);return e&&e.forEach((i,o)=>{n.has(o)||e.getAll(o).forEach(c=>{n.append(o,c)})}),n}var jh=null;function Yj(){if(jh===null)try{new FormData(document.createElement("form"),0),jh=!1}catch{jh=!0}return jh}var Qj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function up(r){return r!=null&&!Qj.has(r)?(On(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qh}"`),null):r}function Wj(r,e){let n,i,o,c,d;if(Hj(r)){let p=r.getAttribute("action");i=p?Nr(p,e):null,n=r.getAttribute("method")||Hh,o=up(r.getAttribute("enctype"))||qh,c=new FormData(r)}else if(Bj(r)||qj(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(i=g?Nr(g,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||Hh,o=up(r.getAttribute("formenctype"))||up(p.getAttribute("enctype"))||qh,c=new FormData(p,r),!Yj()){let{name:y,type:x,value:E}=r;if(x==="image"){let T=y?`${y}.`:"";c.append(`${T}x`,"0"),c.append(`${T}y`,"0")}else y&&c.append(y,E)}}else{if(Bd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hh,i=null,o=qh,d=r}return c&&o==="text/plain"&&(d=c,c=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Xj(r,e,n){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Nr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function $j(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Jj(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Zj(r,e,n){let i=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await $j(c,n);return d.links?d.links():[]}return[]}));return s3(i.flat(1).filter(Jj).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function pb(r,e,n,i,o,c){let d=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>d(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let x=i.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(d(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function e3(r,e,{includeHydrateFallback:n}={}){return t3(r.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function t3(r){return[...new Set(r)]}function n3(r){let e={},n=Object.keys(r).sort();for(let i of n)e[i]=r[i];return e}function s3(r,e){let n=new Set;return new Set(e),r.reduce((i,o)=>{let c=JSON.stringify(n3(o));return n.has(c)||(n.add(c),i.push({key:c,link:o})),i},[])}function gw(){let r=V.useContext(qo);return Wg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function r3(){let r=V.useContext(zd);return Wg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Xg=V.createContext(void 0);Xg.displayName="FrameworkContext";function yw(){let r=V.useContext(Xg);return Wg(r,"You must render this element inside a <HydratedRouter> element"),r}function i3(r,e){let n=V.useContext(Xg),[i,o]=V.useState(!1),[c,d]=V.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:x,onTouchStart:E}=e,T=V.useRef(null);V.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let z=X=>{X.forEach(Y=>{d(Y.isIntersecting)})},M=new IntersectionObserver(z,{threshold:.5});return T.current&&M.observe(T.current),()=>{M.disconnect()}}},[r]),V.useEffect(()=>{if(i){let z=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(z)}}},[i]);let D=()=>{o(!0)},P=()=>{o(!1),d(!1)};return n?r!=="intent"?[c,T,{}]:[c,T,{onFocus:Jl(p,D),onBlur:Jl(g,P),onMouseEnter:Jl(y,D),onMouseLeave:Jl(x,P),onTouchStart:Jl(E,D)}]:[!1,T,{}]}function Jl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function a3({page:r,...e}){let{router:n}=gw(),i=V.useMemo(()=>ow(n.routes,r,n.basename),[n.routes,r,n.basename]);return i?V.createElement(l3,{page:r,matches:i,...e}):null}function o3(r){let{manifest:e,routeModules:n}=yw(),[i,o]=V.useState([]);return V.useEffect(()=>{let c=!1;return Zj(r,e,n).then(d=>{c||o(d)}),()=>{c=!0}},[r,e,n]),i}function l3({page:r,matches:e,...n}){let i=vs(),{manifest:o,routeModules:c}=yw(),{basename:d}=gw(),{loaderData:p,matches:g}=r3(),y=V.useMemo(()=>pb(r,e,g,o,i,"data"),[r,e,g,o,i]),x=V.useMemo(()=>pb(r,e,g,o,i,"assets"),[r,e,g,o,i]),E=V.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let P=new Set,z=!1;if(e.forEach(X=>{let Y=o.routes[X.route.id];!Y||!Y.hasLoader||(!y.some(K=>K.route.id===X.route.id)&&X.route.id in p&&c[X.route.id]?.shouldRevalidate||Y.hasClientLoader?z=!0:P.add(X.route.id))}),P.size===0)return[];let M=Xj(r,d,"data");return z&&P.size>0&&M.searchParams.set("_routes",e.filter(X=>P.has(X.route.id)).map(X=>X.route.id).join(",")),[M.pathname+M.search]},[d,p,i,o,y,e,r,c]),T=V.useMemo(()=>e3(x,o),[x,o]),D=o3(x);return V.createElement(V.Fragment,null,E.map(P=>V.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),T.map(P=>V.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),D.map(({key:P,link:z})=>V.createElement("link",{key:P,nonce:n.nonce,...z})))}function c3(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var vw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vw&&(window.__reactRouterVersion="7.9.6")}catch{}function u3({basename:r,children:e,window:n}){let i=V.useRef();i.current==null&&(i.current=W4({window:n,v5Compat:!0}));let o=i.current,[c,d]=V.useState({action:o.action,location:o.location}),p=V.useCallback(g=>{V.startTransition(()=>d(g))},[d]);return V.useLayoutEffect(()=>o.listen(p),[o,p]),V.createElement(Uj,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var _w=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$n=V.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:c,replace:d,state:p,target:g,to:y,preventScrollReset:x,viewTransition:E,...T},D){let{basename:P}=V.useContext(gs),z=typeof y=="string"&&_w.test(y),M,X=!1;if(typeof y=="string"&&z&&(M=y,vw))try{let A=new URL(window.location.href),k=y.startsWith("//")?new URL(A.protocol+y):new URL(y),I=Nr(k.pathname,P);k.origin===A.origin&&I!=null?y=I+k.search+k.hash:X=!0}catch{On(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=wj(y,{relative:o}),[K,ie,me]=i3(i,T),xe=m3(y,{replace:d,state:p,target:g,preventScrollReset:x,relative:o,viewTransition:E});function j(A){e&&e(A),A.defaultPrevented||xe(A)}let N=V.createElement("a",{...T,...me,href:M||Y,onClick:X||c?e:j,ref:c3(D,ie),target:g,"data-discover":!z&&n==="render"?"true":void 0});return K&&!z?V.createElement(V.Fragment,null,N,V.createElement(a3,{page:Y})):N});$n.displayName="Link";var h3=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:c,to:d,viewTransition:p,children:g,...y},x){let E=Wc(d,{relative:y.relative}),T=vs(),D=V.useContext(zd),{navigator:P,basename:z}=V.useContext(gs),M=D!=null&&_3(E)&&p===!0,X=P.encodeLocation?P.encodeLocation(E).pathname:E.pathname,Y=T.pathname,K=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),K=K?K.toLowerCase():null,X=X.toLowerCase()),K&&z&&(K=Nr(K,z)||K);const ie=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let me=Y===X||!o&&Y.startsWith(X)&&Y.charAt(ie)==="/",xe=K!=null&&(K===X||!o&&K.startsWith(X)&&K.charAt(X.length)==="/"),j={isActive:me,isPending:xe,isTransitioning:M},N=me?e:void 0,A;typeof i=="function"?A=i(j):A=[i,me?"active":null,xe?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let k=typeof c=="function"?c(j):c;return V.createElement($n,{...y,"aria-current":N,className:A,ref:x,style:k,to:d,viewTransition:p},typeof g=="function"?g(j):g)});h3.displayName="NavLink";var d3=V.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:c,method:d=Hh,action:p,onSubmit:g,relative:y,preventScrollReset:x,viewTransition:E,...T},D)=>{let P=y3(),z=v3(p,{relative:y}),M=d.toLowerCase()==="get"?"get":"post",X=typeof p=="string"&&_w.test(p),Y=K=>{if(g&&g(K),K.defaultPrevented)return;K.preventDefault();let ie=K.nativeEvent.submitter,me=ie?.getAttribute("formmethod")||d;P(ie||K.currentTarget,{fetcherKey:e,method:me,navigate:n,replace:o,state:c,relative:y,preventScrollReset:x,viewTransition:E})};return V.createElement("form",{ref:D,method:M,action:z,onSubmit:i?g:Y,...T,"data-discover":!X&&r==="render"?"true":void 0})});d3.displayName="Form";function f3(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xw(r){let e=V.useContext(qo);return ht(e,f3(r)),e}function m3(r,{target:e,replace:n,state:i,preventScrollReset:o,relative:c,viewTransition:d}={}){let p=Ci(),g=vs(),y=Wc(r,{relative:c});return V.useCallback(x=>{if(Gj(x,e)){x.preventDefault();let E=n!==void 0?n:Nc(g)===Nc(y);p(r,{replace:E,state:i,preventScrollReset:o,relative:c,viewTransition:d})}},[g,p,y,n,i,e,r,o,c,d])}function $g(r){On(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=V.useRef(Bp(r)),n=V.useRef(!1),i=vs(),o=V.useMemo(()=>Kj(i.search,n.current?null:e.current),[i.search]),c=Ci(),d=V.useCallback((p,g)=>{const y=Bp(typeof p=="function"?p(new URLSearchParams(o)):p);n.current=!0,c("?"+y,g)},[c,o]);return[o,d]}var p3=0,g3=()=>`__${String(++p3)}__`;function y3(){let{router:r}=xw("useSubmit"),{basename:e}=V.useContext(gs),n=Vj();return V.useCallback(async(i,o={})=>{let{action:c,method:d,encType:p,formData:g,body:y}=Wj(i,e);if(o.navigate===!1){let x=o.fetcherKey||g3();await r.fetch(x,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||d,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||d,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function v3(r,{relative:e}={}){let{basename:n}=V.useContext(gs),i=V.useContext(ys);ht(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),c={...Wc(r||".",{relative:e})},d=vs();if(r==null){c.search=d.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(x=>x==="")){p.delete("index"),g.filter(E=>E).forEach(E=>p.append("index",E));let x=p.toString();c.search=x?`?${x}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:br([n,c.pathname])),Nc(c)}function _3(r,{relative:e}={}){let n=V.useContext(hw);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=xw("useViewTransitionState"),o=Wc(r,{relative:e});if(!n.isTransitioning)return!1;let c=Nr(n.currentLocation.pathname,i)||n.currentLocation.pathname,d=Nr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return hd(o.pathname,d)!=null||hd(o.pathname,c)!=null}const x3=["kruger.rualdo@gmail.com"],bw=V.createContext(null),Js=()=>V.useContext(bw),b3=({children:r})=>{const[e,n]=V.useState(null),[i,o]=V.useState(null),[c,d]=V.useState(!0),[p,g]=V.useState(""),y=V.useRef(!1),x=V.useRef(null);V.useEffect(()=>{let D=null;const P=async M=>{g("");try{const X=await U4(M.uid,M.email);await ud(M.uid,M.email);const Y=await L4(M.uid),K=x3.includes(M.email)?"admin":"user",ie=Y||K;return!Y&&K==="admin"&&await aw(M.uid,M.email||"","admin"),n(M),fs({type:"login",uid:M.uid,email:M.email||"",role:ie}),X?.created&&(await z4(M.uid,M.email||""),await fs({type:"signup_bonus",uid:M.uid,email:M.email||""})),o(ie),!0}catch(X){return g(X.message||"Unable to load role"),!1}finally{d(!1)}};return(async()=>{try{await iN(hs,lE)}catch(M){console.warn("Auth persistence fallback",M?.message||M)}try{const M=await VN(hs);M?.user&&await P(M.user)&&(y.current=!0,x.current=M.user.uid)}catch(M){g(M.message||"Unable to complete Google sign-in")}D=iE(hs,async M=>{if(g(""),!M){n(null),o(null),d(!1),y.current=!1,x.current=null;return}if(y.current&&x.current===M.uid){y.current=!1,x.current=null,d(!1);return}await P(M)})})(),()=>{D&&D()}},[]);const E=async()=>{const D=new Hs;await kN(hs,D)},T=async()=>{await lN(hs)};return h.jsx(bw.Provider,{value:{user:e,role:i,loading:c,error:p,signInWithGoogle:E,logout:T},children:r})},E3=({children:r,roles:e=[]})=>{const{user:n,role:i,loading:o}=Js(),c=vs();return o?h.jsx("div",{className:"min-h-screen bg-custom-dark text-white flex items-center justify-center",children:"Checking access..."}):n?e.length&&!e.includes(i)?h.jsx(mb,{to:"/",replace:!0}):r:h.jsx(mb,{to:"/login",state:{from:c},replace:!0})},dd="/assets/SHOCKWAVE-style16.png",w3="/assets/SHOCKWAVE-style48.jpg",Ew="/assets/SHOCKWAVE-style11.png",T3="/assets/SHOCKWAVE-style.jpg",S3="/assets/SHOCKWAVE-style14.png",Hp="/assets/SHOCKWAVE-style12.png",A3="/assets/SHOCKWAVE-style15.png",qp="/assets/SHOCKWAVE-style13.png",fd="/assets/SHOCKWAVE-style.png",md="/assets/SHOCKWAVE-style3.png",pd="/assets/SHOCKWAVE-style2.png",Go="/assets/SHOCKWAVE-style6.jpg",N3=Object.freeze(Object.defineProperty({__proto__:null,default:Go},Symbol.toStringTag,{value:"Module"})),Hd="/assets/SHOCKWAVE-style2.jpg",R3=Object.freeze(Object.defineProperty({__proto__:null,default:Hd},Symbol.toStringTag,{value:"Module"})),ww="/assets/SHOCKWAVE-style3.jpg",C3=Object.freeze(Object.defineProperty({__proto__:null,default:ww},Symbol.toStringTag,{value:"Module"})),qd="/assets/SHOCKWAVE-style11.jpg",I3=Object.freeze(Object.defineProperty({__proto__:null,default:qd},Symbol.toStringTag,{value:"Module"})),Tw="/assets/SHOCKWAVE-style12.jpg",j3=Object.freeze(Object.defineProperty({__proto__:null,default:Tw},Symbol.toStringTag,{value:"Module"})),Sw="/assets/SHOCKWAVE-style50.jpg",D3=Object.freeze(Object.defineProperty({__proto__:null,default:Sw},Symbol.toStringTag,{value:"Module"})),k3="/assets/SHOCKWAVE-style4.jpg",Aw="/assets/SHOCKWAVE-style5.jpg",Nw="/assets/SHOCKWAVE-style13.jpg",Rw="/assets/SHOCKWAVE-style14.jpg",O3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsCAYAAACPZlfNAAAABHNCSVQICAgIfAhkiAAAAAZiS0dEAFwAawDA20Z/xAAAC7xJREFUeJzt3XlQk2ceB/Anb+4QQkiAJEAgUAh3AyJYPFoKtSfWuu3KttbOaA/rbredXetu7XS362h3ql13Zzrdsi09dp2xrk4dcFHXVkUqyKFyH5aABEyAEK6Qm5z7R43LkZO8yRvw+fyVvMfzfOXnmwkvz/s8OLDMhIRyBUyWICOUyRfSGdyEEHoUn0JjccmUMDaRRGPgCWQqghCIAABgtZpNFpNBZzRqZ4wG1aReNyXXahRSrWpUMqOU9s5MSbp1mnEp1v8mb+CwDuAOJyaniBMtejCCm1HAjkrNI1NCw9Fs36BXTkwqeq+Py7vqFSPtVxQjHVfQbB9tQVcwEpnBjkvcsCVGUFASHZ//OB5PIgeyf7NJrx25fe28TFJfJR2orTCZdKpA9u9O0BQsPqlwq0C4cRs/Yd3TWGeZa6i/5luJ+OIxmaSuEussAGBcMAqNxRVmbt6dlF7yKi2EzcMyizsalXyov+dMubjrdJlxVj2FVQ5MCkZn8BLTskv3pGQ980ss+veF1Wqx9Hac+rin7eQRvXZiOND9B7RgZEpYRObq7e+liZ57K5D9+kt3y/HDnTeOHjCb9JpA9RmwgqVll74tyt+xn0Ck0ALVZyDMGlRT7de+fl/cWfFJIPrze8E40dmFOWtfPxzBSc3zd19YGhvpqG2pL9s7OXazyZ/94P3ZeE7Bax8+ULS3nEaPiPFnP8GAHsqJT04vecVms9oUI+0/+KsfvxSMyUrIeujJDyoFycW/8Ef7wYwbm/NwJC9rw/ho11XjrHoa7fZR/0hMSHl0e0HR775CEAIB7baXE6NRq2q4dGindODKKTTbRfUKE+XvPLB6wxt/w+EQBM12lyM8nkQWJD+81WIxGcdHO+tQaxethgqK3/lnqujZN9Fqb6Xg8XOLKVQmZ3io8Swa7flcMBwOwRc+9cF/BEkPb0Uj0ErE5qTmMcLj02/f+uFbX9vyqWAInkQp3nT4fHRc/mO+BlnpmOyEDFakMHew79JxX9pZcsFwOARfvOnweW7sqiJfAtxLGOH8FF+LtuSCFT715yp4ZXmPEc5PYYTHpS3143FJBVtbvO9f8UmFP1/KuRAATHZCJpnKjBoZajzn7bleF0y05uWDqff/7NfengfNF8FJzbNYjLPefuX3qmAJKY++tHr9G3/1LhrkDI+f+8j05K1O1fTtm56e4/GdDib7PtGTWz9vRhC8X+8/3muMs2rluZOv5WpUowOeHO/xHYkHCvd8BouFPhI5lLmmcM9nnh7vUQFyCnYdFiQXwV+M/SQ0LDrRarNYPBmx5fYK48TkFGWsen4vOtEgZ7LXvHyAFZmy2t1xbgu2at3uj9CJBLmzat3rbn/WLj8S03Oe//19qY9tRy8S5AqdwRPo9dOKKUXvDWfHOL3CKNRwjmjNjv3+iQY5I8rfsR+PJ1Gd7Xd6heWs3XUokptZ4J9YkDMEIiUEABxubLil2tF+h1dYaFisMCVry6/8Gw1yJjP3hXco1HCOo30OC5aeU7rHv5EgV3A4BEnL3uqwBosKRguJjE3O2PSa/2NBrqSKnn2TSKQxFm5fVDBh1uZlN3x6JcLjSeTkzM27F25fdC/xuZ2VCgqVGRmYWJ7Z8kQ8IBDm/9+aURvB9zUBH9oeUGqlrP/0sReT526bNxRNIHxkW7AVCwAAntoYB8ik+QUbketWfMFCmbFJMfEFJcNDDWfs2+b9FBKEG7cFPhbkikBY/MLc93cLRqGxuDHxa54IfCTIFUFyUencX6TvFoyfuGELNpEgV3A4BJlbm7sFixWs3YRNJMidGEFBif01AgAAOARPjI7LgyOgglR03JrH7a8RAADgxuYWw/HwwYtMCQ2P4KQ/AMCdgnGi738Q20iQO1F3aoQAAEAENwPelQ9ykdzMtQDYCxa1sh9nXQnYUT8NH0AYTH4KgUgNwToQ5BqNHhlDoYZzkDCWIAPrMJBnwliCDITB5AuxDgJ5hsHkCxE6g5eAdRDIM3QGLwGh0aP4WAeBPEOjR/IRKo3FxToI5Bkqjc1FyBQGG+sgkGfIFAYbIZIWjxuAghORRGMgeMLKmqxrJSMQKDTEPqExFPxwCIEI79AvM4jVajZhHQLyjM1qNiEWs0GHdRDIM2azQYeYjME1zTfknMmoUyGzBtUk1kEgz8waVJOIXjclxzoI5Bm9blKO6DSKZbX2yL1MpxmXIhrVqATrIJBnNKpRCaJSSsVYB4E8o1JKxcjM1GA31kEgz8xMDXYjKqW012zSa7EOA7mm04wPG/TTYwgAAEwofryOdSDItck7U0H8VDB5dwO2cSB3xuVd9QDcKdhYkK9KBwFgn4cKAQAAuaz5ks1mtWIbCXJm1qCenhjraQTgTsFsVotp5Pb177CNBTkzcrvpvP313WecZYP1VcvpCUwalQB2vZSKWnsNNxSgowezhfdcGh78/zPOdwsmHaitWPPQbz7FJpL3mGEksD7f4WQxSzI8qgvKgtlsVqt0oLbC/v7uX5wNuin58FDTf7GJBTkz2Fd9wmIx6u3v5w0RkIgvHAt8JMiVQfGlb+a+R+bvvHjMoFeOBzYS5IxaKeufO0cHAAsmVgEAgP6eM19k5r64L3Cx3Hvlt7VYR8BEX8/ZLxZuWzRqStx5etl88VjJLBbjbF/X6bKF2xcVTKcdl/V1V30emFiQMz+2n/rYZFo83sbhuMSe1hNH/B8JcsZms1pvtp10WAOHBVPPyMS9nRV/928syJmu5m8+NOinxxztczryt/P60QMWi3HWf7EgRwx65XjXjaMHne13Okmz2WzQWi1mE4+/+hH/RIMcaa4v2zsx1uP0z10ux9b3tB4/NDkubkE/FuSIfLi1xtE3w7ncPgzRcrUMLuMRIC1X/+H2Z+12sRytWi7BE8ghUbysdejEghxpa/ryD0P91f92d5xHqxvJZc0XouPyn6DRI2N9jwYtNCq9cbHp8l9e9eRYj58Pa6w5sstqtViWHgtyxDirVjbVHNnl6fEeL+Bm0E+PadTywTg4cymq6i4c3DYh76739HivVtxTTt5qxyF4IidaBKfrQ0Frw+f7+nvOlntzjtdLJI4Nt1bTGbzE8IgkkbfnQv/X21n5aVtj+bvenrekNS2lkrpKVlRKHpynamkG+6pPNFYf2rmUc5e8COlQ/+UTUbys9XCuKu/IJPVVV87/8dmlnu/DqrE222D/5ZOR3Iy1sGiekUnqq2rOvfu0L234tMyvzWYxS8QXjrEik1fBj0fXBvsun/TlyrJDYV1mm22w79LxEAY3gRWRlO17eyuPuLOyrKH60A402kJtIW2ZpK4Sh0MInBj4lX+u1obyd9say1EbI4Pqyudjw62X1aqRgVhBwaZ7fR58o1Grqvv+4Lb+njOoDrdAfal65eStDulAbWV4ZHJ2yD06eeaotPlSzdl9mybkXVfRbhv1ggEAgEGvVNy6ee5LPIFEjeJlrfdHH8Gqvemr9xsvf/SycVY97Y/2/VIwO7ms+eLYcNsPYSxBBo0eEePPvrA2NtJRW/vdn0oH++aP1EXboiUV/SUtu/RtUf6O/QTiypqfcdagmmq/9vX74s6KTwLRX8AKBgAAZEpYRObq7e+liZ57K5D9+kt3y/HDnTeOHjCb9JpA9RnQgtnRGbzEtOzSPSlZzyy7FW2tVoult+PUxz1tJ4/otRMBX4QTk4LZUWgsrjBz8+6k9JJXaSFsHpZZ3NGo5EP9PWfKxV2ny4yzasweJMO0YHPFJxVuFQg3buMnrPPpXhvahvprvpWILx6TSeoqsc4CQBAVzI5EZrDjEjdsiREUlETH5z+Ox5PIgezfbNJrR25fOy+T1FdJB2orHI1vx1LQFWwhTkxOESda9GAEN6OAHZWaR6aEhqPZvkGvnJhU9F4fl3fVK0baryiCfAqMoC/YQiGhXAGTJcgIZfKFdAY3IYQexafQWFwyJYxNJNEYeAKZap8p3Go1mywmg85o1M4YDapJvW5KrtUopFrVqGRGKe2dmZJ06zTjy2r6wf8BoQjymMu3iAUAAAAASUVORK5CYII=",V3="/assets/SHOCKWAVE-style7.png",P3="/assets/SHOCKWAVE-style6.png",M3="/assets/SHOCKWAVE-style4.png",L3="/assets/SHOCKWAVE-style5.png",U3="/assets/SHOCKWAVE-style10.png",z3="/assets/SHOCKWAVE-style8.png",B3="/assets/SHOCKWAVE-style9.png",H3="/assets/SHOCKWAVE-style17.png",wa="/assets/SHOCKWAVE-style.mp4",q3=V.lazy(()=>ce(()=>import("./Chatbot-DMEXgYk7.js"),[])),F3=V.lazy(()=>ce(()=>import("./LoginPage-BR7HJVBP.js"),[])),G3=V.lazy(()=>ce(()=>import("./AdminDashboard-DFKLOzg3.js"),[])),K3=V.lazy(()=>ce(()=>import("./RewardMap-BrF9Rqhf.js"),__vite__mapDeps([0,1]))),Fp=wa,Rc="https://shockwave.live",gb=`${Rc}/shockwave-logo.png`,ut={home:"/",about:"/about",services:"/services",portfolio:"/portfolio",gallery:"/wall-of-fame",blog:"/blog",shop:"/shop",account:"/account",cart:"/cart",checkout:"/checkout",pages:"/pages"},yb={home:{title:"SHOCKWAVE Systems | Digital Growth & AI-Driven Marketing in the Garden Route",description:"SHOCKWAVE Systems helps Garden Route businesses grow with strategic marketing, identity engineering, and business architecture services."},about:{title:"About SHOCKWAVE Systems | Team, Mission, and Approach",description:"Meet the SHOCKWAVE team and learn how we build high-performance growth systems for businesses in South Africa."},services:{title:"Services | Strategic Marketing, Business Architecture, Identity Engineering",description:"Explore SHOCKWAVE services: strategic marketing, business architecture, identity engineering, and execution support to scale your business."},portfolio:{title:"Portfolio | SHOCKWAVE Systems Projects and Results",description:"View SHOCKWAVE portfolio work across creative campaigns, content, and digital execution projects."},gallery:{title:"Wall of Fame | SHOCKWAVE Systems Gallery",description:"Browse the SHOCKWAVE Wall of Fame gallery featuring event captures, creative work, and client moments."},blog:{title:"Blog | SHOCKWAVE Systems Insights",description:"Read SHOCKWAVE insights on digital strategy, branding, business systems, and performance-focused marketing."},shop:{title:"Shop | SHOCKWAVE Systems Offers",description:"Review SHOCKWAVE offers and packages for growth, branding, and digital execution."},account:{title:"Account | SHOCKWAVE Systems",description:"Manage your SHOCKWAVE account, loyalty points, and rewards.",noindex:!0},cart:{title:"Cart | SHOCKWAVE Systems",description:"Review your selected SHOCKWAVE services and offers before checkout.",noindex:!0},checkout:{title:"Checkout | SHOCKWAVE Systems",description:"Secure checkout for SHOCKWAVE services and offers.",noindex:!0},pages:{title:"Pages | SHOCKWAVE Systems",description:"Explore SHOCKWAVE Systems pages."}},Cw=[{question:"How quickly can we start seeing leads from strategic marketing?",answer:"Most campaigns start generating measurable lead flow in 30 to 90 days, depending on your market, offer strength, and budget."},{question:"What deliverables are included in business architecture projects?",answer:"You receive a diagnostics report, growth roadmap, process recommendations, and implementation priorities with owner-level clarity."},{question:"What is included in identity engineering?",answer:"Identity engineering includes positioning, messaging foundations, and a visual direction that aligns with your market and conversion goals."},{question:"Do you work with businesses outside Mossel Bay?",answer:"Yes. We support clients across the Garden Route and can run strategy and execution remotely when needed."},{question:"Can we hire SHOCKWAVE for strategy only?",answer:"Yes. You can engage us for strategy only, then execute in-house, or retain us for both strategy and implementation."},{question:"How do we choose the right service lane first?",answer:"Start with the lane that removes your largest growth bottleneck first: lead flow, operational structure, or brand clarity."}],Y3={"@context":"https://schema.org","@type":["Organization","ProfessionalService"],name:"SHOCKWAVE Systems",url:Rc,logo:`${Rc}/shockwave-logo.png`,email:"rualdo@shockwave.live",telephone:"+27 62 107 2795",areaServed:["Mossel Bay","George","Knysna","Plettenberg Bay","Hartenbos","Garden Route","South Africa"],address:{"@type":"PostalAddress",addressLocality:"Mossel Bay",addressCountry:"ZA"},sameAs:["https://www.instagram.com/shockwave_s/","https://www.facebook.com/p/SHOCKWAVE-61574788783029/"]},Q3=[{name:"Strategic Marketing",description:"Market positioning, acquisition strategy, and campaign execution focused on measurable growth."},{name:"Business Architecture",description:"Operational diagnostics and business system design to improve performance and scalability."},{name:"Identity Engineering",description:"Brand identity and messaging frameworks designed for trust, authority, and conversion."}],W3=(r="/")=>{const e=r.length>1?r.replace(/\/+$/,""):r,i=Object.entries(ut).find(([,o])=>o===e);return i?i[0]:"home"},Qn=(r,e,n)=>{if(!n)return;let i=document.head.querySelector(`meta[${r}="${e}"]`);i||(i=document.createElement("meta"),i.setAttribute(r,e),document.head.appendChild(i)),i.setAttribute("content",n)},X3=r=>{let e=document.head.querySelector('link[rel="canonical"]');e||(e=document.createElement("link"),e.setAttribute("rel","canonical"),document.head.appendChild(e)),e.setAttribute("href",r)},$3=()=>({"@context":"https://schema.org","@type":"ItemList",itemListElement:Q3.map((r,e)=>({"@type":"ListItem",position:e+1,item:{"@type":"Service",name:r.name,description:r.description,provider:{"@type":"ProfessionalService",name:"SHOCKWAVE Systems",url:Rc},areaServed:"Garden Route"}}))}),J3=(r=[])=>({"@context":"https://schema.org","@type":"FAQPage",mainEntity:r.map(e=>({"@type":"Question",name:e.question,acceptedAnswer:{"@type":"Answer",text:e.answer}}))}),Z3=r=>{V.useEffect(()=>{const e=yb[r]||yb.home,n=ut[r]||"/",i=`${Rc}${n}`;document.title=e.title,Qn("name","description",e.description),Qn("name","robots",e.noindex?"noindex, nofollow":"index, follow"),Qn("property","og:type","website"),Qn("property","og:site_name","SHOCKWAVE Systems"),Qn("property","og:title",e.title),Qn("property","og:description",e.description),Qn("property","og:url",i),Qn("property","og:image",gb),Qn("name","twitter:card","summary_large_image"),Qn("name","twitter:title",e.title),Qn("name","twitter:description",e.description),Qn("name","twitter:image",gb),X3(i);const o=[Y3];r==="services"&&(o.push($3()),o.push(J3(Cw)));let c=document.head.querySelector("#shockwave-schema");c||(c=document.createElement("script"),c.setAttribute("type","application/ld+json"),c.setAttribute("id","shockwave-schema"),document.head.appendChild(c)),c.textContent=JSON.stringify(o.length===1?o[0]:o)},[r])},gd=()=>h.jsx("style",{children:`
    /* 1. Base Settings - RESTORED TO NORMAL (White Text) */
    body {
        font-family: 'Inter', sans-serif;
        background-color: #111111;
        color: #ffffff; /* Body text is White again */
        -webkit-font-smoothing: antialiased;
    }
   .yoco-frame-container, 
div[style*="z-index: 2147483647"] {
    z-index: 2147483647 !important;
    position: fixed !important;
}

/* Prevent Cart Items from fighting back */
.glass-card {
    /* Ensure these don't accidentally have a high z-index */
    z-index: 1; 
}
        
    /* 2. Color Utilities */
    .text-custom-gold { color: #C9A227 !important; }
    .bg-custom-gold { background-color: #C9A227; }
    .border-custom-gold { border-color: #C9A227; }
    .text-custom-blue { color: #052444 !important; }
    .border-custom-blue { border-color: transparent; }
    
    .bg-custom-dark { background-color: #111111; }
    .bg-custom-gray { background-color: #1D1D1D; }
    .bg-custom-card { background-color: #222222; }

    /* Ensure specific white text classes remain white */
    .text-white { color: #ffffff !important; }

    /* 3. The Premium Glass Card */
    .glass-card {
      background: linear-gradient(145deg, rgba(26, 26, 26, 0.72), rgba(36, 36, 36, 0.62));
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: none;
      box-shadow: 0 10px 35px rgba(0, 0, 0, 0.55);
      transition: all 0.4s ease;
    }
    .glass-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 0 26px rgba(201, 162, 39, 0.25), 0 0 24px rgba(255, 255, 255, 0.16);
    }

    /* 4. Header & Nav */
    header { position: absolute; top: 0; left: 0; width: 100%; background: transparent; z-index: 40 }
    .nav-link {
        letter-spacing: 0.05em; font-size: 0.95rem; font-weight: 700; text-transform: uppercase;
        color: #ffffff; /* Links are White */
        opacity: 0.9; transition: all 0.3s ease;
    }
    .nav-link:hover, .nav-link.active { opacity: 1; color: #C9A227; }

    /* 5. Utility & Animations */
    .hero-bg {
      background-size: cover;
      background-position: center;
      position: relative;
      background-image:
        radial-gradient(1200px 600px at 10% 0%, rgba(255, 255, 255, 0.11), transparent 60%),
        radial-gradient(900px 500px at 90% 20%, rgba(255, 255, 255, 0.07), transparent 65%);
    }
    .hero-smoke-video {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      z-index: 5;
      opacity: 1;
      filter: none;
      mix-blend-mode: normal;
      object-fit: cover;
      object-position: center center;
      pointer-events: none;
    }
    .thin-header-video {
      width: 100% !important;
      height: 100% !important;
      transform: scale(1.1) !important;
      transform-origin: center center;
      object-position: center 38% !important;
    }
    .page-hero {
      position: relative;
      width: 100%;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: clamp(340px, 48vh, 560px);
    }
    .cta-video-container {
      position: relative;
      overflow: hidden;
      min-height: clamp(340px, 48vh, 560px);
      display: flex;
      align-items: center;
    }
    .cta-video-fill {
      width: 100% !important;
      height: 100% !important;
      object-fit: cover !important;
      object-position: center 40% !important;
      transform: scale(1.1);
      transform-origin: center center;
    }
    .cta-video-bg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; z-index: 1; filter: none; mix-blend-mode: normal; object-position: bottom; }
    .cta-content { position: relative; z-index: 20; }

    @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    .animate-fade-in { animation: fade-in 0.5s ease-out forwards; }

    @keyframes graph-zero-zoom { 0% { opacity: 0; transform: scale(0.7); } 30% { opacity: 1; transform: scale(1.05); } 100% { opacity: 0; transform: scale(1.25); } }
    @keyframes graph-zero-out { 0% { opacity: 0; transform: scale(0.7); } 18% { opacity: 1; transform: scale(1); } 36% { opacity: 1; transform: scale(1.05); } 48% { opacity: 0; transform: scale(1.2); } 100% { opacity: 0; transform: scale(1.2); } }
    @keyframes graph-line-draw { 0% { stroke-dashoffset: 360; opacity: 0; } 6% { opacity: 1; } 52% { stroke-dashoffset: 0; opacity: 1; } 60% { stroke-dashoffset: 0; opacity: 0; } 100% { stroke-dashoffset: 0; opacity: 0; } }
    @keyframes graph-layer-fade { 0% { opacity: 1; } 56% { opacity: 1; } 64% { opacity: 0; } 100% { opacity: 0; } }
    @keyframes graph-hero-in { 0% { opacity: 0; transform: scale(0.7); } 60% { opacity: 0; transform: scale(0.7); } 70% { opacity: 1; transform: scale(1.12); } 100% { opacity: 1; transform: scale(1.12); } }
    @keyframes graph-dot-in { 0% { opacity: 0; } 100% { opacity: 1; } }

    .client-graph-stage { position: relative; min-height: 180px; }
    .client-graph-stage .graph-line,
    .client-graph-stage .graph-dot,
    .client-graph-stage .graph-layer { opacity: 0; }
    .client-graph-stage.is-visible .graph-line { animation: graph-line-draw 6s ease infinite; }
    .client-graph-stage.is-visible .graph-layer { animation: graph-layer-fade 6s ease infinite; }
    .client-graph-stage.is-visible .graph-dot { animation: graph-dot-in 6s ease infinite; }
    .client-graph-stage.is-visible .graph-label-final { animation: graph-hero-in 6s ease infinite; }
    
    @keyframes marquee { 0% { transform: translateX(0%); } 100% { transform: translateX(-100%); } }
    .animate-marquee { display: inline-block; animation: marquee 60s linear infinite; white-space: nowrap; padding-left: 100%; }
    .marquee-container { overflow: hidden; white-space: nowrap; }
    .marquee-content > * { display: inline-block; padding-right: 3rem; }

    /* 8. Portfolio Duo Preview */
    .gallery-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      padding: 10px 14px;
      border-radius: 999px;
      border: none;
      background: linear-gradient(135deg, rgba(20, 20, 20, 0.96), rgba(32, 32, 32, 0.72));
      position: relative;
      overflow: hidden;
    }
    .gallery-label {
      text-transform: uppercase;
      letter-spacing: 0.35em;
      font-size: 0.65rem;
      color: #d3d3d3;
      font-weight: 700;
      width: 150px;
      text-align: center;
      white-space: nowrap;
    }
    .gallery-button {
      background: linear-gradient(135deg, #E0C15B, #B58B24);
      color: #111111;
      font-weight: 800;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      border-radius: 999px;
      padding: 12px 20px;
      width: clamp(180px, 30vw, 280px);
      transition: width 0.4s ease, transform 0.4s ease, box-shadow 0.4s ease;
      box-shadow: 0 10px 30px rgba(201, 162, 39, 0.2);
    }
    .gallery-bar:hover .gallery-button {
      width: calc(100% - 320px);
      transform: translateY(-4px);
      box-shadow: 0 12px 35px rgba(201, 162, 39, 0.35);
    }
    .portfolio-panel {
      position: relative;
      min-height: 360px;
      border-radius: 24px;
      overflow: hidden;
      border: none;
      background: linear-gradient(180deg, #111111, #1b1b1b);
    }
    .portfolio-panel-overlay {
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.8));
      z-index: 2;
    }
    .portfolio-panel-content {
      position: absolute;
      inset: 0;
      z-index: 3;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      padding: 2rem;
      gap: 0.75rem;
    }
    .panel-cta {
      background: linear-gradient(135deg, #E0C15B, #B58B24);
      color: #111111;
      font-weight: 800;
      text-transform: uppercase;
      letter-spacing: 0.2em;
      padding: 10px 18px;
      border-radius: 999px;
      transition: transform 0.4s ease, box-shadow 0.4s ease;
      align-self: flex-start;
    }
    .portfolio-panel:hover .panel-cta {
      transform: translateY(-6px);
      box-shadow: 0 12px 28px rgba(201, 162, 39, 0.3);
    }
    .portfolio-folder {
      margin-top: -14px;
      padding: 32px 0 8px;
      border: none;
      border-top: none;
      border-radius: 0 0 24px 24px;
      background: #121212;
      position: relative;
      overflow: visible;
    }
    .portfolio-row {
      margin-bottom: 2.5rem;
      position: relative;
      z-index: 2;
    }
    .portfolio-row-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      padding: 0 16px 18px;
    }
    .portfolio-row-title {
      font-size: 1.75rem;
      font-weight: 800;
      color: #ffffff;
      border-left: 4px solid #C9A227;
      padding-left: 1rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
    }
    .portfolio-row-track {
      overflow-y: visible;
      padding-top: 10px;
      position: relative;
      z-index: 2;
    }
    .portfolio-row-actions {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
    }
    .portfolio-nav {
      height: 40px;
      padding: 0 16px;
      border-radius: 999px;
      border: 1px solid #2b2b2b;
      color: #e6e6e6;
      font-size: 0.7rem;
      font-weight: 700;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      transition: all 0.3s ease;
      background: transparent;
    }
    .portfolio-nav:hover {
      border-color: #C9A227;
      color: #C9A227;
      transform: translateY(-1px);
    }
    .portfolio-row-link {
      color: #C9A227;
      font-size: 0.75rem;
      font-weight: 700;
      letter-spacing: 0.25em;
      text-transform: uppercase;
      transition: color 0.3s ease;
    }
    .portfolio-row-link:hover {
      color: #ffffff;
    }
    @media (max-width: 768px) {
      .portfolio-row-head {
        align-items: flex-start;
        flex-direction: column;
      }
      .portfolio-row-actions {
        width: 100%;
      }
    }
    .portfolio-folder::before {
      content: '';
      position: absolute;
      top: -20px;
      left: 36px;
      width: 170px;
      height: 20px;
      border: none;
      border-bottom: none;
      border-radius: 16px 16px 0 0;
      background: #121212;
      z-index: 1;
    }
    .photo-preview,
    .video-preview {
      position: absolute;
      inset: 0;
      overflow: hidden;
      z-index: 1;
    }
    .photo-slide {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0;
      filter: saturate(1.1);
      animation: photo-slide 12s ease-in-out infinite;
      will-change: opacity, transform;
    }
    .photo-slide--b { animation-delay: 4s; }
    .photo-slide--c { animation-delay: 8s; }
    @keyframes photo-slide {
      0% { opacity: 1; transform: scale(1.06); }
      28% { opacity: 1; transform: scale(1.13); }
      33% { opacity: 0; transform: scale(1.13); }
      100% { opacity: 0; transform: scale(1.13); }
    }
    .video-preview-media {
      width: 115%;
      height: 100%;
      object-fit: cover;
      animation: video-pan 14s ease-in-out infinite;
      filter: contrast(1.05);
    }
    @keyframes video-pan {
      0% { transform: scale(1.05) translateX(0%); }
      50% { transform: scale(1.12) translateX(-6%); }
      100% { transform: scale(1.05) translateX(0%); }
    }
    @media (max-width: 768px) {
      .gallery-bar {
        flex-direction: column;
        gap: 10px;
        border-radius: 24px;
      }
      .gallery-label {
        width: auto;
      }
      .gallery-button {
        width: 100%;
      }
      .gallery-bar:hover .gallery-button {
        width: 100%;
      }
      .portfolio-panel {
        min-height: 320px;
      }
    }

    /* 6. 3D Cube */
    .cube-scene { width: 10px; height: 10px; perspective: 2400px; margin: 0 auto; }
    .cube { width: 100%; height: 100%; position: static; transform-style: preserve-3d; animation: rotateCube 15s infinite linear; }
    .cube-face {
      position: absolute; width: 50px; height: 50px;
      border: 4px solid #C9A227; /* Yellow Borders */
      background: rgba(201, 162, 39, 0.05);
      box-shadow: 0 0 20px rgba(201, 162, 39, 0.1) inset, 0 0 10px rgba(201, 162, 39, 0.3);
      display: flex; align-items: right;
    }
    .cube-face--front  { transform: rotateY(  0deg) translateZ(75px); }
    .cube-face--back   { transform: rotateY(180deg) translateZ(75px); }
    .cube-face--right  { transform: rotateY( 90deg) translateZ(75px); }
    .cube-face--left   { transform: rotateY(-90deg) translateZ(75px); }
    .cube-face--top    { transform: rotateX( 90deg) translateZ(75px); }
    .cube-face--bottom { transform: rotateX(-90deg) translateZ(75px); }
    @keyframes rotateCube { 0% { transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg); } 100% { transform: rotateX(360deg) rotateY(360deg) rotateZ(360deg); } }

    .scrollbar-hide::-webkit-scrollbar { display: none; }
    .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }

    /* 7. Underline Animations (For "Read More" & Links) */
    .link-underline { position: relative; display: inline-block; }
    .link-underline::after {
        content: ''; position: absolute; width: 0; height: 2px; bottom: -4px; left: 0;
        background-color: #C9A227; /* Yellow Underline */
        transition: width 0.3s ease-out;
    }
    .group:hover .link-underline::after, .link-underline:hover::after { width: 100%; }

    /* --- 8. THE SCRIBBLE ANIMATION (For "327%") --- */
   .scroll-underline { 
        position: relative; 
        display: inline-block; 
        transition: transform 0.3s ease; 
    }
    
    .scroll-underline::after {
        content: ''; 
        position: absolute; 
        width: 0; 
        height: 15px; /* Height to fit the double arches */
        bottom: -12px; 
        left: 0;
        
        /* DOUBLE ARCH SVG (Yellow Stroke %23FDBE33) */
        background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 25' preserveAspectRatio='none'%3E%3Cpath d='M0 10 Q 50 20 100 10' stroke='%23FDBE33' stroke-width='3' fill='none' stroke-linecap='round' /%3E%3Cpath d='M5 18 Q 50 28 95 18' stroke='%23FDBE33' stroke-width='3' fill='none' stroke-linecap='round' /%3E%3C/svg%3E");
        
        background-repeat: no-repeat; 
        background-size: 100% 100%; 
        background-position: center;
        
        opacity: 0; 
        transition: width 1.5s cubic-bezier(0.22, 0.61, 0.36, 1), opacity 0.5s ease; 
        z-index: 1; 
    }
    
    .scroll-underline.in-view::after { width: 100%; opacity: 1; }
  `}),eD={lat:-34.18295,lng:22.14662},Jg=(r="")=>{const e=r.trim().split(" ").filter(Boolean);return e.length===0?{firstName:"",lastName:""}:e.length===1?{firstName:e[0],lastName:""}:{firstName:e[0],lastName:e.slice(1).join(" ")}},Iw=({onComplete:r})=>{const[e,n]=V.useState(!1),[i,o]=V.useState(""),[c,d]=V.useState({firstName:"",lastName:"",email:"",password:""}),[p,g]=V.useState(!1),y=async()=>{if(!p){o("Please accept the terms to continue.");return}n(!0),o("");try{const E=new Hs,T=await NN(hs,E),{firstName:D,lastName:P}=Jg(T.user.displayName||"");r({firstName:D,lastName:P,email:T.user.email||"",uid:T.user.uid,provider:"google"})}catch(E){o(E.message||"Sign-in failed. Try again or use manual entry.")}finally{n(!1)}},x=E=>{if(E.preventDefault(),!p){o("Please accept the terms to continue.");return}if(!c.firstName||!c.lastName||!c.email||!c.password){o("Please fill in first name, surname, email, and password.");return}(async()=>{n(!0),o("");try{let D;try{D=await rN(hs,c.email,c.password)}catch(z){if(z?.code==="auth/user-not-found")D=await rE(hs,c.email,c.password);else throw z}const P=D.user;r({firstName:c.firstName,lastName:c.lastName,email:P.email||c.email,uid:P.uid,provider:"password"})}catch(D){const P=D?.message||"Could not sign in. Please try again.";o(P)}finally{n(!1)}})()};return h.jsxs("div",{className:"glass-card border border-custom-gold/30 rounded-2xl p-6 space-y-4",children:[h.jsx("h3",{className:"text-xl font-bold text-white",children:"Sign in to unlock"}),h.jsx("button",{onClick:y,disabled:e||!p,className:"w-full bg-custom-gold text-black font-bold py-3 rounded-lg hover:bg-white transition duration-300 disabled:opacity-60",children:e?"Signing in...":"Continue with Google"}),h.jsx("div",{className:"text-gray-400 text-sm text-center",children:"or add your details"}),h.jsxs("form",{onSubmit:x,className:"space-y-3",children:[h.jsx("input",{value:c.firstName,onChange:E=>d({...c,firstName:E.target.value}),placeholder:"First name",className:"w-full bg-gray-800 text-white px-3 py-2 rounded"}),h.jsx("input",{value:c.lastName,onChange:E=>d({...c,lastName:E.target.value}),placeholder:"Surname",className:"w-full bg-gray-800 text-white px-3 py-2 rounded"}),h.jsx("input",{type:"email",value:c.email,onChange:E=>d({...c,email:E.target.value}),placeholder:"Email",className:"w-full bg-gray-800 text-white px-3 py-2 rounded"}),h.jsx("input",{type:"password",value:c.password,onChange:E=>d({...c,password:E.target.value}),placeholder:"Password (min 6 characters)",className:"w-full bg-gray-800 text-white px-3 py-2 rounded"}),h.jsxs("label",{className:"flex items-start gap-2 text-sm text-gray-300",children:[h.jsx("input",{type:"checkbox",className:"mt-1 accent-custom-gold",checked:p,onChange:E=>g(E.target.checked)}),h.jsx("span",{children:"I agree to the Terms & Conditions and Privacy Policy and consent to receive SHOCKWAVE updates, service announcements, and offers via email. You can opt out anytime."})]}),h.jsx("button",{type:"submit",disabled:!p,className:"w-full border border-custom-gold text-custom-gold font-bold py-2 rounded hover:bg-custom-gold hover:text-black transition duration-300",children:"Continue"})]}),i&&h.jsx("p",{className:"text-red-400 text-sm",children:i})]})},tD=()=>{const[r]=$g(),e=Ci(),n=r.get("access")==="true",[i,o]=V.useState(null),[c,d]=V.useState(!1),[p,g]=V.useState(""),[y,x]=V.useState(!1);return V.useEffect(()=>{const E=iE(hs,T=>{if(T){const{firstName:D,lastName:P}=Jg(T.displayName||"");o({firstName:D,lastName:P,email:T.email||"",uid:T.uid,provider:"google"})}x(!0)});return()=>E()},[]),V.useEffect(()=>{(async()=>{if(!(!i||c))try{if(Ye)await Gc(Xs(Ye,"rewardClaims"),{firstName:i.firstName,lastName:i.lastName,email:i.email,uid:i.uid,provider:i.provider,createdAt:Vt()});else{const T=JSON.parse(localStorage.getItem("rewardClaims")||"[]");T.push({...i,createdAt:new Date().toISOString()}),localStorage.setItem("rewardClaims",JSON.stringify(T))}d(!0)}catch(T){g(T.message||"Unable to store claim. Please try again.")}})()},[i,c]),n?h.jsxs("div",{className:"bg-custom-dark min-h-screen flex flex-col",children:[h.jsx(gd,{}),h.jsx("main",{className:"flex-grow pt-28 pb-16 px-4",children:h.jsxs("div",{className:"container mx-auto max-w-5xl space-y-10",children:[h.jsx("div",{className:"glass-card border border-custom-gold/40 rounded-3xl p-10 md:p-12",children:h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-custom-gold text-sm uppercase tracking-[0.3em] mb-3",children:"VIP REWARD"}),h.jsxs("h1",{className:"text-4xl md:text-5xl font-extrabold text-white leading-tight",children:["Claim your free photoshoot at ",h.jsx("span",{className:"text-custom-gold",children:"The Vintcent"})]}),h.jsx("p",{className:"text-gray-300 mt-4",children:"Sign in to unlock your reward and get guided back to Cafe Vintcent."})]}),h.jsx("div",{className:"w-full md:w-72",children:i?h.jsxs("div",{className:"glass-card border border-green-400/40 rounded-2xl p-6 text-center",children:[h.jsx("p",{className:"text-green-400 font-bold text-lg mb-2",children:"Signed in"}),h.jsxs("p",{className:"text-white font-semibold",children:[i.firstName," ",i.lastName]}),h.jsx("p",{className:"text-gray-400 text-sm mt-1",children:i.email}),h.jsxs("p",{className:"text-gray-500 text-xs mt-2",children:["UID: ",i.uid]})]}):h.jsx(Iw,{onComplete:o})})]})}),i&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"glass-card border border-custom-gold/25 rounded-3xl p-10 space-y-4",children:[h.jsx("h2",{className:"text-3xl font-bold text-white",children:"Youve successfully claimed your free photoshoot at The Vintcent!"}),h.jsx("p",{className:"text-gray-300",children:"Show this confirmation to our crew on site. Your claim has been recorded."}),p&&h.jsx("p",{className:"text-red-400 text-sm",children:p})]}),h.jsxs("div",{className:"glass-card border border-custom-gold/25 rounded-3xl p-10 space-y-6",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("svg",{className:"w-10 h-10 text-custom-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm uppercase tracking-[0.25em] text-custom-gold",children:"Guided route"}),h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Get back to Cafe Vintcent"}),h.jsx("p",{className:"text-gray-300 text-sm",children:"Live GPS, clear directions, and a highlighted path to keep you on track."})]})]}),h.jsx(V.Suspense,{fallback:h.jsx("div",{className:"text-sm text-gray-400",children:"Loading map..."}),children:h.jsx(K3,{destination:eD})}),h.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[h.jsx("button",{onClick:()=>e("/"),className:"bg-custom-gold text-black font-bold px-6 py-3 rounded-lg hover:bg-white transition duration-300",children:"Explore More"}),h.jsx("span",{className:"text-gray-400 text-sm",children:"Stay and explore our latest work, services, and shop while youre here."})]})]})]})]})})]}):null},vb=()=>h.jsx("div",{className:"flex justify-end",children:h.jsxs($n,{to:"/",className:"inline-flex items-center gap-2 text-custom-gold font-semibold hover:text-white transition",children:[h.jsx("span",{"aria-hidden":"true",children:""}),h.jsx("span",{children:"Back to home"})]})}),nD=()=>{const[r]=$g(),e=r.get("code"),{user:n}=Js(),[i,o]=V.useState(null),[c,d]=V.useState(()=>dc()),[p,g]=V.useState(null),[y,x]=V.useState("idle"),[E,T]=V.useState(!1),D="pending_reward_code",P="rewards_session_user",z=V.useMemo(()=>n?.uid?{uid:n.uid,email:n.email||"",provider:"google",...Jg(n.displayName||"")}:null,[n]),M=i||z;V.useEffect(()=>{try{const A=localStorage.getItem(P);if(A){const k=JSON.parse(A);k?.uid&&o(k)}}catch{}const N=dc();d(N),T(!0)},[]),V.useEffect(()=>{(async()=>{if(!M?.uid)return;await ud(M.uid,M.email||"");const A=await Yc(M.uid);A&&(d(A),fc(A))})()},[M?.uid,M?.email]);const X=N=>{o(N);try{localStorage.setItem(P,JSON.stringify(N))}catch{}},Y=(N,A="qr")=>{d(k=>{const I=kn(typeof N=="function"?N(k):N);return fc(I),M?.uid&&(_a(M.uid,M.email||"",I,A),fs({type:"rewards:update",uid:M.uid,email:M.email||"",reason:A,collected:I.collectedStamps})),I})},K=V.useCallback((N,A="qr")=>N?N==="NEXTSTAMP"?(x("valid"),Y(C=>{const R=qg(C),De=R.collectedStamps.find(mt=>!(C.collectedStamps||[]).includes(mt));return g(De||null),R},A||"next_stamp"),"valid"):ha.some(C=>C.id===N)?(x("valid"),Y(C=>{const R=cd(C,N);return g(N),R},A),"valid"):(x("invalid"),g(null),"invalid"):(x("idle"),"idle"),[Y]);V.useEffect(()=>{if(!e)return;const N=e.toUpperCase();try{localStorage.setItem(D,N)}catch{}},[e]),V.useEffect(()=>{if(!E)return;if(!e){x("idle");return}const N=e.toUpperCase();K(N,"qr")},[e,E,K]),V.useEffect(()=>{if(!E)return;let N=null;try{N=localStorage.getItem(D)}catch{}if(N){K(N,"stored_qr");try{localStorage.removeItem(D)}catch{}}},[M?.uid,E,K]);const ie=c.collectedStamps.length,me=c.photoshootUnlocked||ie>=da,xe=p?ha.find(N=>N.id===p)?.displayName||p:"",j=()=>{const N=kn({...c,photoshootClaimed:!0,photoshootUnlocked:me});d(N),fc(N)};return V.useEffect(()=>{M?.uid&&(Y(N=>cd(N,"TIER1"),"signin_tier1"),ud(M.uid,M.email||""))},[M?.uid,M?.email]),M?.uid?h.jsxs("div",{className:"bg-custom-dark min-h-screen flex flex-col",children:[h.jsx(gd,{}),h.jsx("main",{className:"flex-grow pt-28 pb-16 px-4",children:h.jsxs("div",{className:"container mx-auto max-w-5xl space-y-8",children:[h.jsx(vb,{}),h.jsxs("div",{className:"glass-card border border-custom-gold/40 rounded-3xl p-10 md:p-12",children:[h.jsx("p",{className:"text-custom-gold text-sm uppercase tracking-[0.3em] mb-3",children:"QR Stamp Rewards"}),h.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-white leading-tight mb-4",children:"SHOCKWAVE QR Stamp Rewards"}),h.jsx("p",{className:"text-gray-300 max-w-3xl",children:"Scan all six unique codes around town to unlock a free photoshoot. Each valid scan fills one stamp slot below."}),y==="invalid"&&h.jsx("div",{className:"mt-4 text-red-400 font-semibold",children:"Invalid or expired QR code."}),y==="valid"&&p&&h.jsxs("div",{className:"mt-4 text-green-400 font-semibold",children:["Unlocked ",xe,"! (",ie," of ",da," stamps collected)"]})]}),h.jsxs("div",{className:"glass-card border border-custom-gold/25 rounded-3xl p-8 space-y-6",children:[h.jsxs("div",{className:"flex flex-wrap items-center gap-4 justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm uppercase tracking-[0.25em] text-custom-gold",children:"Progress"}),h.jsxs("h3",{className:"text-2xl font-bold text-white",children:["You've collected ",ie," of ",da," stamps"]})]}),h.jsx("div",{className:"text-gray-400 text-sm",children:"Re-scan the same QR to check status. Duplicates won't add extra stamps."})]}),h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4",children:ha.map(N=>{const A=c.collectedStamps.includes(N.id);return h.jsxs("div",{className:`rounded-xl p-4 border text-center transition ${A?"border-custom-gold bg-custom-gold/10 text-white":"border-gray-800 bg-black/30 text-gray-400"}`,children:[h.jsx("div",{className:"flex items-center justify-center mb-2",children:h.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-lg font-extrabold ${A?"bg-custom-gold text-black":"bg-gray-800 text-white"}`,children:ha.indexOf(N)+1})}),h.jsx("p",{className:"font-bold",children:N.displayName}),h.jsx("p",{className:"text-xs text-gray-400 mt-1",children:A?"Collected":"Pending"})]},N.id)})}),me?h.jsxs("div",{className:"rounded-2xl border border-green-500/40 bg-green-500/10 p-6 space-y-3",children:[h.jsx("p",{className:"text-green-400 text-sm uppercase tracking-[0.25em]",children:"Unlocked"}),h.jsx("h3",{className:"text-3xl font-bold text-white",children:"You've unlocked your free photoshoot!"}),h.jsx("p",{className:"text-gray-200",children:"Tap below for booking instructions and show this screen when you arrive."}),h.jsx("button",{onClick:j,className:"bg-custom-gold text-black font-bold px-6 py-3 rounded-lg hover:bg-white transition duration-300",children:"Claim / View Instructions"}),c.photoshootClaimed&&h.jsx("p",{className:"text-green-300 text-sm",children:"Marked as claimed on this device."})]}):h.jsx("div",{className:"rounded-2xl border border-gray-800 bg-black/40 p-6",children:h.jsx("p",{className:"text-gray-300",children:"Keep scanning QR codes or earn stamps through purchases to reach all six and unlock the shoot."})})]}),h.jsxs("div",{className:"glass-card border border-custom-gold/25 rounded-3xl p-8 space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("svg",{className:"w-8 h-8 text-custom-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.4",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm uppercase tracking-[0.25em] text-custom-gold",children:"Guided route"}),h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Get back to Cafe Vintcent"}),h.jsx("p",{className:"text-gray-300 text-sm",children:"Same address and directions as the QR page. Use the map to navigate straight to the venue."})]})]}),h.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[h.jsx("a",{className:"bg-custom-gold text-black font-bold px-5 py-3 rounded-lg hover:bg-white transition duration-300",href:"https://www.google.com/maps/dir/?api=1&destination=Cafe+Vintcent%2C+Mossel+Bay",target:"_blank",rel:"noopener noreferrer",children:"Open in Google Maps"}),h.jsx("span",{className:"text-gray-400 text-sm",children:"Shop 16, Prince Vintcent Building, Mossel Bay, 6500"})]})]})]})})]}):h.jsxs("div",{className:"bg-custom-dark min-h-screen flex flex-col",children:[h.jsx(gd,{}),h.jsx("main",{className:"flex-grow pt-28 pb-16 px-4",children:h.jsxs("div",{className:"container mx-auto max-w-4xl space-y-8",children:[h.jsx(vb,{}),h.jsxs("div",{className:"glass-card border border-custom-gold/40 rounded-3xl p-10 md:p-12 space-y-4",children:[h.jsx("p",{className:"text-custom-gold text-sm uppercase tracking-[0.3em] mb-3",children:"QR Stamp Rewards"}),h.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-white leading-tight",children:"Sign in to unlock rewards"}),h.jsx("p",{className:"text-gray-300",children:"Create or sign into your account to access the rewards tracker. Tier 1 is added automatically after you agree to terms and sign in. You also consent to receive SHOCKWAVE updates and offers by email (opt out anytime)."})]}),h.jsx(Iw,{onComplete:X})]})})]})},sD=()=>{const{codeId:r}=Sj(),e=Ci();return V.useEffect(()=>{if(!r)return;const n=r.toUpperCase();e(`/rewards?code=${encodeURIComponent(n)}`,{replace:!0})},[r,e]),null},rD=({isOpen:r,onClose:e,logoSrc:n})=>{const{role:i}=Js(),o=Ci(),c=d=>{o(d),e()};return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:`fixed inset-0 bg-black/50 z-40 transition-opacity duration-300 ${r?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:e}),h.jsx("div",{className:`fixed top-0 right-0 bottom-0 w-full md:w-96 lg:w-[450px] bg-custom-card p-8 md:p-12 shadow-lg z-50 transition-transform duration-300 ease-in-out ${r?"transform translate-x-0":"transform translate-x-full"}`,children:h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsxs("div",{className:"flex justify-between items-center mb-12",children:[h.jsx("a",{href:"#",children:h.jsx("img",{src:n,alt:"SHOCKWAVE Logo",className:"h-12 w-auto"})}),h.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white","aria-label":"Close menu",children:h.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),i==="admin"?h.jsxs("div",{className:"flex-grow overflow-y-auto animate-fade-in",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[h.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 animate-pulse"}),h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Admin Editor"})]}),h.jsx("p",{className:"text-gray-400 mb-8 text-sm",children:"Quick access to manage your site content. Select a module to edit."}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("button",{onClick:()=>c("/admin"),className:"w-full flex items-center justify-between p-4 bg-gray-800 rounded-lg hover:bg-gray-700 hover:border-l-4 hover:border-custom-gold transition-all group",children:[h.jsx("span",{className:"font-bold text-white group-hover:text-custom-gold",children:"Dashboard Overview"}),h.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]}),h.jsxs("button",{onClick:()=>c("/admin/shop"),className:"w-full flex items-center justify-between p-4 bg-gray-800 rounded-lg hover:bg-gray-700 hover:border-l-4 hover:border-custom-gold transition-all group",children:[h.jsxs("div",{className:"text-left",children:[h.jsx("span",{className:"block font-bold text-white group-hover:text-custom-gold",children:"Shop Products"}),h.jsx("span",{className:"text-xs text-gray-500",children:"Edit prices, images & descriptions"})]}),h.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})]}),h.jsxs("button",{onClick:()=>c("/admin/blog"),className:"w-full flex items-center justify-between p-4 bg-gray-800 rounded-lg hover:bg-gray-700 hover:border-l-4 hover:border-custom-gold transition-all group",children:[h.jsxs("div",{className:"text-left",children:[h.jsx("span",{className:"block font-bold text-white group-hover:text-custom-gold",children:"Blog Posts"}),h.jsx("span",{className:"text-xs text-gray-500",children:"Write articles & updates"})]}),h.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})]}),h.jsxs("button",{onClick:()=>c("/admin/portfolio"),className:"w-full flex items-center justify-between p-4 bg-gray-800 rounded-lg hover:bg-gray-700 hover:border-l-4 hover:border-custom-gold transition-all group",children:[h.jsxs("div",{className:"text-left",children:[h.jsx("span",{className:"block font-bold text-white group-hover:text-custom-gold",children:"Portfolio"}),h.jsx("span",{className:"text-xs text-gray-500",children:"Upload new project galleries"})]}),h.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})]})]}),h.jsx("div",{className:"mt-12 border-t border-gray-700 pt-6",children:h.jsxs("button",{onClick:()=>{hs.signOut(),e(),window.location.href="/"},className:"text-red-400 hover:text-red-300 font-bold text-sm flex items-center gap-2",children:[h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out Admin"]})})]}):h.jsxs("div",{className:"flex-grow overflow-y-auto animate-fade-in",children:[h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Do you have a project in mind?"}),h.jsxs("div",{className:"my-8",children:[h.jsx("h4",{className:"text-xl font-bold text-white mb-6",children:"Contact Us"}),h.jsxs("ul",{className:"space-y-4 text-gray-400",children:[h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"mt-1 mr-3 text-custom-gold",children:h.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),h.jsx("span",{children:"Mosselbay"})]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"mt-1 mr-3 text-custom-gold",children:h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),h.jsx("span",{children:"+27 62 107 2795"})]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"mt-1 mr-3 text-custom-gold",children:h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),h.jsx("span",{children:"rualdo@shockwave.live"})]})]})]}),h.jsxs("div",{className:"my-8",children:[h.jsx("h4",{className:"text-xl font-bold text-white mb-6",children:"Subscribe"}),h.jsx("p",{className:"text-gray-400 mb-4",children:"Join the tribe. Stay ahead. Create better."}),h.jsxs("form",{className:"flex",children:[h.jsx("input",{type:"email",placeholder:"example@gmail.com",className:"w-full px-4 py-3 rounded-l-md bg-gray-700 text-white border-0 focus:ring-2 focus:ring-custom-gold outline-none",required:!0}),h.jsx("button",{type:"submit",className:"bg-custom-gold text-black font-bold px-4 py-3 rounded-r-md hover:bg-[#d9bc66] transition duration-300",children:h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})})]})]})]}),h.jsx("div",{className:"mt-auto pt-8 border-t border-gray-700",children:h.jsxs("div",{className:"flex space-x-4",children:[h.jsx("a",{href:"https://www.facebook.com/profile.php?id=61574788783029",className:"text-gray-400 hover:text-custom-gold","aria-label":"Facebook",children:h.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:h.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})}),h.jsx("a",{href:"#",className:"text-gray-400 hover:text-custom-gold","aria-label":"Twitter",children:h.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:h.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.63 11.63 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})}),h.jsx("a",{href:"#",className:"text-gray-400 hover:text-custom-gold","aria-label":"LinkedIn",children:h.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:h.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})})})]})})]})})]})},iD=({navigate:r,currentPage:e,cartCount:n})=>{const[i,o]=V.useState(!1),[c,d]=V.useState(!1),{role:p,user:g}=Js(),y=Ci(),x=g?"ACCOUNT":"LOGIN",E=(P,z)=>{P.preventDefault(),z==="account"&&!g?y("/login"):r(z),o(!1)},T=P=>`nav-link ${e===P?"active":""}`,D=P=>`block text-white py-2 ${e===P?"text-custom-gold":""}`;return h.jsxs("header",{className:"absolute top-0 left-0 w-full z-100",children:[h.jsxs("nav",{className:"container mx-auto px-4 md:px-6 py-6 flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("a",{href:ut.home,className:"mr-12",onClick:P=>E(P,"home"),children:h.jsx("img",{src:dd,alt:"SHOCKWAVE Logo",className:"h-16 w-auto"})}),h.jsxs("div",{className:"hidden md:flex items-center space-x-10",children:[h.jsx("a",{href:ut.home,className:T("home"),onClick:P=>E(P,"home"),children:"HOME"}),h.jsx("a",{href:ut.about,className:T("about"),onClick:P=>E(P,"about"),children:"ABOUT"}),h.jsx("a",{href:ut.services,className:T("services"),onClick:P=>E(P,"services"),children:"SERVICES"}),h.jsx("a",{href:ut.portfolio,className:T("portfolio"),onClick:P=>E(P,"portfolio"),children:"PORTFOLIO"}),h.jsx("a",{href:ut.gallery,className:T("gallery"),onClick:P=>E(P,"gallery"),children:"WALL OF FAME"}),h.jsx("a",{href:ut.blog,className:T("blog"),onClick:P=>E(P,"blog"),children:"BLOG"}),h.jsx("a",{href:ut.shop,className:T("shop"),onClick:P=>E(P,"shop"),children:"SHOP"}),p==="admin"&&h.jsx($n,{to:"/admin",className:"nav-link",children:"ADMIN"})]})]}),h.jsxs("div",{className:"md:hidden flex items-center gap-4",children:[h.jsxs("button",{className:"relative text-white hover:text-custom-gold transition duration-300",onClick:()=>r("cart"),children:[h.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),n>0&&h.jsx("span",{className:"absolute -top-2 -right-2 bg-custom-gold text-black text-xs font-extrabold rounded-full px-2 py-0.5",children:n})]}),h.jsx("a",{href:ut.account,className:"text-white hover:text-custom-gold text-sm",onClick:P=>E(P,"account"),children:x}),h.jsx("button",{className:"text-white",onClick:()=>o(!i),children:h.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})]}),h.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[h.jsxs("button",{className:"relative text-white hover:text-custom-gold transition duration-300",onClick:()=>r("cart"),children:[h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),n>0&&h.jsx("span",{className:"absolute -top-2 -right-2 bg-custom-gold text-black text-xs font-extrabold rounded-full px-2 py-0.5",children:n})]}),h.jsx("a",{href:ut.account,className:T("account"),onClick:P=>E(P,"account"),children:x}),h.jsx("button",{className:"text-white hover:text-custom-gold transition duration-300",onClick:()=>d(!0),children:h.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})]}),i&&h.jsx("div",{className:"md:hidden absolute top-full left-0 right-0 p-6 bg-custom-dark shadow-xl border-t border-gray-800",children:h.jsxs("div",{className:"max-h-[70vh] overflow-y-auto space-y-4 pr-1",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"text-xs tracking-[0.18em] text-gray-400 uppercase",children:"Pages"}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("a",{href:ut.home,className:D("home"),onClick:P=>E(P,"home"),children:"HOME"}),h.jsx("a",{href:ut.about,className:D("about"),onClick:P=>E(P,"about"),children:"ABOUT"}),h.jsx("a",{href:ut.services,className:D("services"),onClick:P=>E(P,"services"),children:"SERVICES"}),h.jsx("a",{href:ut.portfolio,className:D("portfolio"),onClick:P=>E(P,"portfolio"),children:"PORTFOLIO"}),h.jsx("a",{href:ut.gallery,className:D("gallery"),onClick:P=>E(P,"gallery"),children:"WALL OF FAME"}),h.jsx("a",{href:ut.blog,className:D("blog"),onClick:P=>E(P,"blog"),children:"BLOG"}),h.jsx("a",{href:ut.shop,className:D("shop"),onClick:P=>E(P,"shop"),children:"SHOP"})]})]}),h.jsxs("div",{className:"border-t border-gray-800 pt-4 space-y-2",children:[h.jsx("p",{className:"text-xs tracking-[0.18em] text-gray-400 uppercase",children:"Account"}),h.jsxs("div",{className:"space-y-1",children:[h.jsxs("a",{href:ut.cart,className:D("cart"),onClick:P=>E(P,"cart"),children:["CART (",n,")"]}),p==="admin"&&h.jsx($n,{to:"/admin",className:"block text-white py-2 hover:text-custom-gold transition duration-300",children:"ADMIN"})]})]})]})})]}),h.jsx(rD,{isOpen:c,onClose:()=>d(!1),logoSrc:dd})]})},aD=()=>{const[r,e]=V.useState(""),[n,i]=V.useState(""),o=async c=>{c.preventDefault(),i("Subscribing..."),(await P4(r)).success?(i("Welcome to the tribe!"),e("")):i("Something went wrong.")};return h.jsx("footer",{id:"contact",className:"bg-custom-card pt-16 md:pt-20 pb-8 border-t border-gray-800",children:h.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 lg:gap-16 items-center text-center md:text-left",children:[h.jsxs("div",{className:"space-y-4 md:justify-self-start text-center md:text-center",children:[h.jsx("a",{href:"#",className:"flex justify-center text-3xl font-extrabold",children:h.jsx("img",{src:dd,alt:"SHOCKWAVE",className:"h-24 w-auto"})}),h.jsx("p",{className:"text-gray-400 max-w-sm leading-relaxed mx-auto",children:"We see every shift as a chance to adapt, improve, and guide progress. Agility isn't just a process - it's who we are."})]}),h.jsxs("div",{className:"space-y-4 md:justify-self-center",children:[h.jsx("h4",{className:"text-2xl font-bold text-white",children:"Contact Us"}),h.jsxs("ul",{className:"space-y-3 text-gray-400",children:[h.jsx("li",{children:"Mosselbay"}),h.jsx("li",{children:h.jsx("a",{href:"tel:+27621072795",className:"hover:text-custom-gold transition",children:"+27 62 107 2795"})}),h.jsx("li",{children:h.jsx("a",{href:"mailto:rualdo@shockwave.live",className:"hover:text-custom-gold transition",children:"rualdo@shockwave.live"})})]})]}),h.jsxs("div",{className:"space-y-4 md:justify-self-end",children:[h.jsx("h4",{className:"text-2xl font-bold text-white",children:"Subscribe"}),h.jsxs("form",{className:"flex w-full max-w-sm mx-auto md:ml-auto",onSubmit:o,children:[h.jsx("input",{type:"email",value:r,onChange:c=>e(c.target.value),placeholder:"example@gmail.com",className:"w-full px-4 py-3 rounded-l-md bg-gray-800 text-white border border-gray-700 focus:outline-none focus:border-custom-gold focus:ring-1 focus:ring-custom-gold placeholder-gray-500 transition-all",required:!0}),h.jsx("button",{type:"submit",className:"bg-custom-gold text-black font-bold px-6 py-3 rounded-r-md hover:bg-white hover:scale-105 transition duration-300",children:"Go"})]}),n&&h.jsx("p",{className:"text-custom-gold mt-2 text-sm",children:n})]})]}),h.jsx("div",{className:"border-t border-gray-700 mt-12 pt-8 text-center text-gray-500",children:h.jsx("p",{children:" 2025 SHOCKWAVE. All Rights Reserved."})})]})})},us=()=>h.jsx("svg",{className:"w-5 h-5 text-custom-gold fill-current",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M12 .587l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279L12 18.896l-7.416 3.987 1.48-8.279L.332 9.306l8.332-1.151L12 .587z"})}),oD=()=>h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),lD=()=>h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),Zg=()=>h.jsxs("section",{className:"cta-video-container bg-custom-gray",children:[h.jsx("video",{className:"hero-smoke-video absolute top-0 left-0 w-full h-full object-cover z-0 cta-video-fill",src:wa,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"metadata"}),h.jsx("div",{className:"absolute inset-0 bg-black/60 z-10"}),h.jsxs("div",{className:"container mx-auto px-4 md:px-6 text-center cta-content min-h-[340px] md:min-h-[460px] flex flex-col items-center justify-center",children:[h.jsxs("h2",{className:"text-4xl md:text-5xl font-extrabold text-white",children:[`"Legacy brands aren't born. They're built.`,h.jsx("br",{}),h.jsx("span",{className:"text-custom-gold",children:`Let's build yours"`})]}),h.jsx("a",{href:"mailto:shockwave.office@gmail.com?subject=Set up a meeting",className:"mt-8 inline-block bg-custom-gold text-black font-bold py-3 px-8 rounded-md text-lg hover:bg-[#d9bc66] transition duration-300",children:"Scale My Business"})]})]}),cD=()=>h.jsx("div",{className:"cube-scene align-items-right bg-custom-gray",children:h.jsxs("div",{className:"cube",children:[h.jsx("div",{className:"cube-face cube-face--front"}),h.jsx("div",{className:"cube-face cube-face--back"}),h.jsx("div",{className:"cube-face cube-face--right"}),h.jsx("div",{className:"cube-face cube-face--left"}),h.jsx("div",{className:"cube-face cube-face--top"}),h.jsx("div",{className:"cube-face cube-face--bottom"})]})}),uD=[{id:1,name:"Strategic Marketing Sprint",category:"Service Pack",price:"R1,500",image:fd,description:"Campaign blueprint, audience targeting setup, and action plan for the next 30 days."},{id:2,name:"Business Architecture Audit",category:"Consulting",price:"R3,500",image:md,description:"Operational bottleneck analysis with a practical execution roadmap for scale."},{id:3,name:"Identity Engineering Kit",category:"Branding",price:"R5,000",image:pd,description:"Brand voice, positioning, and visual direction pack to establish market authority."},{id:4,name:"Web Presence Launchpad",category:"Web Systems",price:"R4,500",image:Hp,description:"High-conversion landing page setup with lead capture and performance baseline."},{id:5,name:"Cybersecurity Hardening",category:"Security",price:"R3,500",image:Ew,description:"Vulnerability scan, core hardening checklist, and risk report for your web stack."},{id:6,name:"Content Production Day",category:"Photography",price:"R4,500",image:qp,description:"Half-day production for product or brand content, including basic post-processing."},{id:7,name:"SHOCKWAVE Growth Retainer",category:"Retainer",price:"R12,000",image:H3,description:"Monthly strategic execution across marketing, web performance, and brand operations."}],mc=[{id:"seed-1",title:"How To Build A Conversion-First Brand Presence",category:"Strategy",image:Aw,excerpt:"<p>Your website should behave like a closer, not a brochure. We break down the exact sequence we use to move cold traffic to qualified leads.</p>",body:"<p>We start with positioning, then craft the offer architecture, then design frictionless conversion paths. Strong brands build momentum through clear promises and disciplined execution.</p>"},{id:"seed-2",title:"Identity Engineering: Beyond Logos",category:"Branding",image:Nw,excerpt:"<p>Identity is the operating system of your brand. Here is how we align visuals, language, and customer expectation into one coherent market signal.</p>",body:"<p>Most brands fail from inconsistency, not lack of effort. We define strategic pillars, codify tone, and enforce design decisions so every touchpoint reinforces authority.</p>"},{id:"seed-3",title:"From Activity To Outcomes In Digital Marketing",category:"Growth",image:Rw,excerpt:"<p>Posting more is not a strategy. This framework shows how to connect content, paid traffic, and conversion tracking into measurable outcomes.</p>",body:"<p>We prioritize decision-grade metrics and weekly optimization cycles. The result is less guesswork, better spend efficiency, and sustained lead quality.</p>"}],Fd=r=>{if(typeof r=="number")return r;if(r==null)return 0;const e=parseInt(String(r).replace(/[^0-9]/g,""),10);return Number.isFinite(e)?e:0},hD=({cart:r,removeFromCart:e,navigate:n,loyaltyBalance:i=0,onRedeemWithPoints:o})=>{const c=r.reduce((p,g)=>{const y=Fd(g.price);return p+y*g.qty},0),d=i>=c&&c>0;return h.jsxs("div",{className:"min-h-screen bg-custom-dark pt-36 pb-24 px-4 md:px-6 relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 right-0 w-1/2 h-1/2 bg-custom-gold blur-[150px] opacity-5 pointer-events-none"}),h.jsxs("div",{className:"container mx-auto max-w-6xl relative z-10 cart-container",children:[h.jsxs("h1",{className:"text-4xl md:text-6xl font-extrabold text-white mb-12",children:["Your ",h.jsx("span",{className:"text-custom-gold",children:"Cart"})]}),r.length===0?h.jsxs("div",{className:"glass-card rounded-xl p-16 text-center max-w-3xl mx-auto border border-gray-800",children:[h.jsx("p",{className:"text-2xl text-white font-bold mb-4",children:"Your cart is currently empty."}),h.jsx("button",{onClick:()=>n("shop"),className:"bg-custom-gold text-black font-bold uppercase tracking-widest py-3 px-8 rounded hover:bg-white transition duration-300",children:"Return to Shop"})]}):h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[h.jsx("div",{className:"lg:col-span-2 space-y-6",children:r.map((p,g)=>h.jsxs("div",{className:"glass-card p-6 rounded-xl flex flex-col sm:flex-row items-center sm:items-start gap-6 border border-gray-800",children:[h.jsx("div",{className:"w-full sm:w-24 h-24 flex-shrink-0 bg-black/40 rounded-lg flex items-center justify-center overflow-hidden",children:h.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"flex-grow text-center sm:text-left",children:[h.jsx("h3",{className:"font-bold text-xl text-white",children:p.name}),h.jsx("p",{className:"text-gray-400 text-sm uppercase tracking-wide mt-1",children:p.category}),h.jsxs("p",{className:"text-custom-gold font-extrabold text-lg mt-2",children:[p.price," ",h.jsxs("span",{className:"text-gray-500 text-sm font-normal",children:["x ",p.qty]})]})]}),h.jsx("button",{onClick:()=>e(p.id),className:"p-3 text-gray-400 hover:text-red-500 transition duration-300",children:"Remove"})]},`${p.id}-${g}`))}),h.jsx("div",{className:"lg:col-span-1",children:h.jsxs("div",{className:"glass-card p-8 rounded-xl border border-custom-gold/20 sticky top-32",children:[h.jsx("h3",{className:"text-2xl font-bold text-white mb-6 border-b border-gray-700 pb-4",children:"Order Summary"}),h.jsxs("div",{className:"flex justify-between mb-8 text-2xl font-extrabold text-custom-gold",children:[h.jsx("span",{children:"Total"}),h.jsxs("span",{children:["R ",c]})]}),h.jsxs("div",{className:"mb-6 text-sm text-gray-300 space-y-1",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"GG Balance"}),h.jsxs("span",{className:"text-white font-bold",children:[i," GG"]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"Needed"}),h.jsxs("span",{className:d?"text-green-400":"text-red-400",children:[c," GG"]})]}),!d&&c>0&&h.jsxs("p",{className:"text-xs text-red-400",children:["You need ",Math.max(0,c-i)," more GG."]})]}),h.jsxs("button",{onClick:()=>o&&o(r,c),disabled:!d,className:"w-full mb-3 bg-gray-800 text-white font-bold uppercase tracking-widest py-3 rounded-lg border border-gray-700 hover:border-custom-gold hover:text-custom-gold transition duration-300 disabled:opacity-50",children:["Pay with GG Points (",c," GG)"]}),h.jsxs("button",{onClick:()=>n("checkout"),className:"w-full bg-custom-gold text-black font-bold uppercase tracking-widest py-4 rounded-lg hover:bg-white transition duration-300 shadow-[0_0_20px_rgba(201, 162, 39,0.3)] flex justify-center items-center gap-2",children:[h.jsx("span",{children:"Proceed to Checkout"}),h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]}),h.jsx("button",{onClick:()=>n("shop"),className:"w-full mt-4 text-gray-500 hover:text-white text-sm font-semibold underline decoration-transparent hover:decoration-white transition-all",children:"Continue Shopping"})]})})]})]})]})},jw=({product:r,onClose:e,navigate:n,addToCart:i})=>{const o=()=>{i(r),e()},c=()=>{i(r),e(),n("checkout")};return r?h.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[h.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-sm",onClick:e}),h.jsxs("div",{className:"relative bg-custom-card border border-custom-gold rounded-xl max-w-lg w-full p-8 shadow-2xl animate-fade-in overflow-hidden",children:[h.jsx("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-custom-gold blur-[80px] opacity-20"}),h.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),h.jsx("div",{className:"flex flex-col items-center text-center",children:h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-20 h-20 bg-black/50 rounded-full flex items-center justify-center mb-4 border border-gray-700",children:h.jsx("img",{src:r.image,alt:r.name,className:"w-10 h-10 object-contain"})}),h.jsx("h3",{className:"text-2xl font-bold text-white uppercase tracking-wider",children:r.name}),h.jsx("p",{className:"text-custom-gold text-xl font-bold mt-2",children:r.price}),h.jsx("p",{className:"text-gray-400 mt-4 text-sm leading-relaxed",children:r.description}),h.jsxs("div",{className:"w-full mt-8 space-y-3",children:[h.jsx("button",{type:"button",onClick:o,className:"w-full bg-gray-800 text-gray-300 font-bold uppercase tracking-widest py-3 rounded-lg hover:bg-gray-700 hover:text-white transition duration-300",children:"Add to Cart & Keep Browsing"}),h.jsx("button",{type:"button",onClick:c,className:"w-full bg-custom-gold text-black font-extrabold uppercase tracking-widest py-3 rounded-lg hover:bg-white transition duration-300 shadow-[0_0_20px_rgba(201, 162, 39,0.3)]",children:"Buy Now"}),h.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Checkout flows without needing any extra forms."})]})]})})]})]}):null},dD=({navigate:r,addToCart:e})=>{const[n,i]=V.useState(null),[o,c]=V.useState([]),[d,p]=V.useState(!0);V.useEffect(()=>{if(!Ye)return;const x=Kc("shop",E=>{c(E),p(!1)});return()=>x&&x()},[]);const g=o.length?o:uD,{role:y}=Js();return h.jsxs("div",{className:"shop-stage-container flex flex-col relative",children:[h.jsx("div",{className:"hero-smoke-video opacity-40 bg-gradient-to-t from-black to-transparent"}),h.jsx("div",{className:"shop-floor-reflection"}),h.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full max-w-3xl h-full bg-gradient-to-b from-white/5 to-transparent opacity-30 pointer-events-none"}),h.jsxs("div",{className:"container mx-auto px-4 md:px-6 py-32 relative z-10 flex-grow flex flex-col",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-white tracking-tighter",children:["SHOCKWAVE ",h.jsx("span",{className:"text-custom-gold",children:"Offers"})]}),h.jsx("p",{className:"text-gray-300 mt-4 max-w-2xl mx-auto",children:"Service packs and products built around SHOCKWAVE strategy, execution, and growth systems."}),y==="admin"&&h.jsx($n,{to:"/admin",className:"text-xs px-3 py-2 rounded border border-custom-gold text-custom-gold hover:bg-custom-gold hover:text-black",children:"Edit in Admin"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto w-full",children:g.map(x=>h.jsxs("div",{className:"glass-card rounded-xl p-4 flex flex-col items-center group cursor-pointer relative overflow-hidden transition-all duration-300 hover:border-custom-gold border border-transparent",onClick:()=>i(x),children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-black/90 opacity-0 group-hover:opacity-100 transition duration-500 z-10"}),h.jsx("div",{className:"w-full h-64 overflow-hidden rounded-lg mb-4 bg-black/20 relative z-0",children:x.image&&h.jsx("img",{src:x.image,alt:x.name,className:"w-full h-full object-cover transform group-hover:scale-110 transition duration-700 ease-in-out"})}),h.jsxs("div",{className:"relative z-20 text-center transform translate-y-2 group-hover:translate-y-0 transition duration-500 w-full",children:[h.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 block",children:x.category||"Service"}),h.jsx("h3",{className:"text-xl font-bold text-white group-hover:text-custom-gold transition",children:x.name}),h.jsx("p",{className:"text-2xl font-extrabold text-white mt-1",children:x.price?.toString().startsWith("R")?x.price:`R ${x.price||""}`}),h.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Or pay ",Fd(x.price)," GG"]}),h.jsx("button",{className:"mt-4 opacity-0 group-hover:opacity-100 transition duration-500 delay-100 bg-transparent border border-custom-gold text-custom-gold px-6 py-2 rounded text-xs font-bold uppercase hover:bg-custom-gold hover:text-black w-full md:w-auto",children:"View Product"})]})]},x.id||x.name))})]}),h.jsx(jw,{product:n,onClose:()=>i(null),navigate:r,addToCart:e}),h.jsx(Gd,{label:"Edit Shop",href:"/admin"})]})},_b=({navigate:r})=>{const[e,n]=V.useState(0),[i,o]=V.useState(mc.slice(0,3)),[c,d]=V.useState(!1),p=V.useRef(null),[g,y]=V.useState(!1),x=V.useRef(null);V.useEffect(()=>{const C=new IntersectionObserver(([R])=>{R.isIntersecting&&d(!0)},{threshold:.5});return p.current&&C.observe(p.current),()=>C.disconnect()},[]),V.useEffect(()=>{const C=new IntersectionObserver(([R])=>{R.isIntersecting&&(y(!0),C.disconnect())},{threshold:.35});return x.current&&C.observe(x.current),()=>C.disconnect()},[]);const E=[{id:1,name:"Verified Client",title:"Recent SHOCKWAVE Project",headline:"Clear strategy. Fast execution. Zero guesswork.",quote:"SHOCKWAVE gave us a clear plan, then executed it without overcomplicating anything. Every step was explained, timelines were respected, and the process felt professional from start to finish.",stars:5,image:O3},{id:2,name:"Verified Client",title:"Business Growth Campaign",headline:"The communication alone made the difference.",quote:"What stood out most was communication and ownership. We always knew what was happening, why it mattered, and what came next. The team moved quickly and kept momentum week after week.",stars:5,image:V3},{id:3,name:"Verified Client",title:"Brand and Content Build",headline:"Creative quality with business discipline.",quote:"The creative output looked premium, but what impressed us most was the structure behind it. SHOCKWAVE balances strong visuals with practical business thinking, which made execution much smoother.",stars:5,image:P3}],T=E.length,D=E[e],[P,z]=V.useState(null),M=C=>{z(P===C?null:C)},X=(e-1+T)%T,Y=(e+1)%T,K=E[X],ie=E[Y],me=()=>{n(Y)},xe=()=>{n(X)};V.useEffect(()=>{if(!Ye)return;const C=Kc("blog",R=>{o((R&&R.length?R:mc).slice(0,3))});return()=>C&&C()},[]);const j=[{id:1,title:"Strategic Marketing",slug:"marketing-strategy",icon:fd,description:"We do not compete; we dominate. We deploy psychological narrative warfare to position your brand as the only logical choice in the market. This is not about 'awareness'it is about establishing absolute market sovereignty."},{id:2,title:"Business Architecture",slug:"business-consultation",icon:md,description:"A business without a foundation is a castle built on sand. We dismantle inefficiency and reconstruct your operational core using SHOCKWAVE principles. We provide the blueprints for a self-sustaining commercial empire."},{id:3,title:"Identity Engineering",slug:"branding-consultation",icon:pd,description:"Your brand is not a logo; it is a covenant. We excavate the truth of your origin and forge a visual and verbal identity that commands authority. We build brands that don't just participate in the industrythey define the standard."}],N="27718969596",A="071 896 9596",k={"marketing-strategy":"Hi SHOCKWAVE, I want to execute strategy for Strategic Marketing.","business-consultation":"Hi SHOCKWAVE, I want to execute strategy for Business Architecture.","branding-consultation":"Hi SHOCKWAVE, I want to execute strategy for Identity Engineering."},I=C=>{const R=k[C.slug]||`Hi SHOCKWAVE, I want to execute strategy for ${C.title}.`;return`https://wa.me/${N}?text=${encodeURIComponent(R)}`};return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"hero-bg bg-custom-dark relative overflow-hidden min-h-screen flex items-center",children:[h.jsx("video",{className:"hero-smoke-video absolute top-0 left-0 w-full h-full object-cover z-0",src:wa,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"metadata"}),h.jsx("div",{className:"container mx-auto px-4 md:px-6 pt-32 pb-12 relative z-30 flex flex-col justify-center h-full",children:h.jsxs("div",{className:"w-full max-w-4xl relative",children:[h.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-white leading-tight",children:["Engineered to ",h.jsx("span",{className:"text-custom-gold",children:"Dominate"})]}),h.jsxs("h2",{className:"text-5xl md:text-7xl font-extrabold text-white leading-tight mt-2",children:["Programmed for ",h.jsx("span",{className:"text-custom-gold",children:"Growth"})]}),h.jsxs("div",{className:"mt-6 max-w-2xl",children:[h.jsxs("p",{className:"text-lg md:text-xl text-gray-200",style:{textShadow:"1px 1px 1px #000"},children:["We empower businesses in the Garden Route to",h.jsx("span",{className:"text-custom-gold font-semibold",children:" outpace the competition"})," using",h.jsx("span",{className:"text-custom-gold font-semibold",children:" AI-driven marketing infrastructure."}),"We don't just generate leads; we architect systems that convert them."]}),h.jsx("p",{className:"text-sm md:text-base text-gray-200 mt-3",style:{textShadow:"1px 1px 1px #000"},children:"AI-Enhanced Web Design | Automated Lead Capture | Algorithmic Ad Strategy | Strategic Brand Architecture"})]}),h.jsx("div",{className:"mt-10 md:mt-16",children:h.jsxs("a",{href:"https://share.google/gqaGQ3pQsXUMcY9AW",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-4 rounded-full border border-white/20 bg-black/50 px-5 py-2.5 text-sm text-white/90 backdrop-blur-sm hover:border-custom-gold hover:text-custom-gold transition",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx("span",{className:"h-2.5 w-2.5 rounded-full",style:{backgroundColor:"#4285F4"}}),h.jsx("span",{className:"h-2.5 w-2.5 rounded-full",style:{backgroundColor:"#DB4437"}}),h.jsx("span",{className:"h-2.5 w-2.5 rounded-full",style:{backgroundColor:"#F4B400"}}),h.jsx("span",{className:"h-2.5 w-2.5 rounded-full",style:{backgroundColor:"#0F9D58"}})]}),h.jsx("span",{className:"font-semibold tracking-wide",children:"Google Reviews"})]}),h.jsx("span",{className:"h-4 w-px bg-white/20"}),h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-white font-bold text-base",children:"4.9"}),h.jsxs("span",{className:"flex items-center gap-0.5 scale-90",children:[h.jsx(us,{}),h.jsx(us,{}),h.jsx(us,{}),h.jsx(us,{}),h.jsx(us,{})]})]})]})})]})}),h.jsxs("div",{className:"absolute top-1/2 right-[-70px] md:right-[-90px] transform rotate-90 -translate-y-1/2 z-30 text-white text-sm tracking-widest hidden md:block",style:{textShadow:"1px 1px 1px #000"},children:[h.jsx("span",{className:"font-semibold",children:"Follow Us"}),h.jsx("span",{className:"text-gray-400 mx-2",children:"-"}),h.jsx("a",{href:"https://www.facebook.com/p/SHOCKWAVE-61574788783029/",className:"font-semibold hover:text-custom-gold",children:"Facebook"}),h.jsx("span",{className:"text-gray-400 mx-2",children:"/"}),h.jsx("a",{href:"https://www.instagram.com/shockwave_s/",className:"font-semibold hover:text-custom-gold",children:"Instagram"})]})]}),h.jsxs("section",{className:"bg-custom-gray py-20 relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none z-0"}),h.jsxs("div",{className:"container mx-auto px-4 text-center relative z-10",children:[h.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Our Fun Fact"}),h.jsxs("p",{className:"text-3xl font-bold text-gray-300",ref:p,children:["Clients see a"," ",h.jsx("span",{className:`scroll-underline ${c?"in-view":""} z-10 relative px-1`,style:{color:"#C9A227"},children:"327% increase"})," ","in engagement."]})]})]}),h.jsx("section",{className:"py-16 md:py-20 bg-custom-dark",ref:x,children:h.jsx("div",{className:"container mx-auto px-4 md:px-6",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"flex justify-center mb-4",children:h.jsx("span",{className:"inline-flex items-center rounded-full border border-custom-gold/40 bg-custom-gold/10 px-10 py-3 text-sm md:text-2xl font-bold uppercase tracking-[0.2em] text-custom-gold",children:"Proven momentum, trusted by 100+ clients"})}),h.jsx("div",{className:"glass-card border border-custom-gold/20 rounded-2xl p-6 md:p-8",children:h.jsxs("div",{className:`client-graph-stage ${g?"is-visible":""}`,children:[h.jsx("div",{className:"graph-layer w-full relative z-10",children:h.jsxs("svg",{viewBox:"0 0 360 180",className:"w-full h-44",children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"lineGrad",x1:"0",y1:"0",x2:"1",y2:"0",children:[h.jsx("stop",{offset:"0%",stopColor:"#3a3a3a"}),h.jsx("stop",{offset:"100%",stopColor:"#C9A227"})]})}),h.jsxs("g",{stroke:"#3a3a3a",strokeWidth:"1",children:[h.jsx("line",{x1:"40",y1:"20",x2:"40",y2:"150"}),h.jsx("line",{x1:"40",y1:"150",x2:"340",y2:"150"}),h.jsx("line",{x1:"40",y1:"20",x2:"46",y2:"20"}),h.jsx("line",{x1:"40",y1:"52",x2:"46",y2:"52"}),h.jsx("line",{x1:"40",y1:"84",x2:"46",y2:"84"}),h.jsx("line",{x1:"40",y1:"116",x2:"46",y2:"116"}),h.jsx("line",{x1:"40",y1:"150",x2:"46",y2:"150"})]}),h.jsxs("g",{fill:"#9ca3af",fontSize:"12",fontWeight:"600",children:[h.jsx("text",{x:"12",y:"24",children:"100+"}),h.jsx("text",{x:"16",y:"56",children:"75"}),h.jsx("text",{x:"16",y:"88",children:"50"}),h.jsx("text",{x:"16",y:"120",children:"25"}),h.jsx("text",{x:"20",y:"154",children:"0"})]}),h.jsx("path",{className:"graph-line",d:"M50 145 L110 122 L170 98 L230 66 L290 40 L340 22",stroke:"url(#lineGrad)",strokeWidth:"4",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"360",strokeDashoffset:"360"})]})}),h.jsx("div",{className:"graph-label-final absolute inset-0 flex items-center justify-center text-4xl md:text-6xl lg:text-7xl font-extrabold text-white text-center px-4",children:"100+ clients fully satisfied"})]})})]})})}),h.jsx("section",{className:"py-16 md:py-24 relative z-10",children:h.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[h.jsxs("h2",{className:"text-4xl md:text-5xl font-extrabold text-center text-white mb-12",children:["Services we can ",h.jsx("br",{})," ",h.jsx("span",{className:"text-custom-gold",children:"help you with"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-7xl mx-auto",children:j.map(C=>{const R=P===C.id;return h.jsxs("div",{onClick:()=>M(C.id),className:`
                    group relative overflow-hidden rounded-xl border border-white/10 cursor-pointer
                    transition-all duration-700 ease-[cubic-bezier(0.25,1,0.5,1)]
                    ${R?"md:col-span-2 row-span-2 shadow-[0_0_50px_rgba(201,162,39,0.15)] border-custom-gold bg-black":"md:col-span-1 aspect-square hover:border-custom-gold/50 hover:shadow-[0_0_30px_rgba(201,162,39,0.1)] bg-gray-900"}
                `,children:[h.jsxs("div",{className:"absolute inset-0 z-0",children:[h.jsx("img",{src:C.icon,alt:C.title,className:`
                            w-full h-full object-cover transition-all duration-1000 ease-out
                            ${R?"opacity-20 scale-110 blur-sm":"opacity-40 group-hover:opacity-30 group-hover:scale-105"}
                        `}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/80 to-transparent"})]}),h.jsxs("div",{className:"relative z-10 p-8 h-full flex flex-col justify-end",children:[h.jsxs("div",{className:`transition-all duration-500 ${R?"mb-6":"mb-0"}`,children:[h.jsx("h3",{className:`
                            font-extrabold uppercase tracking-tighter text-white leading-none transition-all duration-500
                            ${R?"text-4xl md:text-5xl text-custom-gold mb-4":"text-2xl group-hover:text-custom-gold"}
                        `,children:C.title}),h.jsx("div",{className:`h-1 bg-custom-gold transition-all duration-700 ease-out ${R?"w-full max-w-[200px]":"w-12 group-hover:w-24"}`})]}),h.jsx("div",{className:`
                        grid transition-all duration-700 ease-[cubic-bezier(0.25,1,0.5,1)]
                        ${R?"grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0"}
                    `,children:h.jsxs("div",{className:"overflow-hidden",children:[h.jsx("p",{className:"text-gray-300 text-lg leading-relaxed text-justify mb-8 border-l-2 border-custom-gold/30 pl-4",children:C.description}),h.jsxs("a",{href:I(C),target:"_blank",rel:"noreferrer",onClick:De=>De.stopPropagation(),className:"group/btn inline-flex items-center gap-3 text-custom-gold font-bold uppercase tracking-widest text-xs border border-custom-gold px-6 py-3 hover:bg-custom-gold hover:text-black transition-colors duration-300",children:["Execute Strategy",h.jsx("span",{className:"transform group-hover/btn:translate-x-1 transition-transform",children:""})]}),h.jsxs("p",{className:"mt-3 text-xs text-gray-400 uppercase tracking-[0.2em]",children:["WhatsApp: ",A]})]})}),h.jsx("div",{className:`
                        absolute top-6 right-6 transition-all duration-500 delay-100
                        ${R?"opacity-0 -translate-y-4":"opacity-50 group-hover:opacity-100 translate-y-0"}
                    `,children:h.jsx("span",{className:"text-[10px] uppercase tracking-widest text-white border border-white/20 px-3 py-1 rounded-full",children:"+ Expand"})})]})]},C.id)})})]})}),h.jsx("section",{className:"py-16 md:py-24 bg-custom-gray",children:h.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[h.jsxs("h2",{className:"text-4xl md:text-5xl font-extrabold text-center text-white",children:["SHOCKWAVE ",h.jsx("span",{className:"text-custom-gold",children:"Portfolio"})]}),h.jsx("p",{className:"text-lg text-gray-300 text-center max-w-3xl mx-auto mt-4",children:"Photography and videography sit at the heart of our work. Visit the Wall Of Fame for full galleries."}),h.jsxs("div",{className:"gallery-bar mt-10",children:[h.jsx("span",{className:"gallery-label",children:"Photography"}),h.jsx("button",{onClick:()=>r("portfolio"),className:"gallery-button",children:"View Gallery"}),h.jsx("span",{className:"gallery-label",children:"Videography"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-10",children:[h.jsxs("div",{className:"portfolio-panel",children:[h.jsxs("div",{className:"photo-preview",children:[h.jsx("img",{className:"photo-slide",src:Go,alt:"Valentine's Day shoot preview 1"}),h.jsx("img",{className:"photo-slide photo-slide--b",src:Hd,alt:"Valentine's Day shoot preview 2"}),h.jsx("img",{className:"photo-slide photo-slide--c",src:qd,alt:"Valentine's Day shoot preview 3"})]}),h.jsx("div",{className:"portfolio-panel-overlay"}),h.jsxs("div",{className:"portfolio-panel-content",children:[h.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-custom-gold",children:"SHOCKWAVE: Photography"}),h.jsx("h3",{className:"text-3xl font-extrabold text-white",children:"Story-led, cinematic stills"}),h.jsx("p",{className:"text-gray-300 max-w-md",children:"Sliding edits, layered fades, and editorial lighting that keeps every frame feeling alive."}),h.jsx("button",{onClick:()=>r("portfolio"),className:"panel-cta",children:"View Photography"})]})]}),h.jsxs("div",{className:"portfolio-panel",children:[h.jsx("div",{className:"video-preview",children:h.jsx("video",{className:"video-preview-media",src:Fp,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"none"})}),h.jsx("div",{className:"portfolio-panel-overlay"}),h.jsxs("div",{className:"portfolio-panel-content",children:[h.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-custom-gold",children:"SHOCKWAVE: Videography"}),h.jsx("h3",{className:"text-3xl font-extrabold text-white",children:"Landscape-driven motion"}),h.jsx("p",{className:"text-gray-300 max-w-md",children:"Wide compositions, moving texture, and a cinematic pace that builds atmosphere."}),h.jsx("button",{onClick:()=>r("portfolio"),className:"panel-cta",children:"View Videography"})]})]})]})]})}),h.jsx("section",{className:"py-16 md:py-24",children:h.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-center",children:"Our Blog"}),h.jsx("p",{className:"text-lg text-gray-300 text-center mt-2",children:"Explore recent publication"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-12",children:[(i.length?i:[]).map(C=>h.jsxs("div",{className:"bg-custom-card rounded-lg overflow-hidden glass-card border border-gray-800",children:[C.image&&h.jsx("img",{src:C.image,alt:C.title,loading:"lazy",className:"w-full h-48 object-cover"}),h.jsxs("div",{className:"p-6 space-y-2",children:[h.jsx("p",{className:"text-xs uppercase tracking-[0.25em] text-custom-gold",children:C.category||"Blog"}),h.jsx("h3",{className:"text-xl font-bold text-white",children:C.title}),h.jsx("div",{className:"text-gray-300 text-sm rich-text-content line-clamp-3",dangerouslySetInnerHTML:{__html:C.excerpt||""}}),h.jsxs("button",{onClick:()=>r("blog"),className:"text-custom-gold font-semibold mt-2 inline-flex items-center gap-2 link-underline",children:["Read More ",h.jsx("span",{children:""})]})]})]},C.id)),!i.length&&h.jsx(h.Fragment,{children:[Aw,Nw,Rw].map((C,R)=>h.jsxs("div",{className:"bg-custom-card rounded-lg overflow-hidden glass-card border border-gray-800",children:[h.jsx("img",{src:C,alt:"Blog placeholder",loading:"lazy",className:"w-full h-48 object-cover"}),h.jsxs("div",{className:"p-6 space-y-2",children:[h.jsx("p",{className:"text-xs uppercase tracking-[0.25em] text-custom-gold",children:"Blog"}),h.jsx("h3",{className:"text-xl font-bold text-white",children:"New story coming soon"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"Fresh updates will appear here once published."})]})]},R))})]}),h.jsx("div",{className:"text-center mt-12",children:h.jsx("button",{onClick:()=>r("blog"),className:"bg-custom-gold text-black font-bold py-3 px-8 rounded-md text-lg hover:bg-[#d9bc66] transition duration-300",children:"View Blog"})})]})}),h.jsxs("section",{className:"py-12 md:py-16 bg-custom-gray relative z-30",children:[h.jsx("div",{children:h.jsxs("h3",{className:"text-3xl text-custom-gold text-center mt-2 z-20",style:{textShadow:"2px 2px 2px #101010ff, -2px -2px 2px #101010ff, 2px -2px 2px #101010ff, -2px 2px 2px #101010ff"},children:["Strong brands aren't lucky",h.jsx("br",{}),"they follow a blueprint."]})}),h.jsx("div",{className:"container mx-auto px-4 md:px-6 flex justify-end",children:h.jsx("div",{className:"w-fit mr-12 md:mr-32",children:h.jsx(cD,{})})})]}),h.jsx("section",{className:"py-14 md:py-18 bg-custom-gray relative z-10 overflow-hidden",children:h.jsx("div",{className:"container mx-auto px-4 md:px-6",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 items-center",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-custom-gold mb-3",children:"Google rating"}),h.jsx("h3",{className:"text-3xl md:text-4xl font-extrabold text-white leading-tight",children:"A 4.9-star reputation built on real results."}),h.jsx("p",{className:"text-gray-300 mt-4 max-w-xl",children:"Clients trust SHOCKWAVE to deliver performance that shows up in their reviews."}),h.jsxs("a",{href:"https://share.google/gqaGQ3pQsXUMcY9AW",target:"_blank",rel:"noreferrer",className:"group inline-flex items-center gap-3 mt-6 text-custom-gold font-semibold hover:text-white transition",children:[h.jsx("span",{className:"link-underline",children:"View our Google badge"}),h.jsx("span",{className:"text-lg",children:""})]})]}),h.jsx("div",{className:"flex justify-center md:justify-end",children:h.jsxs("div",{className:"glass-card border border-custom-gold/30 rounded-2xl px-6 py-5 w-full max-w-sm",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"h-10 w-10 rounded-full bg-black/40 border border-white/10 flex items-center justify-center",children:h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{className:"h-2 w-2 rounded-full",style:{backgroundColor:"#4285F4"}}),h.jsx("span",{className:"h-2 w-2 rounded-full",style:{backgroundColor:"#DB4437"}}),h.jsx("span",{className:"h-2 w-2 rounded-full",style:{backgroundColor:"#F4B400"}}),h.jsx("span",{className:"h-2 w-2 rounded-full",style:{backgroundColor:"#0F9D58"}})]})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-white font-semibold leading-none",children:"Google Badge"}),h.jsx("p",{className:"text-xs text-gray-400",children:"SHOCKWAVE"})]})]}),h.jsx("span",{className:"text-custom-gold text-xs font-bold uppercase tracking-[0.3em]",children:"Trusted"})]}),h.jsxs("div",{className:"mt-5 flex items-center gap-4",children:[h.jsx("span",{className:"text-4xl font-extrabold text-white",children:"4.9"}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(us,{}),h.jsx(us,{}),h.jsx(us,{}),h.jsx(us,{}),h.jsx(us,{})]})]}),h.jsx("p",{className:"text-gray-400 text-xs mt-2",children:"Average rating on Google Reviews."})]})})]})})}),h.jsx("section",{className:"py-24 md:py-32 relative overflow-hidden",children:h.jsx("div",{className:"container mx-auto px-4 md:px-6 relative",children:h.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-16 md:gap-24",children:[h.jsx("div",{className:"w-full md:w-1/3 flex justify-center md:justify-start relative",children:h.jsxs("div",{className:"relative w-80 h-64 flex items-center justify-center",children:[h.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full h-full bg-custom-gold blur-[100px] opacity-10 pointer-events-none"}),h.jsx("div",{className:"absolute left-0 w-24 h-24 border-2 border-gray-700 bg-gray-900 overflow-hidden z-0 transition-all duration-500 opacity-60 grayscale",style:{transform:"translateX(20%)"},children:h.jsx("img",{src:K.image,alt:"Previous",className:"w-full h-full object-cover scale-150"})},`prev-${K.id}`),h.jsx("div",{className:"absolute right-0 w-24 h-24 border-2 border-gray-700 bg-gray-900 overflow-hidden z-0 transition-all duration-500 opacity-60 grayscale",style:{transform:"translateX(-20%)"},children:h.jsx("img",{src:ie.image,alt:"Next",className:"w-full h-full object-cover scale-150"})},`next-${ie.id}`),h.jsx("div",{className:"relative w-36 h-36 border-4 border-custom-gold bg-gray-800 overflow-hidden z-0 shadow-[0_0_30px_rgba(201, 162, 39,0.3)] animate-fade-in",children:h.jsx("img",{src:D.image,alt:D.name,className:"w-full h-full object-cover scale-150 transition-transform duration-700 hover:scale-[1.6]"})},`curr-${D.id}`)]})}),h.jsxs("div",{className:"w-full md:w-2/3 text-left",children:[h.jsx("div",{className:"text-custom-gold mb-6",children:h.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"currentColor",children:h.jsx("path",{d:"M14.017 21L14.017 18C14.017 16.8954 14.9124 16 16.017 16H19.017C19.5693 16 20.017 15.5523 20.017 15V9C20.017 8.44772 19.5693 8 19.017 8H15.017C14.4647 8 14.017 8.44772 14.017 9V11C14.017 11.5523 13.5693 12 13.017 12H12.017V5H22.017V15C22.017 18.3137 19.3307 21 16.017 21H14.017ZM5.01697 21L5.01697 18C5.01697 16.8954 5.9124 16 7.01697 16H10.017C10.5693 16 11.017 15.5523 11.017 15V9C11.017 8.44772 10.5693 8 10.017 8H6.01697C5.46468 8 5.01697 8.44772 5.01697 9V11C5.01697 11.5523 4.56925 12 4.01697 12H3.01697V5H13.017V15C13.017 18.3137 10.3307 21 7.01697 21H5.01697Z"})})}),h.jsxs("div",{className:"animate-fade-in",children:[h.jsxs("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:["",D.headline,""]}),h.jsx("p",{className:"text-lg text-gray-300 leading-relaxed mb-8",children:D.quote}),h.jsx("div",{className:"flex space-x-1 mb-4",children:Array.from({length:D.stars}).map((C,R)=>h.jsx(us,{},R))}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-xl font-bold text-white",children:D.name}),h.jsx("p",{className:"text-sm font-bold text-gray-500 uppercase tracking-widest mt-1",children:D.title})]})]},D.id),h.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[h.jsx("button",{onClick:xe,className:"p-3 border border-gray-600 rounded text-gray-400 hover:border-custom-gold hover:text-custom-gold transition duration-300",children:h.jsx(oD,{})}),h.jsx("button",{onClick:me,className:"p-3 border border-gray-600 rounded text-gray-400 hover:border-custom-gold hover:text-custom-gold transition duration-300",children:h.jsx(lD,{})})]})]})]})})}),h.jsx("section",{className:"py-16",children:h.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[h.jsx("div",{className:"marquee-container relative mb-12",children:h.jsx("div",{className:"animate-marquee",children:h.jsxs("div",{className:"marquee-content",children:[h.jsx("h3",{className:"text-5xl font-extrabold text-black",style:{textShadow:"2px 2px 2px #C9A227ff, -2px -2px 2px #C9A227ff, 2px -2px 2px #C9A227ff, -2px 2px 2px #C9A227ff"},children:"Trusted all over the Garden Route"}),h.jsx("h3",{className:"text-5xl font-extrabold text-black",style:{textShadow:"2px 2px 2px #C9A227ff, -2px -2px 2px #C9A227ff, 2px -2px 2px #C9A227ff, -2px 2px 2px #C9A227ff"},children:"Trusted all over the Garden Route"}),h.jsx("h3",{className:"text-5xl font-extrabold text-black",style:{textShadow:"2px 2px 2px #C9A227ff, -2px -2px 2px #C9A227ff, 2px -2px 2px #C9A227ff, -2px 2px 2px #C9A227ff"},children:"Trusted all over the Garden Route"}),h.jsx("h3",{className:"text-5xl font-extrabold text-black",style:{textShadow:"2px 2px 2px #C9A227ff, -2px -2px 2px #C9A227ff, 2px -2px 2px #C9A227ff, -2px 2px 2px #C9A227ff"},children:"Trusted all over the Garden Route"}),h.jsx("h3",{className:"text-5xl font-extrabold text-black",style:{textShadow:"2px 2px 2px #C9A227ff, -2px -2px 2px #C9A227ff, 2px -2px 2px #C9A227ff, -2px 2px 2px #C9A227ff"},children:"Trusted all over the Garden Route"}),h.jsx("h3",{className:"text-5xl font-extrabold text-black",style:{textShadow:"2px 2px 2px #C9A227ff, -2px -2px 2px #C9A227ff, 2px -2px 2px #C9A227ff, -2px 2px 2px #C9A227ff"},children:"Trusted all over the Garden Route"}),h.jsx("h3",{className:"text-5xl font-extrabold text-black",style:{textShadow:"2px 2px 2px #C9A227ff, -2px -2px 2px #C9A227ff, 2px -2px 2px #C9A227ff, -2px 2px 2px #C9A227ff"},children:"Trusted all over the Garden Route"}),h.jsx("h3",{className:"text-5xl font-extrabold text-black",style:{textShadow:"2px 2px 2px #C9A227ff, -2px -2px 2px #C9A227ff, 2px -2px 2px #C9A227ff, -2px 2px 2px #C9A227ff"},children:"Trusted all over the Garden Route"})]})})}),h.jsxs("div",{className:"flex flex-wrap justify-center gap-x-8 gap-y-6 md:gap-x-16",children:[h.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[h.jsx("img",{src:M3,alt:"Mosselbay Icon",className:"rounded-full w-20 h-20 md:w-24 md:h-24"}),h.jsx("span",{className:"text-white font-bold text-lg",children:"Mosselbay"})]}),h.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[h.jsx("img",{src:L3,alt:"George Icon",className:"rounded-full w-20 h-20 md:w-24 md:h-24"}),h.jsx("span",{className:"text-white font-bold text-lg",children:"George"})]}),h.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[h.jsx("img",{src:U3,alt:"Knysna Icon",className:"rounded-full w-20 h-20 md:w-24 md:h-24"}),h.jsx("span",{className:"text-white font-bold text-lg",children:"Knysna"})]}),h.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[h.jsx("img",{src:z3,alt:"Plettenberg Icon",className:"rounded-full w-20 h-20 md:w-24 md:h-24"}),h.jsx("span",{className:"text-white font-bold text-lg",children:"Plettenberg"})]}),h.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[h.jsx("img",{src:B3,alt:"Hartenbos Icon",className:"rounded-full w-20 h-20 md:w-24 md:h-24"}),h.jsx("span",{className:"text-white font-bold text-lg",children:"Hartenbos"})]})]})]})}),h.jsx(Zg,{})]})},fD=[{name:"Rualdo Kruger",title:"CEO and Founder of SHOCKWAVE Advisory",image:w3,bio:"Rualdo is the operational engine that keeps SHOCKWAVE running. With a keen eye for detail and process, he ensures every project is executed flawlessly, on time, and on budget.",strengths:["Operations & Process Management","Financial Oversight","Project Scoping & Execution","Technical Problem-Solving"],weaknesses:["Always serious during project planning","Over-invests in new tech gadgets","Can't resist a complex problem","Relies heavily on spreadsheets"],strengthProfile:{Leadership:96,Strategy:84,Operations:93,Finance:81,Execution:92,Innovation:74}}],mD=({profile:r={}})=>{const e=["Leadership","Strategy","Operations","Finance","Execution","Innovation"],[n,i]=V.useState(!1);V.useEffect(()=>{const z=requestAnimationFrame(()=>i(!0));return()=>cancelAnimationFrame(z)},[]);const o=e.map(z=>{const M=Number(r[z]??60);return Math.max(0,Math.min(100,M))}),c=o.map(z=>n?z:0),d=o.reduce((z,M,X,Y)=>M>Y[z]?X:z,0),p=240,g=p/2,y=82,x=Math.PI*2/e.length,E=-Math.PI/2,T=(z,M,X=0)=>{const Y=E+M*x,K=y*z+X;return{x:g+Math.cos(Y)*K,y:g+Math.sin(Y)*K}},D=c.map((z,M)=>{const X=T(z/100,M);return`${X.x},${X.y}`}).join(" "),P=z=>e.map((M,X)=>{const Y=T(z,X);return`${Y.x},${Y.y}`}).join(" ");return h.jsxs("div",{className:"mt-8 rounded-xl border border-custom-gold/30 bg-black/35 p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("h4",{className:"text-lg font-bold text-white",children:"Strength Profile"}),h.jsxs("span",{className:"text-xs uppercase tracking-[0.2em] text-custom-gold",children:["Strongest: ",e[d]]})]}),h.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 items-center",children:[h.jsxs("svg",{viewBox:`0 0 ${p} ${p}`,className:"w-56 h-56",children:[[.2,.4,.6,.8,1].map(z=>h.jsx("polygon",{points:P(z),fill:"none",stroke:"rgba(255,255,255,0.18)",strokeWidth:"1"},z)),e.map((z,M)=>{const X=T(1,M);return h.jsx("line",{x1:g,y1:g,x2:X.x,y2:X.y,stroke:"rgba(255,255,255,0.15)",strokeWidth:"1"},M)}),h.jsx("polygon",{points:D,fill:"rgba(201,162,39,0.25)",stroke:"#C9A227",strokeWidth:"2",style:{transition:"all 700ms ease"}}),c.map((z,M)=>{const X=T(z/100,M);return h.jsx("circle",{cx:X.x,cy:X.y,r:"3.5",fill:"#C9A227"},M)})]}),h.jsx("div",{className:"grid grid-cols-2 gap-x-5 gap-y-2 text-sm w-full",children:e.map((z,M)=>h.jsxs("div",{className:"flex items-center justify-between border-b border-white/10 pb-1",children:[h.jsx("span",{className:`${M===d?"text-custom-gold font-semibold":"text-gray-300"}`,children:z}),h.jsx("span",{className:"text-white font-bold",children:o[M]})]},z))})]})]})},pD=({member:r,onClose:e})=>h.jsx("div",{className:"fixed inset-0 bg-black/80 z-[100] flex items-center justify-center p-4",onClick:e,children:h.jsxs("div",{className:"bg-custom-card rounded-lg max-w-4xl w-full mx-auto p-6 md:p-10 relative overflow-y-auto max-h-[90vh]",onClick:n=>n.stopPropagation(),children:[h.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors","aria-label":"Close",children:h.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[h.jsx("div",{className:"md:col-span-1",children:h.jsx("img",{src:r.image?r.image:"https://placehold.co/400x400/222222/FDBE33?text=Team+Member",alt:r.name,className:"rounded-lg w-full h-auto"})}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("h2",{className:"text-4xl font-extrabold text-white",children:r.name}),h.jsx("p",{className:"text-xl font-bold text-custom-gold mt-1",children:r.title}),h.jsx("p",{className:"text-gray-300 mt-6",children:r.bio}),h.jsx(mD,{profile:r.strengthProfile}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mt-8",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"text-2xl font-bold text-white mb-3",children:"Strengths"}),h.jsx("ul",{className:"list-disc list-inside text-gray-300 space-y-1",children:r.strengths.map((n,i)=>h.jsx("li",{children:n},i))})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-2xl font-bold text-white mb-3",children:"Weaknesses"}),h.jsx("ul",{className:"list-disc list-inside text-gray-300 space-y-1",children:r.weaknesses.map((n,i)=>h.jsx("li",{children:n},i))})]})]})]})]})]})}),gD=()=>{const[r,e]=V.useState(null);return h.jsxs("div",{className:"min-h-screen bg-custom-dark pb-24",children:[h.jsxs("div",{className:"page-hero mb-16",children:[h.jsx("video",{className:"hero-smoke-video thin-header-video",src:wa,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"metadata"}),h.jsx("div",{className:"absolute inset-0 bg-black/60 z-10"}),h.jsxs("div",{className:"container mx-auto px-4 md:px-6 relative z-10 text-center",children:[h.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-white",children:["About ",h.jsx("span",{className:"text-custom-gold",children:"Us"})]}),h.jsx("p",{className:"text-lg text-gray-300 mt-6 max-w-2xl mx-auto",children:"We don't just follow trends; we set them. Meet the team combining creative vision with technical precision to build your legacy."})]})]}),h.jsx("section",{className:"py-16 md:py-24",children:h.jsx("div",{className:"container mx-auto px-4 md:px-6",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16 items-start",children:[h.jsxs("div",{className:"flex flex-col justify-center h-full",children:[h.jsx("h3",{className:"text-sm font-bold tracking-widest text-custom-gold uppercase mb-2",children:"About Our Agency"}),h.jsxs("h2",{className:"text-4xl md:text-6xl font-extrabold text-white leading-tight mb-6",children:["Your trusted partner ",h.jsx("br",{})," for business"]}),h.jsx("p",{className:"text-gray-400 text-lg leading-relaxed mb-6",children:"This is the main factor that sets us apart from our competition and allows us to deliver specialist business consultancy service."}),h.jsx("p",{className:"text-gray-400 text-lg leading-relaxed",children:"Our team applies its wide-ranging experience to determining. Through our years of experience, we've also learned that while each channel has its own set of advantages."})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsx("div",{className:"col-span-2 h-64 bg-custom-card rounded-xl overflow-hidden border border-gray-800 relative group",children:h.jsx("img",{src:T3,alt:"Team",className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition duration-500"})}),h.jsx("div",{className:"h-48 bg-custom-card rounded-xl overflow-hidden border border-gray-800 relative",children:h.jsx("img",{src:"https://placehold.co/400x300/222222/FDBE33?text=Strategy",alt:"Office 1",className:"w-full h-full object-cover opacity-60"})}),h.jsx("div",{className:"h-48 bg-gray-800 rounded-xl overflow-hidden border border-gray-700 relative flex items-center justify-center",children:h.jsx("img",{src:"https://placehold.co/400x300/222222/FDBE33?text=Results",alt:"Office 2",className:"w-full h-full object-cover opacity-60"})})]})]})})}),h.jsx("section",{className:"bg-custom-gray py-16 md:py-24",children:h.jsx("div",{className:"container mx-auto px-4 md:px-6",children:h.jsxs("div",{className:"bg-custom-card rounded-lg p-8 md:p-12 text-center max-w-4xl mx-auto",children:[h.jsx("h3",{className:"text-4xl font-semibold text-custom-gold",children:"Our Fun Fact"}),h.jsxs("p",{className:"mt-4 text-2xl md:text-4xl font-bold text-white",children:["Our clients typically see a ",h.jsx("span",{className:"text-custom-gold",children:"327% increase"})," in engagement within 90 days. No fluff, just smart marketing."]})]})})}),h.jsx("section",{className:"py-16 md:py-24",children:h.jsx("div",{className:"container mx-auto px-4 md:px-6",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute -left-4 top-4 bottom-4 w-2 bg-custom-gold rounded-l-md z-10"})," ",h.jsxs("div",{className:"rounded-xl overflow-hidden border border-gray-800 bg-custom-card relative h-[500px]",children:[h.jsx("img",{src:ww,alt:"Digital Excellence",className:"w-full h-full object-cover opacity-90"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-60"})]})]}),h.jsxs("div",{className:"pl-4 md:pl-8",children:[h.jsx("h3",{className:"text-sm font-bold tracking-widest text-custom-gold uppercase mb-2",children:"Why Choose Us"}),h.jsxs("h2",{className:"text-4xl md:text-5xl font-extrabold text-white mb-6",children:["Digital Excellence with ",h.jsx("br",{}),h.jsx("span",{className:"text-custom-gold",children:"Built-In Protection"})]}),h.jsx("p",{className:"text-gray-300 text-lg leading-relaxed mb-6",children:"What sets SHOCKWAVE apart is our ability to combine standout creative solutions with a growing focus on cybersecurity."}),h.jsx("div",{className:"w-16 h-1 bg-custom-gold mb-6"}),h.jsx("p",{className:"text-gray-400 text-lg leading-relaxed",children:"In a world where online threats grow daily, we believe digital excellence and cyber awareness should go hand in hand. We integrate essential digital hygiene principles into our client journey."})]})]})})}),h.jsx("section",{className:"py-16 md:py-24 bg-custom-gray",children:h.jsx("div",{className:"container mx-auto px-4 md:px-6 justify-center",children:h.jsxs("div",{className:"w-fit",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-center",children:"The Team"}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-3 gap-20 mt-20",children:fD.map((n,i)=>h.jsxs("div",{className:"text-center cursor-pointer group",onClick:()=>e(n),children:[h.jsx("img",{src:n.image?n.image:"https://placehold.co/400x400/222222/FDBE33?text=Team+Member",alt:n.name,loading:"lazy",className:"rounded-lg w-full h-auto transition-transform duration-300 group-hover:scale-105 team-photo"}),h.jsx("h4",{className:"text-xl font-bold text-white mt-4",children:n.name}),h.jsx("p",{className:"text-custom-gold",children:n.title})]},i))})]})})}),h.jsx(Zg,{}),r&&h.jsx(pD,{member:r,onClose:()=>e(null)})]})},yD={"web-development":{title:"Web Development Pricing",packages:[{name:"Landing Page",tier:"bronze",price:"R4,500",features:["Single-page site","Contact Form","Mobile Responsive","Basic SEO"]},{name:"Business Site",tier:"silver",price:"R8,500",features:["5-Page Site","CMS Integration","Mobile Responsive","Advanced SEO","Blog Setup"],highlight:!0},{name:"E-Commerce",tier:"gold",price:"R15,000",features:["Full Online Store","Payment Gateway","Product Management","Shopping Cart","Marketing Suite"]}]},printing:{title:"Printing Services",packages:[{name:"Starter Pack",tier:"bronze",price:"R1,200",features:["500 Business Cards","1000 A5 Flyers"]},{name:"Business Bundle",tier:"silver",price:"R3,500",features:["1000 Business Cards","5000 A5 Flyers","2x A1 Posters","5x Notepads"],highlight:!0},{name:"Corporate Event",tier:"gold",price:"Custom",features:["Custom Banners","Event Backdrops","Brochures","Name Badges"]}]},"social-marketing":{title:"Social Marketing Pricing",packages:[{name:"Bronze",tier:"bronze",price:"R5,500",features:["1 Platform (FB)","20 Posts/mo","1 Influencer Collab","R500 Ad Spend","Standard Support"]},{name:"Silver",tier:"silver",price:"R7,000",features:["2 Platforms","25 Posts/mo","2 Influencer Collabs","1 Studio Shoot","R1,500 Ad Spend"],highlight:!0},{name:"Gold",tier:"gold",price:"R9,000",features:["3 Platforms","25 Posts/mo","3-4 Influencer Collabs","2 Event Shoots","R2,500 Ad Spend"]},{name:"Platinum",tier:"platinum",price:"R12,000+",features:["Multi-Platform","Custom Volume","VIP Network Access","On-site Content Days","Dedicated Strategist"]}]},"marketing-strategy":{title:"Strategic Marketing Pricing",packages:[{name:"Bronze Strategy",tier:"bronze",price:"R5,500",features:["Market Positioning Blueprint","20 Content Assets / mo","R500 Ad Spend Guidance","Monthly Strategy Report"]},{name:"Silver Strategy",tier:"silver",price:"R7,000",features:["2 Platform Growth System","25 Content Assets / mo","R1,500 Ad Spend Guidance","Campaign Optimization"],highlight:!0},{name:"Gold Strategy",tier:"gold",price:"R9,000",features:["3 Platform Domination Plan","Performance Creative Direction","R2,500 Ad Spend Guidance","Lead Conversion Flow"]},{name:"Platinum Strategy",tier:"platinum",price:"R12,000+",features:["Custom Growth Infrastructure","VIP Campaign War Room","Dedicated Strategist","Full Funnel Execution"]}]},"business-consultation":{title:"Business Architecture Pricing",packages:[{name:"Foundation",tier:"bronze",price:"R4,500",features:["Operational Audit","Process Gap Analysis","Quick-Win Action Plan"]},{name:"Structure",tier:"silver",price:"R8,500",features:["Systems Redesign","Workflow Documentation","Automation Opportunities"],highlight:!0},{name:"Scale",tier:"gold",price:"R15,000",features:["Revenue Model Optimization","Team Role Architecture","90-Day Scale Roadmap"]}]},"branding-consultation":{title:"Identity Engineering Pricing",packages:[{name:"Core Identity",tier:"bronze",price:"R3,500",features:["Brand Discovery Session","Voice & Positioning Foundation","Identity Direction Board"]},{name:"Authority Kit",tier:"silver",price:"R7,500",features:["Logo System","Color & Type System","Messaging Framework"],highlight:!0},{name:"Market Standard",tier:"gold",price:"R12,500",features:["Full Brand Playbook","Campaign-Ready Visual System","Launch Strategy"]}]},photography:{title:"Photography Pricing",packages:[{name:"Product Shoot",tier:"bronze",price:"R2,500",features:["Half-Day Shoot","20 Retouched Images","White Background"]},{name:"Brand Lifestyle",tier:"silver",price:"R5,500",features:["Full-Day Shoot","50 Retouched Images","Multiple Locations"],highlight:!0},{name:"Event Coverage",tier:"gold",price:"R8,500",features:["Full Event","All Usable Images","Candid & Staged","24h Highlights"]}]},cybersecurity:{title:"Cybersecurity Packages",packages:[{name:"Audit",tier:"bronze",price:"R3,500",features:["Vulnerability Scan","Network Report","Firewall Check"]},{name:"Protection",tier:"silver",price:"R7,500",features:["24/7 Monitoring","Managed Firewall","Endpoint Protection"],highlight:!0},{name:"Compliance",tier:"gold",price:"R12,500",features:["POPIA/GDPR","Penetration Testing","Staff Training"]}]},recruitment:{title:"Recruitment Packages",packages:[{name:"Audit",tier:"bronze",price:"R3,500",features:["Vulnerability Scan","Network Report","Firewall Check"]},{name:"Protection",tier:"silver",price:"R7,500",features:["24/7 Monitoring","Managed Firewall","Endpoint Protection"],highlight:!0},{name:"Compliance",tier:"gold",price:"R12,500",features:["POPIA/GDPR","Penetration Testing","Staff Training"]}]}},vD=(r,e=800)=>{if(!r)return;const n=r.getBoundingClientRect().top,i=window.pageYOffset,o=n-100;let c=null;const d=p=>{c===null&&(c=p);const g=p-c,x=((E,T,D,P)=>(E/=P/2,E<1?D/2*E*E+T:(E--,-D/2*(E*(E-2)-1)+T)))(g,i,o,e);window.scrollTo(0,x),g<e?requestAnimationFrame(d):window.scrollTo(0,i+o)};requestAnimationFrame(d)},Gd=({label:r="Edit",href:e="/admin"})=>{const{role:n}=Js();return n!=="admin"?null:h.jsxs($n,{to:e,className:"fixed bottom-6 right-6 z-[120] flex items-center gap-2 px-4 py-3 rounded-full glass-card border border-custom-gold/40 text-white hover:bg-custom-gold hover:text-black transition shadow-lg",children:[h.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-custom-gold text-black font-extrabold text-xl leading-none",children:"+"}),h.jsx("span",{className:"text-sm font-bold uppercase tracking-widest hidden sm:inline",children:r})]})},_D=({navigate:r,addToCart:e})=>{const[n,i]=V.useState("marketing-strategy"),[o,c]=V.useState(null),[d,p]=V.useState([]);V.useEffect(()=>{if(!Ye)return;const K=Kc("services",ie=>p(ie));return()=>K&&K()},[]);const g=d.map((K,ie)=>{const me=(K.slug||K.name||`service-${ie}`).toLowerCase().replace(/\s+/g,"-");return{id:K.id||me,title:K.name,icon:K.image||Hp,slug:me,desc:K.summary||K.details||"",price:K.price||"",details:K.details||""}}),y=g.length?g:[{id:1,title:"Strategic Marketing",icon:fd,slug:"marketing-strategy",desc:"We do not compete; we dominate. We deploy psychological narrative warfare to position your brand as the only logical choice in the market."},{id:2,title:"Business Architecture",icon:md,slug:"business-consultation",desc:"A business without a foundation is a castle built on sand. We dismantle inefficiency and reconstruct your operational core using SHOCKWAVE principles."},{id:3,title:"Identity Engineering",icon:pd,slug:"branding-consultation",desc:"Your brand is not a logo; it is a covenant. We forge a visual and verbal identity that commands authority."}],x=V.useRef(null),T=(g.reduce((K,ie)=>(K[ie.slug]={title:ie.title,packages:[{name:ie.title,tier:"gold",price:ie.price||"Custom quote",features:ie.details&&ie.details.split(`
`).filter(Boolean)||(ie.desc?[ie.desc]:["Full service package"]),highlight:!0}]},K),{})[n]||yD[n])??null;V.useEffect(()=>{y.length&&!y.find(K=>K.slug===n)&&i(y[0].slug)},[y,n]);const D={"web-development":Hp,printing:A3,"social-marketing":S3,photography:qp,cybersecurity:Ew,recruitment:qp,"marketing-strategy":fd,"business-consultation":md,"branding-consultation":pd},P=K=>{i(K),x.current&&vD(x.current,800)},z=K=>{const ie={...K,image:D[n]||dd,description:K.features.join(", ")};c(ie)},M=T?.packages||[],X=T?.title||"Services",{role:Y}=Js();return h.jsxs("div",{className:"min-h-screen bg-custom-dark pb-24",children:[h.jsxs("div",{className:"page-hero mb-16",children:[h.jsx("video",{className:"hero-smoke-video thin-header-video",src:wa,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"metadata"}),h.jsx("div",{className:"absolute inset-0 bg-black/60 z-10"}),h.jsxs("div",{className:"container mx-auto px-4 md:px-6 relative z-10 text-center",children:[h.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-white",children:["Our ",h.jsx("span",{className:"text-custom-gold",children:"Services"})]}),h.jsx("p",{className:"text-lg text-gray-300 mt-6 max-w-2xl mx-auto",children:"From pixel-perfect designs to military-grade cybersecurity. Everything you need to build, scale, and protect your brand online."}),Y==="admin"&&h.jsx($n,{to:"/admin",className:"text-xs px-3 py-2 rounded border border-custom-gold text-custom-gold hover:bg-custom-gold hover:text-black",children:"Edit in Admin"})]})]}),h.jsx("section",{className:"py-16 md:py-24 relative z-10",children:h.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[h.jsxs("div",{className:"text-center mb-10",children:[h.jsxs("h2",{className:"text-4xl md:text-5xl font-extrabold text-white",children:["Services we can ",h.jsx("br",{})," ",h.jsx("span",{className:"text-custom-gold",children:"help you with"})]}),h.jsx("p",{className:"text-gray-400 mt-6 text-base md:text-lg",children:"Pick a strategy lane, review detailed packages below, then add your option to cart for online checkout."})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-7xl mx-auto",children:y.map(K=>{const ie=n===K.slug;return h.jsxs("div",{onClick:()=>P(K.slug),className:`
                    group relative overflow-hidden rounded-xl border border-white/10 cursor-pointer
                    transition-all duration-700 ease-[cubic-bezier(0.25,1,0.5,1)]
                    ${ie?"md:col-span-2 row-span-2 shadow-[0_0_50px_rgba(201,162,39,0.15)] border-custom-gold bg-black":"md:col-span-1 aspect-square hover:border-custom-gold/50 hover:shadow-[0_0_30px_rgba(201,162,39,0.1)] bg-gray-900"}
                  `,children:[h.jsxs("div",{className:"absolute inset-0 z-0",children:[h.jsx("img",{src:K.icon,alt:K.title,className:`
                        w-full h-full object-cover transition-all duration-1000 ease-out
                        ${ie?"opacity-20 scale-110 blur-sm":"opacity-40 group-hover:opacity-30 group-hover:scale-105"}
                      `}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/80 to-transparent"})]}),h.jsxs("div",{className:"relative z-10 p-8 h-full flex flex-col justify-end",children:[h.jsxs("div",{className:`transition-all duration-500 ${ie?"mb-6":"mb-0"}`,children:[h.jsx("h3",{className:`
                        font-extrabold uppercase tracking-tighter text-white leading-none transition-all duration-500
                        ${ie?"text-4xl md:text-5xl text-custom-gold mb-4":"text-2xl group-hover:text-custom-gold"}
                      `,children:K.title}),h.jsx("div",{className:`h-1 bg-custom-gold transition-all duration-700 ease-out ${ie?"w-full max-w-[200px]":"w-12 group-hover:w-24"}`})]}),h.jsx("div",{className:`
                      grid transition-all duration-700 ease-[cubic-bezier(0.25,1,0.5,1)]
                      ${ie?"grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0"}
                    `,children:h.jsxs("div",{className:"overflow-hidden",children:[h.jsx("p",{className:"text-gray-300 text-lg leading-relaxed text-justify mb-8 border-l-2 border-custom-gold/30 pl-4",children:K.desc||"Built to move your brand from noise to market control."}),h.jsxs("button",{onClick:me=>{me.stopPropagation(),P(K.slug)},className:"group/btn inline-flex items-center gap-3 w-fit text-custom-gold font-bold uppercase tracking-widest text-xs border border-custom-gold px-6 py-3 hover:bg-custom-gold hover:text-black transition-colors duration-300",children:["View Packages",h.jsx("span",{className:"transform group-hover/btn:translate-x-1 transition-transform",children:""})]})]})}),h.jsx("div",{className:`
                      absolute top-6 right-6 transition-all duration-500 delay-100
                      ${ie?"opacity-0 -translate-y-4":"opacity-50 group-hover:opacity-100 translate-y-0"}
                    `,children:h.jsx("span",{className:"text-[10px] uppercase tracking-widest text-white border border-white/20 px-3 py-1 rounded-full",children:"+ Expand"})})]})]},K.id)})})]})}),h.jsx("section",{ref:x,className:"py-16 md:py-24 bg-custom-gray",children:h.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-white text-center",children:X}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6 mt-12 max-w-7xl mx-auto",children:M.map((K,ie)=>{let me="",xe="",j="";switch(K.tier){case"bronze":me="hover:border-[#CD7F32] hover:shadow-[0_0_30px_rgba(205,127,50,0.3)]",xe="group-hover:bg-[#CD7F32] group-hover:text-black",j="group-hover:text-[#CD7F32]";break;case"silver":me="hover:border-[#C0C0C0] hover:shadow-[0_0_30px_rgba(192,192,192,0.3)]",xe="group-hover:bg-[#C0C0C0] group-hover:text-black",j="group-hover:text-[#C0C0C0]";break;case"gold":me="hover:border-[#C9A227] hover:shadow-[0_0_30px_rgba(201, 162, 39,0.3)]",xe="group-hover:bg-[#C9A227] group-hover:text-black",j="group-hover:text-[#C9A227]";break;case"platinum":me="hover:border-[#3B82F6] hover:shadow-[0_0_30px_rgba(59,130,246,0.4)]",xe="group-hover:bg-[#3B82F6] group-hover:text-black",j="group-hover:text-[#3B82F6]";break;default:me="hover:border-white"}return h.jsxs("div",{className:`
                           glass-card rounded-xl p-8 border border-transparent 
                           transition-all duration-500 ease-in-out group cursor-pointer
                           flex flex-col
                           ${me}
                           ${K.highlight?"md:-translate-y-4 z-10":""}
                         `,onClick:()=>z(K),children:[h.jsx("span",{className:`text-xs font-bold tracking-widest uppercase text-gray-500 mb-2 transition-colors duration-300 ${j}`,children:K.tier}),h.jsx("h3",{className:"text-2xl font-bold text-white group-hover:text-white transition-colors",children:K.name}),h.jsx("div",{className:"my-6",children:h.jsx("p",{className:`text-4xl font-extrabold text-white transition-colors duration-300 ${j}`,children:K.price})}),h.jsx("ul",{className:"space-y-4 mb-8 flex-grow",children:K.features.map((N,A)=>h.jsxs("li",{className:"flex items-start text-gray-400 group-hover:text-gray-300 transition-colors",children:[h.jsx("span",{className:`mr-3 mt-1 transition-colors duration-300 ${j}`,children:h.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),h.jsx("span",{className:"text-sm",children:N})]},A))}),h.jsx("button",{className:`
                          w-full py-3 px-6 rounded-lg font-bold text-sm uppercase tracking-wider
                          border border-gray-600 text-white bg-transparent
                          transition-all duration-300
                          ${xe}
                        `,children:"Select Package"})]},ie)})})]})}),h.jsx("section",{className:"py-16 md:py-24",children:h.jsxs("div",{className:"container mx-auto px-4 md:px-6 max-w-6xl space-y-12",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-white",children:"What You Get From Every Core Service"}),h.jsx("p",{className:"text-gray-400 mt-4 max-w-3xl mx-auto",children:"Built for decision-makers who need consistent lead flow, cleaner operations, and a brand that converts."})]}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[h.jsxs("article",{className:"glass-card border border-gray-800 rounded-xl p-6",children:[h.jsx("h3",{className:"text-2xl font-bold text-custom-gold mb-3",children:"Strategic Marketing Deliverables"}),h.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-2",children:[h.jsx("li",{children:"Acquisition channel plan and offer prioritization"}),h.jsx("li",{children:"Campaign messaging and conversion path structure"}),h.jsx("li",{children:"Performance reporting with clear next actions"})]})]}),h.jsxs("article",{className:"glass-card border border-gray-800 rounded-xl p-6",children:[h.jsx("h3",{className:"text-2xl font-bold text-custom-gold mb-3",children:"Business Architecture Deliverables"}),h.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-2",children:[h.jsx("li",{children:"Operational bottleneck and risk analysis"}),h.jsx("li",{children:"Process blueprint with ownership handoff points"}),h.jsx("li",{children:"Prioritized execution roadmap for scale"})]})]}),h.jsxs("article",{className:"glass-card border border-gray-800 rounded-xl p-6",children:[h.jsx("h3",{className:"text-2xl font-bold text-custom-gold mb-3",children:"Identity Engineering Deliverables"}),h.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-2",children:[h.jsx("li",{children:"Brand positioning and messaging pillars"}),h.jsx("li",{children:"Visual direction and identity system guidance"}),h.jsx("li",{children:"Brand usage direction for consistency and trust"})]})]})]}),h.jsxs("div",{className:"glass-card border border-gray-800 rounded-xl p-8",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-white",children:"Our Process"}),h.jsxs("ol",{className:"mt-6 grid md:grid-cols-4 gap-4 text-gray-300",children:[h.jsxs("li",{children:[h.jsx("strong",{className:"text-custom-gold",children:"1. Diagnose:"})," We audit market position, operations, and current growth blockers."]}),h.jsxs("li",{children:[h.jsx("strong",{className:"text-custom-gold",children:"2. Architect:"})," We design the strategy, systems, and service lane priorities."]}),h.jsxs("li",{children:[h.jsx("strong",{className:"text-custom-gold",children:"3. Execute:"})," We launch campaigns and implementation sprints with clear KPIs."]}),h.jsxs("li",{children:[h.jsx("strong",{className:"text-custom-gold",children:"4. Optimize:"})," We review outcomes and tighten conversion and efficiency each cycle."]})]})]}),h.jsxs("div",{className:"glass-card border border-gray-800 rounded-xl p-8",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-white",children:"Frequently Asked Questions"}),h.jsx("div",{className:"mt-6 space-y-3",children:Cw.map(K=>h.jsxs("details",{className:"bg-black/30 border border-gray-800 rounded-lg px-5 py-4",children:[h.jsx("summary",{className:"cursor-pointer font-semibold text-white",children:K.question}),h.jsx("p",{className:"mt-3 text-gray-300",children:K.answer})]},K.question))})]}),h.jsx("div",{className:"text-center text-gray-300",children:h.jsxs("p",{children:["See proof in our ",h.jsx("a",{href:ut.portfolio,className:"text-custom-gold hover:underline",children:"Portfolio"}),", explore strategy insights in our ",h.jsx("a",{href:ut.blog,className:"text-custom-gold hover:underline",children:"Blog"}),", or ",h.jsx("a",{href:"/#contact",className:"text-custom-gold hover:underline",children:"Contact us"})," to scope your project."]})})]})}),h.jsx(jw,{product:o,onClose:()=>c(null),navigate:r,addToCart:e}),h.jsx(Gd,{label:"Edit Services",href:"/admin"}),h.jsx(Zg,{})]})},_o={DSC_0184:"Seefront Valentine's Day Moments",DSC_0186:"Sunset Walks & Smiles",DSC_0203:"Couples by the Coast",DSC_0214:"Seefront Portrait Session",DSC_0224:"Golden Hour Highlights",DSC_0230:"Event Crowd Highlights",DSC_0245:"Valentine Event Highlights"},xD=Object.assign({"./assets/DSC_0179.jpg":()=>ce(()=>import("./DSC_0179-Dn2zNEI0.js"),[]).then(r=>r.default),"./assets/DSC_0180.jpg":()=>ce(()=>import("./DSC_0180-DdeBOFiF.js"),[]).then(r=>r.default),"./assets/DSC_0181.jpg":()=>ce(()=>import("./DSC_0181-jqonHvx1.js"),[]).then(r=>r.default),"./assets/DSC_0182.jpg":()=>ce(()=>import("./DSC_0182-DZapeCUQ.js"),[]).then(r=>r.default),"./assets/DSC_0183.jpg":()=>ce(()=>import("./DSC_0183-ChzjL83Z.js"),[]).then(r=>r.default),"./assets/DSC_0184.jpg":()=>ce(()=>Promise.resolve().then(()=>N3),void 0).then(r=>r.default),"./assets/DSC_0185.jpg":()=>ce(()=>import("./DSC_0185-GKc8se6Q.js"),[]).then(r=>r.default),"./assets/DSC_0186.jpg":()=>ce(()=>Promise.resolve().then(()=>R3),void 0).then(r=>r.default),"./assets/DSC_0187.jpg":()=>ce(()=>import("./DSC_0187-CvP3ID6g.js"),[]).then(r=>r.default),"./assets/DSC_0188.jpg":()=>ce(()=>import("./DSC_0188-C-5gfhpR.js"),[]).then(r=>r.default),"./assets/DSC_0189.jpg":()=>ce(()=>import("./DSC_0189-BWtT-mdN.js"),[]).then(r=>r.default),"./assets/DSC_0191.jpg":()=>ce(()=>import("./DSC_0191-a4GMmkFl.js"),[]).then(r=>r.default),"./assets/DSC_0192.jpg":()=>ce(()=>import("./DSC_0192-Cj-fkc1n.js"),[]).then(r=>r.default),"./assets/DSC_0195.jpg":()=>ce(()=>import("./DSC_0195-DXpjH0S_.js"),[]).then(r=>r.default),"./assets/DSC_0199.jpg":()=>ce(()=>import("./DSC_0199-BX72nxnt.js"),[]).then(r=>r.default),"./assets/DSC_0201.jpg":()=>ce(()=>import("./DSC_0201-BEsTPzD-.js"),[]).then(r=>r.default),"./assets/DSC_0203.jpg":()=>ce(()=>Promise.resolve().then(()=>C3),void 0).then(r=>r.default),"./assets/DSC_0206.jpg":()=>ce(()=>import("./DSC_0206-CYu2FgYu.js"),[]).then(r=>r.default),"./assets/DSC_0211.jpg":()=>ce(()=>import("./DSC_0211-Cvs03xZI.js"),[]).then(r=>r.default),"./assets/DSC_0214.jpg":()=>ce(()=>Promise.resolve().then(()=>I3),void 0).then(r=>r.default),"./assets/DSC_0215.jpg":()=>ce(()=>import("./DSC_0215-BQ_o3Axb.js"),[]).then(r=>r.default),"./assets/DSC_0217.jpg":()=>ce(()=>import("./DSC_0217-DD_F-JFu.js"),[]).then(r=>r.default),"./assets/DSC_0220.jpg":()=>ce(()=>import("./DSC_0220-CalaKvT_.js"),[]).then(r=>r.default),"./assets/DSC_0224.jpg":()=>ce(()=>import("./DSC_0224-c4wHVo0E.js"),[]).then(r=>r.default),"./assets/DSC_0225.jpg":()=>ce(()=>import("./DSC_0225-DFFV3BIR.js"),[]).then(r=>r.default),"./assets/DSC_0226.jpg":()=>ce(()=>import("./DSC_0226-BDo-7Wm8.js"),[]).then(r=>r.default),"./assets/DSC_0228.jpg":()=>ce(()=>import("./DSC_0228-DL2r2vNg.js"),[]).then(r=>r.default),"./assets/DSC_0230.jpg":()=>ce(()=>Promise.resolve().then(()=>j3),void 0).then(r=>r.default),"./assets/DSC_0231.jpg":()=>ce(()=>import("./DSC_0231-BmNDnjyH.js"),[]).then(r=>r.default),"./assets/DSC_0233.jpg":()=>ce(()=>import("./DSC_0233-B0_qqt1T.js"),[]).then(r=>r.default),"./assets/DSC_0236.jpg":()=>ce(()=>import("./DSC_0236-BsF0lOUY.js"),[]).then(r=>r.default),"./assets/DSC_0237.jpg":()=>ce(()=>import("./DSC_0237-CXuRDX4E.js"),[]).then(r=>r.default),"./assets/DSC_0238.jpg":()=>ce(()=>import("./DSC_0238-BACW5GtU.js"),[]).then(r=>r.default),"./assets/DSC_0239.jpg":()=>ce(()=>import("./DSC_0239-DPT45mvl.js"),[]).then(r=>r.default),"./assets/DSC_0240.jpg":()=>ce(()=>import("./DSC_0240-BQXgMAvH.js"),[]).then(r=>r.default),"./assets/DSC_0241.jpg":()=>ce(()=>import("./DSC_0241-DAEzgNdL.js"),[]).then(r=>r.default),"./assets/DSC_0242.jpg":()=>ce(()=>import("./DSC_0242-J4_JrWU6.js"),[]).then(r=>r.default),"./assets/DSC_0243.jpg":()=>ce(()=>import("./DSC_0243-tL8FPXYu.js"),[]).then(r=>r.default),"./assets/DSC_0244.jpg":()=>ce(()=>import("./DSC_0244-BJDiYKhQ.js"),[]).then(r=>r.default),"./assets/DSC_0245.jpg":()=>ce(()=>Promise.resolve().then(()=>D3),void 0).then(r=>r.default),"./assets/DSC_0246.jpg":()=>ce(()=>import("./DSC_0246-USSvxJHU.js"),[]).then(r=>r.default),"./assets/DSC_0247.jpg":()=>ce(()=>import("./DSC_0247-DFfmoE1Q.js"),[]).then(r=>r.default),"./assets/DSC_0248.jpg":()=>ce(()=>import("./DSC_0248-1YWGJJ3_.js"),[]).then(r=>r.default),"./assets/DSC_0249.jpg":()=>ce(()=>import("./DSC_0249-7m_jO0Rh.js"),[]).then(r=>r.default),"./assets/DSC_0250.jpg":()=>ce(()=>import("./DSC_0250-BjYokamZ.js"),[]).then(r=>r.default),"./assets/DSC_0251.jpg":()=>ce(()=>import("./DSC_0251-whRsDLYJ.js"),[]).then(r=>r.default),"./assets/DSC_0252.jpg":()=>ce(()=>import("./DSC_0252-BtBU7KqE.js"),[]).then(r=>r.default),"./assets/DSC_0253.jpg":()=>ce(()=>import("./DSC_0253-_Ai0L-8w.js"),[]).then(r=>r.default),"./assets/DSC_0254.jpg":()=>ce(()=>import("./DSC_0254-C72Ym_UP.js"),[]).then(r=>r.default),"./assets/DSC_0261.jpg":()=>ce(()=>import("./DSC_0261-Bju8XYy_.js"),[]).then(r=>r.default),"./assets/DSC_0262.jpg":()=>ce(()=>import("./DSC_0262-CWuNqvWX.js"),[]).then(r=>r.default),"./assets/DSC_0263.jpg":()=>ce(()=>import("./DSC_0263-87NAoIHM.js"),[]).then(r=>r.default),"./assets/DSC_0264.jpg":()=>ce(()=>import("./DSC_0264-DU7KQwls.js"),[]).then(r=>r.default),"./assets/DSC_0265.jpg":()=>ce(()=>import("./DSC_0265-DZyga2J5.js"),[]).then(r=>r.default),"./assets/DSC_0266.jpg":()=>ce(()=>import("./DSC_0266-BD36Z5-s.js"),[]).then(r=>r.default),"./assets/DSC_0267.jpg":()=>ce(()=>import("./DSC_0267-CsxQQeaj.js"),[]).then(r=>r.default),"./assets/DSC_0268.jpg":()=>ce(()=>import("./DSC_0268-B1OKZBTs.js"),[]).then(r=>r.default),"./assets/DSC_0269.jpg":()=>ce(()=>import("./DSC_0269-CRMKfvk0.js"),[]).then(r=>r.default),"./assets/DSC_0270.jpg":()=>ce(()=>import("./DSC_0270-Dw-AqJKh.js"),[]).then(r=>r.default),"./assets/DSC_0271.jpg":()=>ce(()=>import("./DSC_0271-a7274UPF.js"),[]).then(r=>r.default),"./assets/DSC_0272.jpg":()=>ce(()=>import("./DSC_0272-DrR4PuOy.js"),[]).then(r=>r.default),"./assets/DSC_0274.jpg":()=>ce(()=>import("./DSC_0274-DxiZ_Kuf.js"),[]).then(r=>r.default),"./assets/DSC_0275.jpg":()=>ce(()=>import("./DSC_0275-CyniOyyK.js"),[]).then(r=>r.default),"./assets/DSC_0276.jpg":()=>ce(()=>import("./DSC_0276-Z7TiIwsc.js"),[]).then(r=>r.default),"./assets/DSC_0277.jpg":()=>ce(()=>import("./DSC_0277-CPLiouyN.js"),[]).then(r=>r.default)}),Dw=Object.entries(xD).sort(([r],[e])=>r.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})),bD=Dw.length,ED=async()=>await Promise.all(Dw.map(async([e,n],i)=>{const o=await n(),c=e.match(/(DSC_\d+)\.jpg$/i),d=c?c[1].toUpperCase():`PHOTO_${i+1}`;return{id:i+1,src:o,title:_o[d]||`Seefront Valentine's Day - ${d.replace("_"," ")}`}})),hp=18,wD=[{id:1,src:Go,title:_o.DSC_0184},{id:2,src:Hd,title:_o.DSC_0186},{id:3,src:qd,title:_o.DSC_0214},{id:4,src:Tw,title:_o.DSC_0230},{id:5,src:Sw,title:_o.DSC_0245}],xb=[{key:"seefront-valentines",title:"Seefront Valentine's Day Event",subtitle:"Public Gallery",description:"A cinematic Valentine shoot captured along the Seefront.",cover:Go,photoCount:bD,loadPhotos:ED}],TD=()=>h.jsx("svg",{className:"w-16 h-16 text-custom-gold mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),SD=({openGallery:r})=>{const[e,n]=V.useState([]),[i,o]=V.useState(!0);V.useEffect(()=>{if(sessionStorage.getItem("scrollToPrivate")==="true"){const T=document.getElementById("private-session");T&&setTimeout(()=>T.scrollIntoView({behavior:"smooth",block:"center"}),100),sessionStorage.removeItem("scrollToPrivate")}},[]),V.useEffect(()=>{if(!Ye)return;const E=Kc("portfolio",T=>{n(T),o(!1)});return()=>E&&E()},[]);const c=e.length>0,d=V.useRef({}),p=(E,T)=>{const D=d.current[E];if(!D)return;const P=D.querySelector("[data-portfolio-card]"),z=P?P.getBoundingClientRect().width:360;D.scrollBy({left:T*(z+24),behavior:"smooth"})},g=(E,T,D)=>h.jsxs("div",{className:"portfolio-row",children:[h.jsxs("div",{className:"portfolio-row-head",children:[h.jsx("h3",{className:"portfolio-row-title",children:E}),h.jsxs("div",{className:"portfolio-row-actions group",children:[h.jsx("button",{type:"button",onClick:()=>p(D,-1),className:"portfolio-nav",children:"Prev"}),h.jsx("button",{type:"button",onClick:()=>p(D,1),className:"portfolio-nav",children:"Next"}),h.jsx("button",{type:"button",onClick:()=>r(D),className:"portfolio-row-link link-underline",children:"Open Folder "})]})]}),h.jsx("div",{ref:P=>{d.current[D]=P},className:"portfolio-row-track flex overflow-x-auto pb-8 gap-6 px-4 snap-x snap-mandatory scrollbar-hide",children:T.map(P=>h.jsxs("button",{type:"button",onClick:()=>r(D),"data-portfolio-card":!0,className:"snap-center shrink-0 w-80 md:w-96 glass-card rounded-xl p-4 flex flex-col items-center group cursor-pointer relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-black/90 opacity-0 group-hover:opacity-100 transition duration-500 z-30"}),h.jsx("div",{className:"w-full h-64 overflow-hidden rounded-lg mb-4",children:h.jsx("img",{src:P.src,alt:P.title,loading:"lazy",decoding:"async",className:"w-full h-full object-cover transform group-hover:scale-110 transition duration-700"})}),h.jsxs("div",{className:"relative z-40 text-center transform translate-y-2 group-hover:translate-y-0 transition duration-500",children:[h.jsx("h4",{className:"text-xl font-bold text-white group-hover:text-custom-gold transition",children:P.title}),h.jsx("span",{className:"text-xs text-gray-400 mt-2 inline-block opacity-0 group-hover:opacity-100 transition delay-100 link-underline",children:"Click to open folder"})]})]},P.id))}),h.jsx("p",{className:"text-sm text-gray-400 px-4 -mt-2",children:"Showing 5 preview photos. Browse the full set inside Wall Of Fame."})]}),y=(E,T)=>h.jsxs("div",{className:"portfolio-row",children:[h.jsxs("div",{className:"portfolio-row-head",children:[h.jsx("h3",{className:"portfolio-row-title",children:E}),h.jsx("div",{className:"portfolio-row-actions group",children:h.jsx("a",{href:T,target:"_blank",rel:"noreferrer",className:"portfolio-row-link link-underline",children:"View Full Gallery "})})]}),h.jsxs("a",{href:T,target:"_blank",rel:"noreferrer",className:"glass-card rounded-xl p-4 flex flex-col items-center group cursor-pointer relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-black/90 opacity-0 group-hover:opacity-100 transition duration-500 z-10"}),h.jsx("div",{className:"w-full h-64 overflow-hidden rounded-lg",children:h.jsx("video",{src:Fp,className:"w-full h-full object-cover transform group-hover:scale-110 transition duration-700",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"none"})})]})]}),{role:x}=Js();return h.jsxs("div",{className:"min-h-screen bg-custom-dark pb-24",children:[h.jsxs("div",{className:"page-hero mb-16",children:[h.jsx("video",{className:"hero-smoke-video thin-header-video",src:wa,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"metadata"}),h.jsx("div",{className:"absolute inset-0 bg-black/60 z-10"}),h.jsxs("div",{className:"container mx-auto px-4 md:px-6 relative z-10 text-center",children:[h.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-white",children:["Our ",h.jsx("span",{className:"text-custom-gold",children:"Work"})]}),h.jsx("p",{className:"text-lg text-gray-300 mt-6 max-w-2xl mx-auto",children:"Capturing moments of endurance, precision, and raw emotion. Explore our recent public events below."}),x==="admin"&&h.jsx($n,{to:"/admin",className:"text-xs px-3 py-2 rounded border border-custom-gold text-custom-gold hover:bg-custom-gold hover:text-black",children:"Edit in Admin"})]})]}),h.jsx("section",{className:"py-6 md:py-10",children:h.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[h.jsxs("h2",{className:"text-4xl md:text-5xl font-extrabold text-center text-white",children:["SHOCKWAVE ",h.jsx("span",{className:"text-custom-gold",children:"Portfolio"})]}),h.jsx("p",{className:"text-lg text-gray-300 text-center max-w-3xl mx-auto mt-4",children:"Two focused divisions, one shared vision. Explore photography and videography side by side."}),h.jsxs("div",{className:"gallery-bar text-center mt-10",children:[h.jsx("span",{className:"gallery-label"}),h.jsx("button",{type:"button",onClick:()=>r(),className:"gallery-button",children:"View Wall Of Fame"}),h.jsx("span",{className:"gallery-label"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-10",children:[h.jsxs("div",{className:"flex flex-col gap-6",children:[h.jsxs("div",{className:"portfolio-panel",children:[h.jsxs("div",{className:"photo-preview",children:[h.jsx("img",{className:"photo-slide",src:Go,alt:"Valentine's Day shoot preview 1"}),h.jsx("img",{className:"photo-slide photo-slide--b",src:Hd,alt:"Valentine's Day shoot preview 2"}),h.jsx("img",{className:"photo-slide photo-slide--c",src:qd,alt:"Valentine's Day shoot preview 3"})]}),h.jsx("div",{className:"portfolio-panel-overlay"}),h.jsxs("div",{className:"portfolio-panel-content",children:[h.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-custom-gold",children:"SHOCKWAVE: Photography"}),h.jsx("h3",{className:"text-3xl font-extrabold text-white",children:"Still frames that feel cinematic"}),h.jsx("p",{className:"text-gray-300 max-w-md",children:"Editorial photo sets, fast-moving event coverage, and private sessions with total discretion."}),h.jsx("button",{type:"button",onClick:()=>r("seefront-valentines"),className:"panel-cta",children:"View Photography"})]})]}),h.jsx("div",{id:"portfolio-photography",className:"portfolio-folder",children:g("SEEFRONT VALENTINE'S DAY EVENT",wD,"seefront-valentines")})]}),h.jsxs("div",{className:"flex flex-col gap-6",children:[h.jsxs("div",{className:"portfolio-panel",children:[h.jsx("div",{className:"video-preview",children:h.jsx("video",{className:"video-preview-media",src:Fp,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"none"})}),h.jsx("div",{className:"portfolio-panel-overlay"}),h.jsxs("div",{className:"portfolio-panel-content",children:[h.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-custom-gold",children:"SHOCKWAVE: Videography"}),h.jsx("h3",{className:"text-3xl font-extrabold text-white",children:"Wide compositions, moving stories"}),h.jsx("p",{className:"text-gray-300 max-w-md",children:"Commercial edits, launch films, and social-first reels with a clean, cinematic finish."}),h.jsx("button",{className:"panel-cta",children:"View Videography"})]})]}),h.jsx("div",{className:"portfolio-folder",children:y("SEEFRONT VALENTINE'S DAY SHOOT","https://SHOCKWAVEdigitalmarketing.pixieset.com/")})]})]})]})}),h.jsx("div",{className:"container mx-auto px-4 md:px-6 mt-24",children:h.jsxs("div",{className:"relative rounded-2xl overflow-hidden border border-gray-800",children:[h.jsx("div",{className:"absolute inset-0 bg-cover bg-center filter blur-xl scale-110 opacity-30",style:{backgroundImage:`url(${k3})`}}),h.jsx("div",{className:"absolute inset-0 bg-black/60"}),h.jsx("div",{id:"private-session",className:"relative z-10 py-24 px-6 text-center flex flex-col items-center justify-center",children:h.jsxs("div",{className:"bg-black/40 backdrop-blur-md p-8 md:p-12 rounded-2xl border border-custom-gold/30 shadow-2xl max-w-3xl",children:[h.jsx(TD,{}),h.jsx("h3",{className:"text-3xl font-extrabold text-white mb-4",children:"Private & Confidential"}),h.jsxs("p",{className:"text-lg md:text-xl text-gray-300 leading-relaxed font-light",children:['"Your privacy is our priority. We offer exclusive private sessions with a strict ',h.jsx("span",{className:"text-custom-gold font-bold",children:"Non-Disclosure Guarantee"}),'. At your request, your images remain offline never shared on our website or social media. For your eyes only."']}),h.jsx("a",{href:"mailto:shockwave.office@gmail.com?subject=Private Session Inquiry",className:"mt-8 inline-block bg-transparent border border-custom-gold text-custom-gold px-8 py-3 rounded hover:bg-custom-gold hover:text-black font-bold uppercase tracking-widest transition duration-300",children:"Book a Private Session"})]})}),c?h.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(E=>h.jsxs("div",{className:"glass-card rounded-xl p-4 border border-gray-800 flex flex-col gap-3",children:[E.image&&h.jsx("div",{className:"rounded-lg overflow-hidden h-52 bg-black/30",children:h.jsx("img",{src:E.image,alt:E.title,className:"w-full h-full object-cover"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold text-white",children:E.title}),h.jsx("p",{className:"text-sm text-gray-400",children:E.tags?.join(", ")})]}),h.jsx("p",{className:"text-gray-300 text-sm",children:E.description})]},E.id))}):h.jsx(h.Fragment,{})]})}),h.jsx(Gd,{label:"Edit Portfolio",href:"/admin"})]})},AD=({selectedGalleryKey:r,openGallery:e})=>{const[n,i]=V.useState(null),[o,c]=V.useState(hp),[d,p]=V.useState({}),[g,y]=V.useState(!1),x=xb.find(Y=>Y.key===r)||null,E=x?d[x.key]||[]:[],T=V.useMemo(()=>x?E.slice(0,o):[],[x,E,o]),D=!!(x&&o<E.length),P=x&&n!==null?E[n]:null,z=V.useCallback(()=>i(null),[]),M=V.useCallback(()=>{!x||n===null||i((n-1+x.photos.length)%x.photos.length)},[x,n]),X=V.useCallback(()=>{!x||n===null||i((n+1)%x.photos.length)},[x,n]);return V.useEffect(()=>{c(hp),i(null)},[r]),V.useEffect(()=>{(async()=>{if(x&&!d[x.key]&&typeof x.loadPhotos=="function"){y(!0);try{const K=await x.loadPhotos();p(ie=>({...ie,[x.key]:K||[]}))}finally{y(!1)}}})()},[d,x]),V.useEffect(()=>{if(n===null)return;const Y=K=>{K.key==="Escape"&&z(),K.key==="ArrowLeft"&&M(),K.key==="ArrowRight"&&X()};return window.addEventListener("keydown",Y),()=>window.removeEventListener("keydown",Y)},[z,X,M,n]),h.jsxs("div",{className:"min-h-screen bg-custom-dark pb-24",children:[h.jsxs("div",{className:"page-hero mb-16",children:[h.jsx("img",{className:"hero-smoke-video thin-header-video",src:x?.cover||Go,alt:"Wall of Fame banner"}),h.jsx("div",{className:"absolute inset-0 bg-black/65 z-10"}),h.jsxs("div",{className:"container mx-auto px-4 md:px-6 relative z-10 text-center",children:[h.jsx("p",{className:"text-xs uppercase tracking-[0.32em] text-custom-gold",children:"SHOCKWAVE Gallery"}),h.jsx("h1",{className:"text-5xl md:text-7xl font-extrabold text-white mt-4",children:"Wall Of Fame"}),h.jsx("p",{className:"text-lg text-gray-300 mt-5 max-w-3xl mx-auto",children:"Public galleries from every shoot we choose to showcase. Built for browsing like a private client gallery."})]})]}),h.jsx("div",{className:"container mx-auto px-4 md:px-6",children:x?h.jsxs("section",{className:"space-y-8",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm uppercase tracking-[0.24em] text-custom-gold",children:x.subtitle}),h.jsx("h2",{className:"text-4xl font-extrabold text-white mt-2",children:x.title}),h.jsx("p",{className:"text-gray-300 mt-3",children:x.description})]}),h.jsx("button",{type:"button",onClick:()=>e(),className:"px-5 py-3 rounded-full border border-custom-gold text-custom-gold hover:bg-custom-gold hover:text-black font-bold tracking-[0.14em] uppercase",children:"All Galleries"})]}),h.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map((Y,K)=>h.jsxs("button",{type:"button",onClick:()=>i(K),className:"glass-card rounded-xl p-3 text-left group",children:[h.jsx("div",{className:"aspect-[4/3] overflow-hidden rounded-lg",children:h.jsx("img",{src:Y.src,alt:Y.title,loading:"lazy",decoding:"async",className:"w-full h-full object-cover transform group-hover:scale-105 transition duration-700"})}),h.jsx("p",{className:"mt-3 text-sm text-gray-300 group-hover:text-custom-gold transition",children:Y.title})]},Y.id))}),g&&h.jsx("p",{className:"text-center text-sm text-gray-400",children:"Loading photos..."}),D&&h.jsx("div",{className:"flex justify-center pt-2",children:h.jsx("button",{type:"button",onClick:()=>c(Y=>Y+hp),className:"px-6 py-3 rounded-full border border-custom-gold text-custom-gold hover:bg-custom-gold hover:text-black font-bold uppercase tracking-[0.14em]",children:"Load More"})})]}):h.jsxs("section",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h2",{className:"text-3xl font-extrabold text-white",children:"Gallery Folders"}),h.jsx("p",{className:"text-sm text-gray-400",children:"Open a folder to browse photos"})]}),h.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:xb.map(Y=>h.jsxs("button",{type:"button",onClick:()=>e(Y.key),className:"glass-card rounded-2xl overflow-hidden text-left group",children:[h.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:h.jsx("img",{src:Y.cover,alt:Y.title,loading:"lazy",decoding:"async",className:"w-full h-full object-cover transform group-hover:scale-105 transition duration-700"})}),h.jsxs("div",{className:"p-5",children:[h.jsx("p",{className:"text-xs uppercase tracking-[0.22em] text-custom-gold",children:Y.subtitle}),h.jsx("h3",{className:"text-2xl font-bold text-white mt-2",children:Y.title}),h.jsx("p",{className:"text-gray-300 text-sm mt-3",children:Y.description}),h.jsxs("p",{className:"text-xs text-gray-400 mt-3",children:[Y.photoCount||0," photos"]})]})]},Y.key))})]})}),P&&h.jsx("div",{className:"fixed inset-0 z-[100] bg-black/90 p-4 md:p-8 flex items-center justify-center",onClick:z,children:h.jsxs("div",{className:"relative w-full max-w-6xl",onClick:Y=>Y.stopPropagation(),children:[h.jsx("button",{type:"button",className:"absolute -top-12 right-0 text-white text-sm tracking-[0.2em] uppercase",onClick:z,children:"Close"}),h.jsx("img",{src:P.src,alt:P.title,className:"w-full max-h-[78vh] object-contain rounded-lg"}),h.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[h.jsx("button",{type:"button",onClick:M,className:"portfolio-nav",children:"Prev"}),h.jsx("p",{className:"text-gray-200 text-sm",children:P.title}),h.jsx("button",{type:"button",onClick:X,className:"portfolio-nav",children:"Next"})]})]})})]})},ND=()=>{const[r,e]=V.useState(mc),[n,i]=V.useState(!0),[o,c]=V.useState(null);V.useEffect(()=>{if(!Ye){e(mc),i(!1);return}const p=Kc("blog",g=>{e(g&&g.length?g:mc),i(!1)});return()=>p&&p()},[]);const{role:d}=Js();return h.jsxs("div",{className:"min-h-screen bg-custom-dark pb-24",children:[h.jsxs("div",{className:"page-hero mb-16",children:[h.jsx("video",{className:"hero-smoke-video thin-header-video",src:wa,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"metadata"}),h.jsx("div",{className:"absolute inset-0 bg-black/60 z-10"}),h.jsxs("div",{className:"container mx-auto px-4 md:px-6 relative z-10 text-center",children:[h.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-white",children:["Our ",h.jsx("span",{className:"text-custom-gold",children:"Blog"})]}),h.jsx("p",{className:"text-lg text-gray-300 mt-6 max-w-2xl mx-auto",children:"Insights from the frontlines. Fresh content updates live from Firestore."}),d==="admin"&&h.jsx($n,{to:"/admin",className:"text-xs px-3 py-2 rounded border border-custom-gold text-custom-gold hover:bg-custom-gold hover:text-black",children:"Edit in Admin"})]})]}),h.jsx(Gd,{label:"Edit Blog",href:"/admin"}),h.jsxs("div",{className:"container mx-auto px-4",children:[n&&h.jsx("p",{className:"text-center text-gray-400",children:"Loading articles..."}),!n&&r.length===0&&h.jsx("p",{className:"text-center text-gray-400",children:"No posts yet. Add one in the Admin."}),h.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:r.map(p=>h.jsxs("button",{onClick:()=>c(p),className:"glass-card border border-gray-800 rounded-2xl p-6 space-y-3 text-left w-full hover:border-custom-gold transition",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs("div",{children:[h.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-custom-gold",children:p.category}),h.jsx("h3",{className:"text-2xl font-bold text-white",children:p.title})]})}),p.image&&h.jsx("div",{className:"rounded-lg overflow-hidden bg-black/30 h-40",children:h.jsx("img",{src:p.image,alt:p.title,className:"w-full h-full object-cover"})}),h.jsx("div",{className:"text-gray-100 text-base leading-7 rich-text-content",dangerouslySetInnerHTML:{__html:p.excerpt}}),h.jsxs("span",{className:"text-custom-gold font-semibold text-sm inline-flex items-center gap-2",children:["Read more",h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]},p.id))})]}),o&&h.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center px-4",children:[h.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>c(null)}),h.jsxs("div",{className:"relative bg-custom-card border border-custom-gold/40 rounded-2xl shadow-2xl max-w-4xl w-full max-h-[85vh] overflow-hidden animate-fade-in",children:[h.jsx("div",{className:"absolute -top-24 -right-24 w-64 h-64 bg-custom-gold blur-[140px] opacity-10 pointer-events-none"}),h.jsxs("div",{className:"flex justify-between items-start p-6 border-b border-gray-800",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-custom-gold",children:o.category}),h.jsx("h3",{className:"text-3xl font-extrabold text-white mt-1",children:o.title})]}),h.jsx("button",{onClick:()=>c(null),className:"text-gray-400 hover:text-white p-2",children:h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),h.jsx("div",{className:"p-6 pt-4",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 items-start max-h-[70vh]",children:[o.image&&h.jsx("div",{className:"md:col-span-2 w-full bg-black/40 rounded-lg overflow-hidden h-48 md:h-56",children:h.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-contain"})}),h.jsxs("div",{className:`${o.image?"md:col-span-3":"md:col-span-5"} overflow-y-auto max-h-[60vh] space-y-4 text-gray-100 leading-7 rich-text-content`,children:[o.excerpt&&h.jsx("div",{className:"text-gray-100 text-lg",dangerouslySetInnerHTML:{__html:o.excerpt}}),o.body?h.jsx("div",{className:"text-gray-100 text-base md:text-lg",dangerouslySetInnerHTML:{__html:o.body}}):h.jsx("p",{className:"text-gray-500 text-sm",children:"No body content provided."})]})]})})]})]})]})},RD=({user:r})=>{const e={tier:"SCOUT",rollingSpend:0,balance:0,missions:[{key:"first_purchase",label:"First Blood",points:50,completed:!1},{key:"review",label:"The Loudspeaker (Review)",points:100,completed:!1},{key:"referral",label:"The Headhunter (Referral)",points:1e3,completed:!1}],rewards:[{id:"credit-100",name:"R100 Account Credit",costPoints:100},{id:"audit",name:"Free SEO Audit",costPoints:450},{id:"session",name:"Strategy Session",costPoints:650}]},{nextTier:n,spendToNext:i,progressPct:o}=Y4(e.tier,e.rollingSpend);return h.jsx("div",{className:"bg-custom-dark min-h-screen pt-32 pb-24",children:h.jsxs("div",{className:"container mx-auto px-4 md:px-6 space-y-8",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-custom-gold",children:"The SHOCKWAVE Guild"}),h.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-white mt-2",children:"Account & Rewards"}),h.jsx("p",{className:"text-gray-300 mt-3",children:"Track your GG Points, tier progress, and missions in one place."})]}),!r&&h.jsx($n,{to:"/login",className:"bg-custom-gold text-black font-bold px-4 py-3 rounded-lg shadow hover:bg-white transition",children:"Sign in to sync"})]}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"glass-card border border-gray-800 rounded-xl p-6 space-y-2",children:[h.jsx("p",{className:"text-sm text-gray-400",children:"Available"}),h.jsxs("p",{className:"text-4xl font-extrabold text-white",children:[e.balance," ",G4]}),h.jsxs("p",{className:"text-gray-300",children:[" R",Q4(e.balance)]}),h.jsx("p",{className:"text-xs text-gray-500",children:"Earn: R28.57 = 1 GG. Redeem: 1 GG = R1."})]}),h.jsxs("div",{className:"glass-card border border-gray-800 rounded-xl p-6 space-y-3 md:col-span-2",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-custom-gold",children:"Status"}),h.jsx("h3",{className:"text-2xl font-bold text-white",children:e.tier}),h.jsxs("p",{className:"text-sm text-gray-400",children:["Rolling 12m spend: R",e.rollingSpend.toLocaleString()]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("p",{className:"text-sm text-gray-400",children:["Next: ",n]}),h.jsx("p",{className:"text-sm text-white",children:i>0?`R${i.toLocaleString()} to upgrade`:"Top tier reached"})]})]}),h.jsx("div",{className:"h-3 bg-gray-800 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-custom-gold",style:{width:`${o}%`}})}),h.jsx("p",{className:"text-xs text-gray-500",children:"Cashback: Scout 3.5% | Captain 4.5% | General 5.5% ..."})]})]}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"glass-card border border-gray-800 rounded-xl p-6 space-y-3 md:col-span-2",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"text-lg font-bold text-white",children:"Missions"}),h.jsx("span",{className:"text-xs text-gray-400",children:"One-off bonuses"})]}),h.jsx("div",{className:"space-y-2",children:e.missions.map(c=>h.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 rounded-lg p-3",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-white",children:c.label}),h.jsxs("p",{className:"text-sm text-gray-400",children:["+",c.points," GG"]})]}),h.jsx("span",{className:`text-xs px-3 py-1 rounded-full ${c.completed?"bg-custom-gold text-black font-bold":"border border-gray-700 text-gray-300"}`,children:c.completed?"Completed":"Available"})]},c.key))})]}),h.jsxs("div",{className:"glass-card border border-gray-800 rounded-xl p-6 space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"text-lg font-bold text-white",children:"Rewards"}),h.jsx("span",{className:"text-xs text-gray-400",children:"Redeem with GG"})]}),h.jsx("div",{className:"space-y-2",children:e.rewards.map(c=>h.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 rounded-lg p-3",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-white",children:c.name}),h.jsxs("p",{className:"text-sm text-gray-400",children:[c.costPoints," GG"]})]}),h.jsx("button",{className:"text-xs px-3 py-1 rounded bg-gray-700 text-gray-300 cursor-not-allowed",children:"Soon"})]},c.id))}),h.jsx($n,{to:"/rewards",className:"block text-center text-sm text-custom-gold mt-2 hover:underline",children:"View stamps & rewards"})]})]}),h.jsxs("div",{className:"glass-card border border-gray-800 rounded-xl p-6 space-y-2",children:[h.jsx("h3",{className:"text-lg font-bold text-white",children:"How points are calculated"}),h.jsxs("ul",{className:"text-sm text-gray-300 space-y-1 list-disc list-inside",children:[h.jsx("li",{children:"Service fees earn points at R28.57 = 1 GG, multiplied by your tier."}),h.jsx("li",{children:"Ad spend is excluded from points."}),h.jsx("li",{children:"1 GG = R1 when redeeming."}),h.jsx("li",{children:"Missions give one-off bonuses for key actions."})]})]})]})})},CD=()=>h.jsxs("div",{className:"container mx-auto px-4 md:px-6 py-36 md:py-48 text-center",children:[h.jsx("h1",{className:"text-5xl font-extrabold text-white",children:"Pages"}),h.jsx("p",{className:"text-lg text-gray-300 mt-4",children:"This is a placeholder for other pages. Check back soon!"})]}),ID=({cart:r,checkoutUser:e})=>{const n=r.reduce((o,c)=>{const d=Fd(c.price);return o+d*c.qty},0),i=()=>{localStorage.setItem("temp_cart",JSON.stringify(r)),localStorage.setItem("temp_user",JSON.stringify(e)),localStorage.setItem("temp_total",n);const o=Math.ceil(n*100),c=e?.name||"Guest";window.location.href=`/pay.html?amount=${o}&name=${encodeURIComponent(c)}`};return h.jsx("div",{className:"min-h-screen bg-black flex flex-col items-center justify-center p-4",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Proceeding to Payment Gateway..."}),h.jsxs("div",{className:"glass-card p-8 rounded-xl max-w-md mx-auto border border-custom-gold/30",children:[h.jsx("p",{className:"text-gray-300 mb-6",children:"You are about to be redirected to a secure payment page."}),h.jsxs("div",{className:"flex justify-between text-xl font-bold text-custom-gold mb-8 border-t border-b border-gray-700 py-4",children:[h.jsx("span",{children:"Total to Pay"}),h.jsxs("span",{children:["R ",n]})]}),h.jsx("button",{onClick:i,className:"w-full bg-custom-gold text-black font-extrabold text-lg py-4 rounded-lg hover:bg-white transition duration-300 shadow-lg",children:"Click to Pay Now"})]})]})})};function jD(){const[r,e]=V.useState(null),n=vs(),i=Ci(),[o]=$g(),c=V.useMemo(()=>W3(n.pathname),[n.pathname]),d=o.get("gallery"),[p,g]=V.useState([]),[y]=V.useState({name:"",email:""}),[x,E]=V.useState({balance:0,tier:"SCOUT",rolling12mSpend:0}),[T,D]=V.useState(()=>dc()),P=V.useMemo(()=>O4(p),[p]),{user:z}=Js();Z3(c);const M=(A,k="local")=>{D(I=>{const C=kn(typeof A=="function"?A(I):A);return fc(C),z?.uid&&(_a(z.uid,z.email||"",C,k),fs({type:"rewards:update",uid:z.uid,email:z.email||"",reason:k,collected:C.collectedStamps})),C})},X=()=>{let A=kn(T);return M(k=>(A=qg(k),A),"purchase"),A};V.useEffect(()=>{D(dc())},[]),V.useEffect(()=>{(async()=>{if(!z?.uid){E({balance:0,tier:"SCOUT",rolling12mSpend:0});return}await lp(z.uid,z.email||"");const k=await H4(z.uid);E({balance:k.balance||0,tier:k.tier||"SCOUT",rolling12mSpend:k.rolling12mSpend||0})})()},[z]),V.useEffect(()=>{(async()=>{if(!z?.uid)return;await ud(z.uid,z.email||"");const k=dc(),I=await Yc(z.uid),C=I||k;C&&(D(C),fc(C),!I&&z?.uid&&_a(z.uid,z.email||"",C,"local_merge"))})()},[z]),V.useEffect(()=>{const A=new MutationObserver(k=>{k.forEach(I=>{I.addedNodes.length&&I.addedNodes.forEach(C=>{if(C.nodeType===1){const R=C.tagName==="IFRAME"&&C.src&&C.src.includes("yoco"),De=C.querySelector&&C.querySelector('iframe[src*="yoco"]');(R||De)&&(C.style.setProperty("z-index","2147483647","important"),C.style.setProperty("position","fixed","important"),C.style.setProperty("top","0","important"),C.style.setProperty("left","0","important"),C.style.setProperty("width","100%","important"),C.style.setProperty("height","100%","important"))}})})});return A.observe(document.body,{childList:!0,subtree:!0}),()=>A.disconnect()},[]),V.useEffect(()=>{const A=new URLSearchParams(window.location.search),k=A.get("payment_success"),I=A.get("id");if(k==="true"&&I){const C=JSON.parse(localStorage.getItem("temp_cart")||"[]"),R=JSON.parse(localStorage.getItem("temp_user")||"{}"),De=localStorage.getItem("temp_total");C.length>0&&(M4({items:C,total:De,customer:R,paymentId:I}).then(async()=>{const $=`You now have ${X().collectedStamps.length} of ${da} stamps toward your free photoshoot.`;await ie(De),fs({type:"order:paid",uid:z?.uid,email:z?.email||R?.email||"",paymentId:I,total:De}),alert(`Payment Successful! Your order has been recorded.
${$}`)}),g([]),localStorage.removeItem("temp_cart"),localStorage.removeItem("temp_user"),localStorage.removeItem("temp_total"),window.history.replaceState({},document.title,"/"))}},[]),V.useEffect(()=>{if(c==="gallery"){e(d||null);return}e(null)},[c,d]);const Y=(A,k={})=>{const I=ut[A]||ut.home,C=new URLSearchParams;A==="gallery"&&k.galleryKey&&C.set("gallery",k.galleryKey);const R=C.toString();i(R?`${I}?${R}`:I),window.scrollTo(0,0)},K=(A=null)=>{Y("gallery",{galleryKey:A})},ie=async A=>{if(!z?.uid)return;const k=Number(A)||0;if(!(k<=0))try{await lp(z.uid,z.email||"");const I=await F4({uid:z.uid,email:z.email||"",amountZar:k,source:"order_paid",rolling12mSpend:x.rolling12mSpend||0});I?.newBalance!==void 0&&E(C=>({...C,balance:I.newBalance})),fs({type:"rewards:points_earn",uid:z?.uid,email:z?.email||"",amountZar:k,points:I?.pointsAwarded||0})}catch(I){console.error("Failed to award points",I)}},me=A=>{g(k=>k.find(C=>C.id===A.id&&C.name===A.name)?k.map(C=>C.id===A.id&&C.name===A.name?{...C,qty:C.qty+1}:C):[...k,{...A,qty:1}])},xe=A=>{g(k=>k.filter(I=>I.id!==A))},j=async(A=[],k=null)=>{if(!z){alert("Please log in to use GG points."),Y("account");return}const I=k!==null?k:A.reduce((C,R)=>{const De=Fd(R.price);return C+De*(R.qty||1)},0);if(I<=0){alert("Cart total must be greater than zero.");return}try{await lp(z.uid,z.email||"");const C=await q4({uid:z.uid,email:z.email||"",cartItems:A});E(R=>({...R,balance:C?.newBalance??Math.max(0,(R.balance||0)-I)})),g([]),fs({type:"order:redeem",uid:z?.uid,email:z?.email||"",total:I}),alert(`Redeemed ${I} GG. New balance: ${C?.newBalance??Math.max(0,(x.balance||0)-I)} GG.`),Y("home")}catch(C){alert(C?.message||"Redeem failed. Please try again.")}},N=()=>{switch(c){case"home":return h.jsx(_b,{navigate:Y});case"about":return h.jsx(gD,{});case"services":return h.jsx(_D,{navigate:Y,addToCart:me});case"portfolio":return h.jsx(SD,{openGallery:K});case"gallery":return h.jsx(AD,{selectedGalleryKey:r,openGallery:K});case"blog":return h.jsx(ND,{});case"account":return h.jsx(RD,{user:z});case"shop":return h.jsx(dD,{navigate:Y,addToCart:me});case"cart":return h.jsx(hD,{cart:p,removeFromCart:xe,navigate:Y,loyaltyBalance:x.balance,onRedeemWithPoints:j});case"checkout":return h.jsx(ID,{cart:p,navigate:Y,checkoutUser:y});case"pages":return h.jsx(CD,{});default:return h.jsx(_b,{navigate:Y})}};return h.jsxs("div",{className:"bg-custom-dark min-h-screen flex flex-col",children:[c!=="checkout"&&h.jsx(iD,{navigate:Y,currentPage:c,cartCount:P}),h.jsx("main",{className:"flex-grow",children:N()}),c!=="checkout"&&h.jsx(aD,{navigate:Y})]})}function DD(){const[r,e]=V.useState(!1);return V.useEffect(()=>{let n,i;const o=()=>e(!0);return typeof window<"u"&&"requestIdleCallback"in window?i=window.requestIdleCallback(o,{timeout:2e3}):n=window.setTimeout(o,1200),()=>{i&&typeof window<"u"&&"cancelIdleCallback"in window&&window.cancelIdleCallback(i),n&&window.clearTimeout(n)}},[]),h.jsx(b3,{children:h.jsxs(u3,{children:[h.jsx(gd,{}),h.jsx(V.Suspense,{fallback:h.jsx("div",{className:"min-h-screen bg-custom-dark text-gray-400 flex items-center justify-center",children:"Loading..."}),children:h.jsxs(zj,{children:[h.jsx(la,{path:"/rewards/:codeId",element:h.jsx(sD,{})}),h.jsx(la,{path:"/rewards",element:h.jsx(nD,{})}),h.jsx(la,{path:"/reward",element:h.jsx(tD,{})}),h.jsx(la,{path:"/login",element:h.jsx(F3,{})}),h.jsx(la,{path:"/admin/*",element:h.jsx(E3,{roles:["admin"],children:h.jsx(G3,{})})}),h.jsx(la,{path:"/*",element:h.jsx(jD,{})})]})}),h.jsx(V.Suspense,{fallback:null,children:r&&h.jsx(q3,{})})]})})}_S.createRoot(document.getElementById("root")).render(h.jsx(V.StrictMode,{children:h.jsx(DD,{})}));export{da as R,ha as V,Ci as a,vs as b,hs as c,PD as d,Ye as e,LD as f,z4 as g,fs as h,UD as i,h as j,zD as k,Kc as l,aw as m,BD as n,kn as o,_a as p,qD as q,V as r,rN as s,HD as t,Js as u,MD as v,gS as w,OD as x,cS as y,kD as z};
