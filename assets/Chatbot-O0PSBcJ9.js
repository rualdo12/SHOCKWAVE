import{j as e,r as n}from"./main-DPc0gKwb.js";const A=[{match:/services|offer|what do you do/i,response:"We specialize in photography, cinematic video, digital marketing, and branding. Tell me what you need and I can guide you to the right service."},{match:/pricing|price|cost|rate|quote/i,response:"Pricing depends on scope, location, and turnaround. If you'd like, I can connect you to a quote request and gather a few details first."},{match:/portfolio|work|examples/i,response:"You can explore our latest work in the portfolio section. Want me to point you to photography, video, or brand case studies?"},{match:/book|booking|schedule|availability/i,response:"We can help you book a shoot or consultation. Share your city, preferred date range, and the type of project."},{match:/contact|email|call/i,response:"You can reach the SHOCKWAVE team via the Contact section on the site. I can also collect your name and project details to pass along."}],S="Happy to help. Tell me a bit about your project (type of shoot, location, and timing) and I will point you to the next step.",I="http://localhost:3001/api/ai/chat";async function D(t,o){{const r=await fetch(I,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({history:t,message:o})});if(!r.ok)throw new Error("Chat service error");const i=await r.json();if(i?.reply)return i.reply}const s=A.find(r=>r.match.test(o));return s?s.response:S}const y=[{id:"init-1",text:"Welcome to SHOCKWAVE! How can I help you today? Feel free to ask about our photography, video, or marketing services.",sender:"bot"}],F=["Services","Portfolio","Contact Us"],_=({message:t})=>{const o=t.sender==="user";return e.jsx("div",{className:`flex ${o?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-xs md:max-w-md lg:max-w-lg px-4 py-2 rounded-2xl ${o?"bg-[#D4AF37] text-black rounded-br-lg shadow-[0_6px_16px_rgba(253,190,51,0.25)]":"bg-[#1d1d1d] text-gray-100 rounded-bl-lg border border-[#2a2a2a]"}`,children:e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:t.text})})})},E=()=>e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"rounded-2xl rounded-bl-lg border border-[#2a2a2a] bg-[#1d1d1d] px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[e.jsx("div",{className:"h-2 w-2 animate-bounce rounded-full bg-[#D4AF37] [animation-delay:-0.3s]"}),e.jsx("div",{className:"h-2 w-2 animate-bounce rounded-full bg-[#D4AF37] [animation-delay:-0.15s]"}),e.jsx("div",{className:"h-2 w-2 animate-bounce rounded-full bg-[#D4AF37]"})]})})}),L=({replies:t,onClick:o})=>e.jsx("div",{className:"flex flex-wrap gap-2 justify-start",children:t.map(s=>e.jsx("button",{onClick:()=>o(s),className:"rounded-full border border-[#2a2a2a] bg-[#141414] px-3 py-1.5 text-sm font-medium text-gray-200 transition hover:border-[#D4AF37] hover:text-[#D4AF37]",children:s},s))}),M=({isOpen:t,onClose:o})=>{const[s,r]=n.useState(y),[i,u]=n.useState(""),[l,h]=n.useState(!1),[x,p]=n.useState(null),m=n.useRef(null),b=s.length<=y.length&&!l,j=()=>{m.current?.scrollIntoView({behavior:"smooth"})};n.useEffect(()=>{t&&setTimeout(j,100)},[t,s]);const g=async a=>{const c=a.trim();if(!c)return;const N={id:Date.now().toString(),text:c,sender:"user"},f=[...s,N];r(f),h(!0),p(null);try{const w=await D(f,c),d={id:(Date.now()+1).toString(),text:w,sender:"bot"};r(C=>[...C,d])}catch{p("We are having trouble connecting right now. Please try again shortly."),r(d=>[...d,{id:(Date.now()+1).toString(),text:"I'm having trouble connecting right now. Please try again in a moment.",sender:"bot"}])}finally{h(!1)}},v=async a=>{a.preventDefault(),await g(i),u("")},k=async a=>{await g(a)};return e.jsxs("div",{className:"absolute bottom-20 right-0 w-[calc(100vw-2.5rem)] max-w-sm h-[70vh] max-h-[620px] rounded-2xl shadow-[0_18px_48px_rgba(0,0,0,0.55)] flex flex-col overflow-hidden border border-[#2b2b2b] bg-gradient-to-b from-[#141414] via-[#0f0f0f] to-[#0b0b0b]",children:[e.jsxs("header",{className:"p-4 bg-[#121212]/95 backdrop-blur border-b border-[#222] flex justify-between items-center",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"SHOCKWAVE AI Assistant"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Creative support for shoots, branding, and marketing."}),e.jsxs("p",{className:"mt-1 text-[11px] text-[#D4AF37] flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-[#D4AF37] rounded-full mr-1.5"}),"Online"]})]}),e.jsx("button",{onClick:o,className:"flex h-9 w-9 items-center justify-center rounded-full border border-[#2a2a2a] text-gray-400 transition hover:border-[#D4AF37] hover:text-white","aria-label":"Minimize chat",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.6,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})})]}),e.jsxs("div",{className:"flex-1 p-4 overflow-y-auto space-y-4 bg-[radial-gradient(circle_at_top,_rgba(255,255,255,0.04),_transparent_45%)]",children:[s.map(a=>e.jsx(_,{message:a},a.id)),l&&e.jsx(E,{}),e.jsx("div",{ref:m})]}),b&&e.jsx("div",{className:"px-4 py-3 border-t border-[#222]",children:e.jsx(L,{replies:F,onClick:k})}),e.jsxs("footer",{className:`p-4 bg-[#0f0f0f] ${b?"":"border-t border-[#222]"}`,children:[x&&e.jsx("div",{className:"mb-3 rounded-lg border border-[#3a2a10] bg-[#1b1305] px-3 py-2 text-xs text-[#D4AF37]",children:x}),e.jsxs("form",{onSubmit:v,className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:i,onChange:a=>u(a.target.value),placeholder:"Ask about services, pricing, or availability...",className:"flex-1 rounded-lg border border-[#2a2a2a] bg-[#151515] px-3 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[#D4AF37]/50",disabled:l}),e.jsx("button",{type:"submit",disabled:l||!i.trim(),className:"rounded-lg border border-[#2a2a2a] bg-[#D4AF37] p-2 text-black transition hover:bg-[#ffd36a] disabled:opacity-50","aria-label":"Send message",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.6,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.27 3.13a59.7 59.7 0 0 1 18.22 8.87 59.7 59.7 0 0 1-18.22 8.88L6 12Zm0 0h7.5"})})})]})]})]})},W=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.6,className:"w-7 h-7",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.5 12.25a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Zm4 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Zm4 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Zm7 0c0 4.97-4.48 9-10 9a11.2 11.2 0 0 1-3.05-.43 7.3 7.3 0 0 1-2.6 1.02 7.7 7.7 0 0 1-1.2.12 5.9 5.9 0 0 0 1.2-2.8 2.1 2.1 0 0 0-.58-1.7C4.7 16.2 3.75 14.18 3.75 12c0-4.97 4.48-9 10-9s10 4.03 10 9Z"})}),R=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.6,className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),T=()=>{const[t,o]=n.useState(!1);return e.jsxs("div",{className:"fixed bottom-5 right-5 z-[1000]",children:[e.jsx("div",{className:`transition-all duration-300 ease-out ${t?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-4 scale-95 pointer-events-none"}`,children:e.jsx(M,{isOpen:t,onClose:()=>o(!1)})}),e.jsx("button",{onClick:()=>o(s=>!s),className:"group mt-3 flex h-14 w-14 items-center justify-center rounded-full border border-[#2b2b2b] bg-[#0f0f0f] text-white shadow-[0_14px_32px_rgba(0,0,0,0.45)] transition-all duration-200 ease-out hover:-translate-y-0.5 hover:border-[#D4AF37] hover:text-[#D4AF37] focus:outline-none focus:ring-2 focus:ring-[#D4AF37]/40","aria-label":t?"Close chat":"Open chat",children:t?e.jsx(R,{}):e.jsx(W,{})})]})};export{T as default};
